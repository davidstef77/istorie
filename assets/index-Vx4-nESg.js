function US(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function zS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tf={exports:{}},el={},nf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function BS(){if(rv)return Re;rv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,j={};function V(O,K,ge){this.props=O,this.context=K,this.refs=j,this.updater=ge||P}V.prototype.isReactComponent={},V.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=V.prototype;function X(O,K,ge){this.props=O,this.context=K,this.refs=j,this.updater=ge||P}var Q=X.prototype=new W;Q.constructor=X,F(Q,V.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,se=Object.prototype.hasOwnProperty,ce={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(O,K,ge){var Ce,Pe={},De=null,Ue=null;if(K!=null)for(Ce in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(De=""+K.key),K)se.call(K,Ce)&&!D.hasOwnProperty(Ce)&&(Pe[Ce]=K[Ce]);var ze=arguments.length-2;if(ze===1)Pe.children=ge;else if(1<ze){for(var qe=Array(ze),Tt=0;Tt<ze;Tt++)qe[Tt]=arguments[Tt+2];Pe.children=qe}if(O&&O.defaultProps)for(Ce in ze=O.defaultProps,ze)Pe[Ce]===void 0&&(Pe[Ce]=ze[Ce]);return{$$typeof:n,type:O,key:De,ref:Ue,props:Pe,_owner:ce.current}}function A(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return K[ge]})}var M=/\/+/g;function C(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Xe(O,K,ge,Ce,Pe){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=O,Pe=Pe(Ue),O=Ce===""?"."+C(Ue,0):Ce,ie(Pe)?(ge="",O!=null&&(ge=O.replace(M,"$&/")+"/"),Xe(Pe,K,ge,"",function(Tt){return Tt})):Pe!=null&&(b(Pe)&&(Pe=A(Pe,ge+(!Pe.key||Ue&&Ue.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+O)),K.push(Pe)),1;if(Ue=0,Ce=Ce===""?".":Ce+":",ie(O))for(var ze=0;ze<O.length;ze++){De=O[ze];var qe=Ce+C(De,ze);Ue+=Xe(De,K,ge,qe,Pe)}else if(qe=T(O),typeof qe=="function")for(O=qe.call(O),ze=0;!(De=O.next()).done;)De=De.value,qe=Ce+C(De,ze++),Ue+=Xe(De,K,ge,qe,Pe);else if(De==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Rt(O,K,ge){if(O==null)return O;var Ce=[],Pe=0;return Xe(O,Ce,"","",function(De){return K.call(ge,De,Pe++)}),Ce}function kt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ie={current:null},te={transition:null},me={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:ce};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Rt,forEach:function(O,K,ge){Rt(O,function(){K.apply(this,arguments)},ge)},count:function(O){var K=0;return Rt(O,function(){K++}),K},toArray:function(O){return Rt(O,function(K){return K})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=V,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=oe,Re.cloneElement=function(O,K,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ce=F({},O.props),Pe=O.key,De=O.ref,Ue=O._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Ue=ce.current),K.key!==void 0&&(Pe=""+K.key),O.type&&O.type.defaultProps)var ze=O.type.defaultProps;for(qe in K)se.call(K,qe)&&!D.hasOwnProperty(qe)&&(Ce[qe]=K[qe]===void 0&&ze!==void 0?ze[qe]:K[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=ge;else if(1<qe){ze=Array(qe);for(var Tt=0;Tt<qe;Tt++)ze[Tt]=arguments[Tt+2];Ce.children=ze}return{$$typeof:n,type:O.type,key:Pe,ref:De,props:Ce,_owner:Ue}},Re.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Re.createElement=I,Re.createFactory=function(O){var K=I.bind(null,O);return K.type=O,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=b,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:kt}},Re.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Re.startTransition=function(O){var K=te.transition;te.transition={};try{O()}finally{te.transition=K}},Re.unstable_act=oe,Re.useCallback=function(O,K){return Ie.current.useCallback(O,K)},Re.useContext=function(O){return Ie.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Ie.current.useDeferredValue(O)},Re.useEffect=function(O,K){return Ie.current.useEffect(O,K)},Re.useId=function(){return Ie.current.useId()},Re.useImperativeHandle=function(O,K,ge){return Ie.current.useImperativeHandle(O,K,ge)},Re.useInsertionEffect=function(O,K){return Ie.current.useInsertionEffect(O,K)},Re.useLayoutEffect=function(O,K){return Ie.current.useLayoutEffect(O,K)},Re.useMemo=function(O,K){return Ie.current.useMemo(O,K)},Re.useReducer=function(O,K,ge){return Ie.current.useReducer(O,K,ge)},Re.useRef=function(O){return Ie.current.useRef(O)},Re.useState=function(O){return Ie.current.useState(O)},Re.useSyncExternalStore=function(O,K,ge){return Ie.current.useSyncExternalStore(O,K,ge)},Re.useTransition=function(){return Ie.current.useTransition()},Re.version="18.3.1",Re}var iv;function Pp(){return iv||(iv=1,nf.exports=BS()),nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function $S(){if(sv)return el;sv=1;var n=Pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},T=null,P=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(P=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:P,props:w,_owner:o.current}}return el.Fragment=t,el.jsx=u,el.jsxs=u,el}var ov;function qS(){return ov||(ov=1,tf.exports=$S()),tf.exports}var R=qS(),H=Pp();const lr=zS(H),WS=US({__proto__:null,default:lr},[H]);var uc={},rf={exports:{}},an={},sf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function HS(){return av||(av=1,function(n){function e(te,me){var oe=te.length;te.push(me);e:for(;0<oe;){var O=oe-1>>>1,K=te[O];if(0<o(K,me))te[O]=me,te[oe]=K,oe=O;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var me=te[0],oe=te.pop();if(oe!==me){te[0]=oe;e:for(var O=0,K=te.length,ge=K>>>1;O<ge;){var Ce=2*(O+1)-1,Pe=te[Ce],De=Ce+1,Ue=te[De];if(0>o(Pe,oe))De<K&&0>o(Ue,Pe)?(te[O]=Ue,te[De]=oe,O=De):(te[O]=Pe,te[Ce]=oe,O=Ce);else if(De<K&&0>o(Ue,oe))te[O]=Ue,te[De]=oe,O=De;else break e}}return me}function o(te,me){var oe=te.sortIndex-me.sortIndex;return oe!==0?oe:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,T=3,P=!1,F=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(te){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=te)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function ie(te){if(j=!1,Q(te),!F)if(t(f)!==null)F=!0,kt(se);else{var me=t(m);me!==null&&Ie(ie,me.startTime-te)}}function se(te,me){F=!1,j&&(j=!1,W(I),I=-1),P=!0;var oe=T;try{for(Q(me),w=t(f);w!==null&&(!(w.expirationTime>me)||te&&!L());){var O=w.callback;if(typeof O=="function"){w.callback=null,T=w.priorityLevel;var K=O(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(f)&&r(f),Q(me)}else r(f);w=t(f)}if(w!==null)var ge=!0;else{var Ce=t(m);Ce!==null&&Ie(ie,Ce.startTime-me),ge=!1}return ge}finally{w=null,T=oe,P=!1}}var ce=!1,D=null,I=-1,A=5,b=-1;function L(){return!(n.unstable_now()-b<A)}function M(){if(D!==null){var te=n.unstable_now();b=te;var me=!0;try{me=D(!0,te)}finally{me?C():(ce=!1,D=null)}}else ce=!1}var C;if(typeof X=="function")C=function(){X(M)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Rt=Xe.port2;Xe.port1.onmessage=M,C=function(){Rt.postMessage(null)}}else C=function(){V(M,0)};function kt(te){D=te,ce||(ce=!0,C())}function Ie(te,me){I=V(function(){te(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){F||P||(F=!0,kt(se))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var oe=T;T=me;try{return te()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=T;T=te;try{return me()}finally{T=oe}},n.unstable_scheduleCallback=function(te,me,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,te={id:v++,callback:me,priorityLevel:te,startTime:oe,expirationTime:K,sortIndex:-1},oe>O?(te.sortIndex=oe,e(m,te),t(f)===null&&te===t(m)&&(j?(W(I),I=-1):j=!0,Ie(ie,oe-O))):(te.sortIndex=K,e(f,te),F||P||(F=!0,kt(se))),te},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(te){var me=T;return function(){var oe=T;T=me;try{return te.apply(this,arguments)}finally{T=oe}}}}(of)),of}var lv;function KS(){return lv||(lv=1,sf.exports=HS()),sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function GS(){if(uv)return an;uv=1;var n=Pp(),e=KS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function P(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function F(i,s,l,h){if(s===null||typeof s>"u"||P(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(i,s,l,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){V[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];V[s]=new j(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){V[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){V[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){V[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){V[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){V[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){V[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){V[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,X);V[s]=new j(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,X);V[s]=new j(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,X);V[s]=new j(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){V[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){V[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,s,l,h){var p=V.hasOwnProperty(s)?V[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,l,p,h)&&(l=null),h||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ce=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,O;function K(i){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+i}var ge=!1;function Ce(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,x=y.length-1;1<=E&&0<=x&&p[E]!==y[x];)x--;for(;1<=E&&0<=x;E--,x--)if(p[E]!==y[x]){if(E!==1||x!==1)do if(E--,x--,0>x||p[E]!==y[x]){var k=`
`+p[E].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=E&&0<=x);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function Pe(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case ce:return"Portal";case A:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case Xe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Rt:return s=i.displayName||null,s!==null?s:De(i.type)||"Memo";case kt:s=i._payload,i=i._init;try{return De(i(s))}catch{}}return null}function Ue(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(i){var s=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function mr(i){i._valueTracker||(i._valueTracker=Tt(i))}function ks(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Mi(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function bs(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=ze(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function oa(i,s){s=s.checked,s!=null&&Q(i,"checked",s,!1)}function aa(i,s){oa(i,s);var l=ze(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ds(i,s.type,l):s.hasOwnProperty("defaultValue")&&Ds(i,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Gl(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ds(i,s,l){(s!=="number"||Hr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var gr=Array.isArray;function yr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+ze(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function la(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ns(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(gr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:ze(l)}}function Vs(i,s){var l=ze(s.value),h=ze(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ua(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var vr,ca=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Kr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(i){ji.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Fi[s]=Fi[i]})});function ha(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Fi.hasOwnProperty(i)&&Fi[i]?(""+s).trim():s+"px"}function da(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ha(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var fa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(i,s){if(s){if(fa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ma(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Ls(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Os=null,_n=null,Xn=null;function Ms(i){if(i=ja(i)){if(typeof Os!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Iu(s),Os(i.stateNode,i.type,s))}}function Yn(i){_n?Xn?Xn.push(i):Xn=[i]:_n=i}function ga(){if(_n){var i=_n,s=Xn;if(Xn=_n=null,Ms(i),s)for(i=0;i<s.length;i++)Ms(s[i])}}function zi(i,s){return i(s)}function ya(){}var _r=!1;function va(i,s,l){if(_r)return i(s,l);_r=!0;try{return zi(i,s,l)}finally{_r=!1,(_n!==null||Xn!==null)&&(ya(),ga())}}function ot(i,s){var l=i.stateNode;if(l===null)return null;var h=Iu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Fs=!1;if(d)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Fs=!1}function Bi(i,s,l,h,p,y,E,x,k){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(J){this.onError(J)}}var $i=!1,js=null,Dn=!1,_a=null,Rh={onError:function(i){$i=!0,js=i}};function Us(i,s,l,h,p,y,E,x,k){$i=!1,js=null,Bi.apply(Rh,arguments)}function Ql(i,s,l,h,p,y,E,x,k){if(Us.apply(this,arguments),$i){if($i){var $=js;$i=!1,js=null}else throw Error(t(198));Dn||(Dn=!0,_a=$)}}function Nn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function qi(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Vn(i){if(Nn(i)!==i)throw Error(t(188))}function Xl(i){var s=i.alternate;if(!s){if(s=Nn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Vn(p),i;if(y===h)return Vn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,h=y;break}if(x===h){E=!0,h=p,l=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===l){E=!0,l=y,h=p;break}if(x===h){E=!0,h=y,l=p;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function wa(i){return i=Xl(i),i!==null?zs(i):null}function zs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=zs(i);if(s!==null)return s;i=i.sibling}return null}var Bs=e.unstable_scheduleCallback,Ea=e.unstable_cancelCallback,Yl=e.unstable_shouldYield,kh=e.unstable_requestPaint,We=e.unstable_now,Jl=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,Hi=null,un=null;function eu(i){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Hi,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:nu,Sa=Math.log,tu=Math.LN2;function nu(i){return i>>>=0,i===0?32:31-(Sa(i)/tu|0)|0}var $s=64,qs=4194304;function Qr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ki(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var x=E&~p;x!==0?h=Qr(x):(y&=E,y!==0&&(h=Qr(y)))}else E=l&~p,E!==0?h=Qr(E):y!==0&&(h=Qr(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(h&4&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Qt(s),p=1<<l,h|=i[l],s&=~p;return h}function bh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Qt(y),x=1<<E,k=p[E];k===-1?(!(x&l)||x&h)&&(p[E]=bh(x,s)):k<=s&&(i.expiredLanes|=x),y&=~x}}function cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gi(){var i=$s;return $s<<=1,!($s&4194240)&&($s=64),i}function Xr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Yr(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Qt(s),i[s]=l}function $e(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Qt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function Jr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Qt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var be=0;function Zr(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ru,Ws,iu,su,ou,Ia=!1,Jn=[],bt=null,Ln=null,On=null,ei=new Map,En=new Map,Zn=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(i,s){switch(i){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Zt(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ja(s),s!==null&&Ws(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Nh(i,s,l,h,p){switch(s){case"focusin":return bt=Zt(bt,i,s,l,h,p),!0;case"dragenter":return Ln=Zt(Ln,i,s,l,h,p),!0;case"mouseover":return On=Zt(On,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ei.set(y,Zt(ei.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,En.set(y,Zt(En.get(y)||null,i,s,l,h,p)),!0}return!1}function lu(i){var s=Zi(i.target);if(s!==null){var l=Nn(s);if(l!==null){if(s=l.tag,s===13){if(s=qi(l),s!==null){i.blockedOn=s,ou(i.priority,function(){iu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Er(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Hs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ui=h,l.target.dispatchEvent(h),Ui=null}else return s=ja(l),s!==null&&Ws(s),i.blockedOn=l,!1;s.shift()}return!0}function Qi(i,s,l){Er(i)&&l.delete(s)}function uu(){Ia=!1,bt!==null&&Er(bt)&&(bt=null),Ln!==null&&Er(Ln)&&(Ln=null),On!==null&&Er(On)&&(On=null),ei.forEach(Qi),En.forEach(Qi)}function Mn(i,s){i.blockedOn===s&&(i.blockedOn=null,Ia||(Ia=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function Fn(i){function s(p){return Mn(p,i)}if(0<Jn.length){Mn(Jn[0],i);for(var l=1;l<Jn.length;l++){var h=Jn[l];h.blockedOn===i&&(h.blockedOn=null)}}for(bt!==null&&Mn(bt,i),Ln!==null&&Mn(Ln,i),On!==null&&Mn(On,i),ei.forEach(s),En.forEach(s),l=0;l<Zn.length;l++)h=Zn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)lu(l),l.blockedOn===null&&Zn.shift()}var Tr=ie.ReactCurrentBatchConfig,ti=!0;function Ye(i,s,l,h){var p=be,y=Tr.transition;Tr.transition=null;try{be=1,xa(i,s,l,h)}finally{be=p,Tr.transition=y}}function Vh(i,s,l,h){var p=be,y=Tr.transition;Tr.transition=null;try{be=4,xa(i,s,l,h)}finally{be=p,Tr.transition=y}}function xa(i,s,l,h){if(ti){var p=Hs(i,s,l,h);if(p===null)Wh(i,s,h,Xi,l),au(i,h);else if(Nh(p,i,s,l,h))h.stopPropagation();else if(au(i,h),s&4&&-1<Dh.indexOf(i)){for(;p!==null;){var y=ja(p);if(y!==null&&ru(y),y=Hs(i,s,l,h),y===null&&Wh(i,s,h,Xi,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Wh(i,s,h,null,l)}}var Xi=null;function Hs(i,s,l,h){if(Xi=null,i=Ls(h),i=Zi(i),i!==null)if(s=Nn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=qi(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Xi=i,null}function Aa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case Wi:return 1;case Gr:return 4;case wn:case Ta:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var hn=null,Ks=null,en=null;function Ca(){if(en)return en;var i,s=Ks,l=s.length,h,p="value"in hn?hn.value:hn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var E=l-i;for(h=1;h<=E&&s[l-h]===p[y-h];h++);return en=p.slice(i,1<h?1-h:void 0)}function Gs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function er(){return!0}function Pa(){return!1}function Dt(i){function s(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:Pa,this.isPropagationStopped=Pa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Dt(jn),tr=oe({},jn,{view:0,detail:0}),Lh=Dt(tr),Xs,Sr,ni,Yi=oe({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ni&&(ni&&i.type==="mousemove"?(Xs=i.screenX-ni.screenX,Sr=i.screenY-ni.screenY):Sr=Xs=0,ni=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:Sr}}),Ys=Dt(Yi),Ra=oe({},Yi,{dataTransfer:0}),cu=Dt(Ra),Js=oe({},tr,{relatedTarget:0}),Zs=Dt(Js),hu=oe({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Dt(hu),du=oe({},jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fu=Dt(du),pu=oe({},jn,{data:0}),ka=Dt(pu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=mu[i])?!!s[i]:!1}function nr(){return gu}var c=oe({},tr,{key:function(i){if(i.key){var s=eo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Gs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(i){return i.type==="keypress"?Gs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Dt(c),_=oe({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Dt(_),U=oe({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),q=Dt(U),re=oe({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=Dt(re),vt=oe({},Yi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Dt(vt),St=[9,13,27,32],ht=d&&"CompositionEvent"in window,Tn=null;d&&"documentMode"in document&&(Tn=document.documentMode);var dn=d&&"TextEvent"in window&&!Tn,Ji=d&&(!ht||Tn&&8<Tn&&11>=Tn),to=" ",Ym=!1;function Jm(i,s){switch(i){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var no=!1;function FT(i,s){switch(i){case"compositionend":return Zm(s);case"keypress":return s.which!==32?null:(Ym=!0,to);case"textInput":return i=s.data,i===to&&Ym?null:i;default:return null}}function jT(i,s){if(no)return i==="compositionend"||!ht&&Jm(i,s)?(i=Ca(),en=Ks=hn=null,no=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!UT[i.type]:s==="textarea"}function tg(i,s,l,h){Yn(h),s=Eu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var ba=null,Da=null;function zT(i){_g(i,0)}function yu(i){var s=ao(i);if(ks(s))return i}function BT(i,s){if(i==="change")return s}var ng=!1;if(d){var Oh;if(d){var Mh="oninput"in document;if(!Mh){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),Mh=typeof rg.oninput=="function"}Oh=Mh}else Oh=!1;ng=Oh&&(!document.documentMode||9<document.documentMode)}function ig(){ba&&(ba.detachEvent("onpropertychange",sg),Da=ba=null)}function sg(i){if(i.propertyName==="value"&&yu(Da)){var s=[];tg(s,Da,i,Ls(i)),va(zT,s)}}function $T(i,s,l){i==="focusin"?(ig(),ba=s,Da=l,ba.attachEvent("onpropertychange",sg)):i==="focusout"&&ig()}function qT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yu(Da)}function WT(i,s){if(i==="click")return yu(s)}function HT(i,s){if(i==="input"||i==="change")return yu(s)}function KT(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Un=typeof Object.is=="function"?Object.is:KT;function Na(i,s){if(Un(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Un(i[p],s[p]))return!1}return!0}function og(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ag(i,s){var l=og(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=og(l)}}function lg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?lg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ug(){for(var i=window,s=Hr();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Hr(i.document)}return s}function Fh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function GT(i){var s=ug(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&lg(l.ownerDocument.documentElement,l)){if(h!==null&&Fh(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=ag(l,y);var E=ag(l,h);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var QT=d&&"documentMode"in document&&11>=document.documentMode,ro=null,jh=null,Va=null,Uh=!1;function cg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uh||ro==null||ro!==Hr(h)||(h=ro,"selectionStart"in h&&Fh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Va&&Na(Va,h)||(Va=h,h=Eu(jh,"onSelect"),0<h.length&&(s=new Qs("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=ro)))}function vu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var io={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},zh={},hg={};d&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function _u(i){if(zh[i])return zh[i];if(!io[i])return i;var s=io[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in hg)return zh[i]=s[l];return i}var dg=_u("animationend"),fg=_u("animationiteration"),pg=_u("animationstart"),mg=_u("transitionend"),gg=new Map,yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(i,s){gg.set(i,s),a(s,[i])}for(var Bh=0;Bh<yg.length;Bh++){var $h=yg[Bh],XT=$h.toLowerCase(),YT=$h[0].toUpperCase()+$h.slice(1);ri(XT,"on"+YT)}ri(dg,"onAnimationEnd"),ri(fg,"onAnimationIteration"),ri(pg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(mg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function vg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,Ql(h,s,void 0,i),i.currentTarget=null}function _g(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var x=h[E],k=x.instance,$=x.currentTarget;if(x=x.listener,k!==y&&p.isPropagationStopped())break e;vg(p,x,$),y=k}else for(E=0;E<h.length;E++){if(x=h[E],k=x.instance,$=x.currentTarget,x=x.listener,k!==y&&p.isPropagationStopped())break e;vg(p,x,$),y=k}}}if(Dn)throw i=_a,Dn=!1,_a=null,i}function Ke(i,s){var l=s[Yh];l===void 0&&(l=s[Yh]=new Set);var h=i+"__bubble";l.has(h)||(wg(s,i,2,!1),l.add(h))}function qh(i,s,l){var h=0;s&&(h|=4),wg(l,i,h,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Oa(i){if(!i[wu]){i[wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(JT.has(l)||qh(l,!1,i),qh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wu]||(s[wu]=!0,qh("selectionchange",!1,s))}}function wg(i,s,l,h){switch(Aa(s)){case 1:var p=Ye;break;case 4:p=Vh;break;default:p=xa}l=p.bind(null,s,l,i),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Wh(i,s,l,h,p){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var x=h.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;E=E.return}for(;x!==null;){if(E=Zi(x),E===null)return;if(k=E.tag,k===5||k===6){h=y=E;continue e}x=x.parentNode}}h=h.return}va(function(){var $=y,J=Ls(l),Z=[];e:{var Y=gg.get(i);if(Y!==void 0){var ae=Qs,he=i;switch(i){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":ae=g;break;case"focusin":he="focus",ae=Zs;break;case"focusout":he="blur",ae=Zs;break;case"beforeblur":case"afterblur":ae=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=q;break;case dg:case fg:case pg:ae=Ir;break;case mg:ae=Be;break;case"scroll":ae=Lh;break;case"wheel":ae=Ne;break;case"copy":case"cut":case"paste":ae=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var de=(s&4)!==0,at=!de&&i==="scroll",z=de?Y!==null?Y+"Capture":null:Y;de=[];for(var N=$,B;N!==null;){B=N;var ee=B.stateNode;if(B.tag===5&&ee!==null&&(B=ee,z!==null&&(ee=ot(N,z),ee!=null&&de.push(Ma(N,ee,B)))),at)break;N=N.return}0<de.length&&(Y=new ae(Y,he,null,l,J),Z.push({event:Y,listeners:de}))}}if(!(s&7)){e:{if(Y=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",Y&&l!==Ui&&(he=l.relatedTarget||l.fromElement)&&(Zi(he)||he[xr]))break e;if((ae||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=$,he=he?Zi(he):null,he!==null&&(at=Nn(he),he!==at||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(de=Ys,ee="onMouseLeave",z="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(de=S,ee="onPointerLeave",z="onPointerEnter",N="pointer"),at=ae==null?Y:ao(ae),B=he==null?Y:ao(he),Y=new de(ee,N+"leave",ae,l,J),Y.target=at,Y.relatedTarget=B,ee=null,Zi(J)===$&&(de=new de(z,N+"enter",he,l,J),de.target=B,de.relatedTarget=at,ee=de),at=ee,ae&&he)t:{for(de=ae,z=he,N=0,B=de;B;B=so(B))N++;for(B=0,ee=z;ee;ee=so(ee))B++;for(;0<N-B;)de=so(de),N--;for(;0<B-N;)z=so(z),B--;for(;N--;){if(de===z||z!==null&&de===z.alternate)break t;de=so(de),z=so(z)}de=null}else de=null;ae!==null&&Eg(Z,Y,ae,de,!1),he!==null&&at!==null&&Eg(Z,at,he,de,!0)}}e:{if(Y=$?ao($):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var fe=BT;else if(eg(Y))if(ng)fe=HT;else{fe=qT;var ye=$T}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=WT);if(fe&&(fe=fe(i,$))){tg(Z,fe,l,J);break e}ye&&ye(i,Y,$),i==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&Ds(Y,"number",Y.value)}switch(ye=$?ao($):window,i){case"focusin":(eg(ye)||ye.contentEditable==="true")&&(ro=ye,jh=$,Va=null);break;case"focusout":Va=jh=ro=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,cg(Z,l,J);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":cg(Z,l,J)}var ve;if(ht)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else no?Jm(i,l)&&(Ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ji&&l.locale!=="ko"&&(no||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&no&&(ve=Ca()):(hn=J,Ks="value"in hn?hn.value:hn.textContent,no=!0)),ye=Eu($,Ee),0<ye.length&&(Ee=new ka(Ee,i,null,l,J),Z.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Zm(l),ve!==null&&(Ee.data=ve)))),(ve=dn?FT(i,l):jT(i,l))&&($=Eu($,"onBeforeInput"),0<$.length&&(J=new ka("onBeforeInput","beforeinput",null,l,J),Z.push({event:J,listeners:$}),J.data=ve))}_g(Z,s)})}function Ma(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Eu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ot(i,l),y!=null&&h.unshift(Ma(i,y,p)),y=ot(i,s),y!=null&&h.push(Ma(i,y,p))),i=i.return}return h}function so(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Eg(i,s,l,h,p){for(var y=s._reactName,E=[];l!==null&&l!==h;){var x=l,k=x.alternate,$=x.stateNode;if(k!==null&&k===h)break;x.tag===5&&$!==null&&(x=$,p?(k=ot(l,y),k!=null&&E.unshift(Ma(l,k,x))):p||(k=ot(l,y),k!=null&&E.push(Ma(l,k,x)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var ZT=/\r\n?/g,eS=/\u0000|\uFFFD/g;function Tg(i){return(typeof i=="string"?i:""+i).replace(ZT,`
`).replace(eS,"")}function Tu(i,s,l){if(s=Tg(s),Tg(i)!==s&&l)throw Error(t(425))}function Su(){}var Hh=null,Kh=null;function Gh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(i){return Sg.resolve(null).then(i).catch(rS)}:Qh;function rS(i){setTimeout(function(){throw i})}function Xh(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Fn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Fn(s)}function ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Ig(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var oo=Math.random().toString(36).slice(2),rr="__reactFiber$"+oo,Fa="__reactProps$"+oo,xr="__reactContainer$"+oo,Yh="__reactEvents$"+oo,iS="__reactListeners$"+oo,sS="__reactHandles$"+oo;function Zi(i){var s=i[rr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[xr]||l[rr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ig(i);i!==null;){if(l=i[rr])return l;i=Ig(i)}return s}i=l,l=i.parentNode}return null}function ja(i){return i=i[rr]||i[xr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Iu(i){return i[Fa]||null}var Jh=[],lo=-1;function si(i){return{current:i}}function Ge(i){0>lo||(i.current=Jh[lo],Jh[lo]=null,lo--)}function He(i,s){lo++,Jh[lo]=i.current,i.current=s}var oi={},Ft=si(oi),tn=si(!1),es=oi;function uo(i,s){var l=i.type.contextTypes;if(!l)return oi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function nn(i){return i=i.childContextTypes,i!=null}function xu(){Ge(tn),Ge(Ft)}function xg(i,s,l){if(Ft.current!==oi)throw Error(t(168));He(Ft,s),He(tn,l)}function Ag(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ue(i)||"Unknown",p));return oe({},l,h)}function Au(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||oi,es=Ft.current,He(Ft,i),He(tn,tn.current),!0}function Cg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Ag(i,s,es),h.__reactInternalMemoizedMergedChildContext=i,Ge(tn),Ge(Ft),He(Ft,i)):Ge(tn),He(tn,l)}var Ar=null,Cu=!1,Zh=!1;function Pg(i){Ar===null?Ar=[i]:Ar.push(i)}function oS(i){Cu=!0,Pg(i)}function ai(){if(!Zh&&Ar!==null){Zh=!0;var i=0,s=be;try{var l=Ar;for(be=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Ar=null,Cu=!1}catch(p){throw Ar!==null&&(Ar=Ar.slice(i+1)),Bs(Wi,ai),p}finally{be=s,Zh=!1}}return null}var co=[],ho=0,Pu=null,Ru=0,Sn=[],In=0,ts=null,Cr=1,Pr="";function ns(i,s){co[ho++]=Ru,co[ho++]=Pu,Pu=i,Ru=s}function Rg(i,s,l){Sn[In++]=Cr,Sn[In++]=Pr,Sn[In++]=ts,ts=i;var h=Cr;i=Pr;var p=32-Qt(h)-1;h&=~(1<<p),l+=1;var y=32-Qt(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Cr=1<<32-Qt(s)+p|l<<p|h,Pr=y+i}else Cr=1<<y|l<<p|h,Pr=i}function ed(i){i.return!==null&&(ns(i,1),Rg(i,1,0))}function td(i){for(;i===Pu;)Pu=co[--ho],co[ho]=null,Ru=co[--ho],co[ho]=null;for(;i===ts;)ts=Sn[--In],Sn[In]=null,Pr=Sn[--In],Sn[In]=null,Cr=Sn[--In],Sn[In]=null}var fn=null,pn=null,Je=!1,zn=null;function kg(i,s){var l=Pn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function bg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,fn=i,pn=ii(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,fn=i,pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ts!==null?{id:Cr,overflow:Pr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Pn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,fn=i,pn=null,!0):!1;default:return!1}}function nd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rd(i){if(Je){var s=pn;if(s){var l=s;if(!bg(i,s)){if(nd(i))throw Error(t(418));s=ii(l.nextSibling);var h=fn;s&&bg(i,s)?kg(h,l):(i.flags=i.flags&-4097|2,Je=!1,fn=i)}}else{if(nd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Je=!1,fn=i}}}function Dg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fn=i}function ku(i){if(i!==fn)return!1;if(!Je)return Dg(i),Je=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Gh(i.type,i.memoizedProps)),s&&(s=pn)){if(nd(i))throw Ng(),Error(t(418));for(;s;)kg(i,s),s=ii(s.nextSibling)}if(Dg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){pn=ii(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}pn=null}}else pn=fn?ii(i.stateNode.nextSibling):null;return!0}function Ng(){for(var i=pn;i;)i=ii(i.nextSibling)}function fo(){pn=fn=null,Je=!1}function id(i){zn===null?zn=[i]:zn.push(i)}var aS=ie.ReactCurrentBatchConfig;function Ua(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var x=p.refs;E===null?delete x[y]:x[y]=E},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function bu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Vg(i){var s=i._init;return s(i._payload)}function Lg(i){function s(z,N){if(i){var B=z.deletions;B===null?(z.deletions=[N],z.flags|=16):B.push(N)}}function l(z,N){if(!i)return null;for(;N!==null;)s(z,N),N=N.sibling;return null}function h(z,N){for(z=new Map;N!==null;)N.key!==null?z.set(N.key,N):z.set(N.index,N),N=N.sibling;return z}function p(z,N){return z=mi(z,N),z.index=0,z.sibling=null,z}function y(z,N,B){return z.index=B,i?(B=z.alternate,B!==null?(B=B.index,B<N?(z.flags|=2,N):B):(z.flags|=2,N)):(z.flags|=1048576,N)}function E(z){return i&&z.alternate===null&&(z.flags|=2),z}function x(z,N,B,ee){return N===null||N.tag!==6?(N=Qd(B,z.mode,ee),N.return=z,N):(N=p(N,B),N.return=z,N)}function k(z,N,B,ee){var fe=B.type;return fe===D?J(z,N,B.props.children,ee,B.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&Vg(fe)===N.type)?(ee=p(N,B.props),ee.ref=Ua(z,N,B),ee.return=z,ee):(ee=tc(B.type,B.key,B.props,null,z.mode,ee),ee.ref=Ua(z,N,B),ee.return=z,ee)}function $(z,N,B,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Xd(B,z.mode,ee),N.return=z,N):(N=p(N,B.children||[]),N.return=z,N)}function J(z,N,B,ee,fe){return N===null||N.tag!==7?(N=cs(B,z.mode,ee,fe),N.return=z,N):(N=p(N,B),N.return=z,N)}function Z(z,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Qd(""+N,z.mode,B),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case se:return B=tc(N.type,N.key,N.props,null,z.mode,B),B.ref=Ua(z,null,N),B.return=z,B;case ce:return N=Xd(N,z.mode,B),N.return=z,N;case kt:var ee=N._init;return Z(z,ee(N._payload),B)}if(gr(N)||me(N))return N=cs(N,z.mode,B,null),N.return=z,N;bu(z,N)}return null}function Y(z,N,B,ee){var fe=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:x(z,N,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case se:return B.key===fe?k(z,N,B,ee):null;case ce:return B.key===fe?$(z,N,B,ee):null;case kt:return fe=B._init,Y(z,N,fe(B._payload),ee)}if(gr(B)||me(B))return fe!==null?null:J(z,N,B,ee,null);bu(z,B)}return null}function ae(z,N,B,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return z=z.get(B)||null,x(N,z,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case se:return z=z.get(ee.key===null?B:ee.key)||null,k(N,z,ee,fe);case ce:return z=z.get(ee.key===null?B:ee.key)||null,$(N,z,ee,fe);case kt:var ye=ee._init;return ae(z,N,B,ye(ee._payload),fe)}if(gr(ee)||me(ee))return z=z.get(B)||null,J(N,z,ee,fe,null);bu(N,ee)}return null}function he(z,N,B,ee){for(var fe=null,ye=null,ve=N,Ee=N=0,At=null;ve!==null&&Ee<B.length;Ee++){ve.index>Ee?(At=ve,ve=null):At=ve.sibling;var je=Y(z,ve,B[Ee],ee);if(je===null){ve===null&&(ve=At);break}i&&ve&&je.alternate===null&&s(z,ve),N=y(je,N,Ee),ye===null?fe=je:ye.sibling=je,ye=je,ve=At}if(Ee===B.length)return l(z,ve),Je&&ns(z,Ee),fe;if(ve===null){for(;Ee<B.length;Ee++)ve=Z(z,B[Ee],ee),ve!==null&&(N=y(ve,N,Ee),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Je&&ns(z,Ee),fe}for(ve=h(z,ve);Ee<B.length;Ee++)At=ae(ve,z,Ee,B[Ee],ee),At!==null&&(i&&At.alternate!==null&&ve.delete(At.key===null?Ee:At.key),N=y(At,N,Ee),ye===null?fe=At:ye.sibling=At,ye=At);return i&&ve.forEach(function(gi){return s(z,gi)}),Je&&ns(z,Ee),fe}function de(z,N,B,ee){var fe=me(B);if(typeof fe!="function")throw Error(t(150));if(B=fe.call(B),B==null)throw Error(t(151));for(var ye=fe=null,ve=N,Ee=N=0,At=null,je=B.next();ve!==null&&!je.done;Ee++,je=B.next()){ve.index>Ee?(At=ve,ve=null):At=ve.sibling;var gi=Y(z,ve,je.value,ee);if(gi===null){ve===null&&(ve=At);break}i&&ve&&gi.alternate===null&&s(z,ve),N=y(gi,N,Ee),ye===null?fe=gi:ye.sibling=gi,ye=gi,ve=At}if(je.done)return l(z,ve),Je&&ns(z,Ee),fe;if(ve===null){for(;!je.done;Ee++,je=B.next())je=Z(z,je.value,ee),je!==null&&(N=y(je,N,Ee),ye===null?fe=je:ye.sibling=je,ye=je);return Je&&ns(z,Ee),fe}for(ve=h(z,ve);!je.done;Ee++,je=B.next())je=ae(ve,z,Ee,je.value,ee),je!==null&&(i&&je.alternate!==null&&ve.delete(je.key===null?Ee:je.key),N=y(je,N,Ee),ye===null?fe=je:ye.sibling=je,ye=je);return i&&ve.forEach(function(jS){return s(z,jS)}),Je&&ns(z,Ee),fe}function at(z,N,B,ee){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case se:e:{for(var fe=B.key,ye=N;ye!==null;){if(ye.key===fe){if(fe=B.type,fe===D){if(ye.tag===7){l(z,ye.sibling),N=p(ye,B.props.children),N.return=z,z=N;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&Vg(fe)===ye.type){l(z,ye.sibling),N=p(ye,B.props),N.ref=Ua(z,ye,B),N.return=z,z=N;break e}l(z,ye);break}else s(z,ye);ye=ye.sibling}B.type===D?(N=cs(B.props.children,z.mode,ee,B.key),N.return=z,z=N):(ee=tc(B.type,B.key,B.props,null,z.mode,ee),ee.ref=Ua(z,N,B),ee.return=z,z=ee)}return E(z);case ce:e:{for(ye=B.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){l(z,N.sibling),N=p(N,B.children||[]),N.return=z,z=N;break e}else{l(z,N);break}else s(z,N);N=N.sibling}N=Xd(B,z.mode,ee),N.return=z,z=N}return E(z);case kt:return ye=B._init,at(z,N,ye(B._payload),ee)}if(gr(B))return he(z,N,B,ee);if(me(B))return de(z,N,B,ee);bu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,N!==null&&N.tag===6?(l(z,N.sibling),N=p(N,B),N.return=z,z=N):(l(z,N),N=Qd(B,z.mode,ee),N.return=z,z=N),E(z)):l(z,N)}return at}var po=Lg(!0),Og=Lg(!1),Du=si(null),Nu=null,mo=null,sd=null;function od(){sd=mo=Nu=null}function ad(i){var s=Du.current;Ge(Du),i._currentValue=s}function ld(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function go(i,s){Nu=i,sd=mo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(rn=!0),i.firstContext=null)}function xn(i){var s=i._currentValue;if(sd!==i)if(i={context:i,memoizedValue:s,next:null},mo===null){if(Nu===null)throw Error(t(308));mo=i,Nu.dependencies={lanes:0,firstContext:i}}else mo=mo.next=i;return s}var rs=null;function ud(i){rs===null?rs=[i]:rs.push(i)}function Mg(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,ud(s)):(l.next=p.next,p.next=l),s.interleaved=l,Rr(i,h)}function Rr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var li=!1;function cd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function kr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Me&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Rr(i,l)}return p=h.interleaved,p===null?(s.next=s,ud(h)):(s.next=p.next,p.next=s),h.interleaved=s,Rr(i,l)}function Vu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Jr(i,l)}}function jg(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Lu(i,s,l,h){var p=i.updateQueue;li=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var k=x,$=k.next;k.next=null,E===null?y=$:E.next=$,E=k;var J=i.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==E&&(x===null?J.firstBaseUpdate=$:x.next=$,J.lastBaseUpdate=k))}if(y!==null){var Z=p.baseState;E=0,J=$=k=null,x=y;do{var Y=x.lane,ae=x.eventTime;if((h&Y)===Y){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var he=i,de=x;switch(Y=s,ae=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){Z=he.call(ae,Z,Y);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Y=typeof he=="function"?he.call(ae,Z,Y):he,Y==null)break e;Z=oe({},Z,Y);break e;case 2:li=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,Y=p.effects,Y===null?p.effects=[x]:Y.push(x))}else ae={eventTime:ae,lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?($=J=ae,k=Z):J=J.next=ae,E|=Y;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(J===null&&(k=Z),p.baseState=k,p.firstBaseUpdate=$,p.lastBaseUpdate=J,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);os|=E,i.lanes=E,i.memoizedState=Z}}function Ug(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var za={},ir=si(za),Ba=si(za),$a=si(za);function is(i){if(i===za)throw Error(t(174));return i}function hd(i,s){switch(He($a,s),He(Ba,i),He(ir,za),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=yt(s,i)}Ge(ir),He(ir,s)}function yo(){Ge(ir),Ge(Ba),Ge($a)}function zg(i){is($a.current);var s=is(ir.current),l=yt(s,i.type);s!==l&&(He(Ba,i),He(ir,l))}function dd(i){Ba.current===i&&(Ge(ir),Ge(Ba))}var Ze=si(0);function Ou(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fd=[];function pd(){for(var i=0;i<fd.length;i++)fd[i]._workInProgressVersionPrimary=null;fd.length=0}var Mu=ie.ReactCurrentDispatcher,md=ie.ReactCurrentBatchConfig,ss=0,et=null,_t=null,It=null,Fu=!1,qa=!1,Wa=0,lS=0;function jt(){throw Error(t(321))}function gd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Un(i[l],s[l]))return!1;return!0}function yd(i,s,l,h,p,y){if(ss=y,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mu.current=i===null||i.memoizedState===null?dS:fS,i=l(h,p),qa){y=0;do{if(qa=!1,Wa=0,25<=y)throw Error(t(301));y+=1,It=_t=null,s.updateQueue=null,Mu.current=pS,i=l(h,p)}while(qa)}if(Mu.current=zu,s=_t!==null&&_t.next!==null,ss=0,It=_t=et=null,Fu=!1,s)throw Error(t(300));return i}function vd(){var i=Wa!==0;return Wa=0,i}function sr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?et.memoizedState=It=i:It=It.next=i,It}function An(){if(_t===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=It===null?et.memoizedState:It.next;if(s!==null)It=s,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?et.memoizedState=It=i:It=It.next=i}return It}function Ha(i,s){return typeof s=="function"?s(i):s}function _d(i){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=_t,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var x=E=null,k=null,$=y;do{var J=$.lane;if((ss&J)===J)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var Z={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(x=k=Z,E=h):k=k.next=Z,et.lanes|=J,os|=J}$=$.next}while($!==null&&$!==y);k===null?E=h:k.next=x,Un(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,et.lanes|=y,os|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function wd(i){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);Un(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Bg(){}function $g(i,s){var l=et,h=An(),p=s(),y=!Un(h.memoizedState,p);if(y&&(h.memoizedState=p,rn=!0),h=h.queue,Ed(Hg.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Wg.bind(null,l,h,p,s),void 0,null),xt===null)throw Error(t(349));ss&30||qg(l,s,p)}return p}function qg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Wg(i,s,l,h){s.value=l,s.getSnapshot=h,Kg(s)&&Gg(i)}function Hg(i,s,l){return l(function(){Kg(s)&&Gg(i)})}function Kg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Un(i,l)}catch{return!0}}function Gg(i){var s=Rr(i,1);s!==null&&Wn(s,i,1,-1)}function Qg(i){var s=sr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:i},s.queue=i,i=i.dispatch=hS.bind(null,et,i),[s.memoizedState,i]}function Ka(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Xg(){return An().memoizedState}function ju(i,s,l,h){var p=sr();et.flags|=i,p.memoizedState=Ka(1|s,l,void 0,h===void 0?null:h)}function Uu(i,s,l,h){var p=An();h=h===void 0?null:h;var y=void 0;if(_t!==null){var E=_t.memoizedState;if(y=E.destroy,h!==null&&gd(h,E.deps)){p.memoizedState=Ka(s,l,y,h);return}}et.flags|=i,p.memoizedState=Ka(1|s,l,y,h)}function Yg(i,s){return ju(8390656,8,i,s)}function Ed(i,s){return Uu(2048,8,i,s)}function Jg(i,s){return Uu(4,2,i,s)}function Zg(i,s){return Uu(4,4,i,s)}function ey(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ty(i,s,l){return l=l!=null?l.concat([i]):null,Uu(4,4,ey.bind(null,s,i),l)}function Td(){}function ny(i,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&gd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function ry(i,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&gd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function iy(i,s,l){return ss&21?(Un(l,s)||(l=Gi(),et.lanes|=l,os|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,rn=!0),i.memoizedState=l)}function uS(i,s){var l=be;be=l!==0&&4>l?l:4,i(!0);var h=md.transition;md.transition={};try{i(!1),s()}finally{be=l,md.transition=h}}function sy(){return An().memoizedState}function cS(i,s,l){var h=fi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},oy(i))ay(s,l);else if(l=Mg(i,s,l,h),l!==null){var p=Jt();Wn(l,i,h,p),ly(l,s,h)}}function hS(i,s,l){var h=fi(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(oy(i))ay(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,x=y(E,l);if(p.hasEagerState=!0,p.eagerState=x,Un(x,E)){var k=s.interleaved;k===null?(p.next=p,ud(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}l=Mg(i,s,p,h),l!==null&&(p=Jt(),Wn(l,i,h,p),ly(l,s,h))}}function oy(i){var s=i.alternate;return i===et||s!==null&&s===et}function ay(i,s){qa=Fu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ly(i,s,l){if(l&4194240){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Jr(i,l)}}var zu={readContext:xn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},dS={readContext:xn,useCallback:function(i,s){return sr().memoizedState=[i,s===void 0?null:s],i},useContext:xn,useEffect:Yg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,ju(4194308,4,ey.bind(null,s,i),l)},useLayoutEffect:function(i,s){return ju(4194308,4,i,s)},useInsertionEffect:function(i,s){return ju(4,2,i,s)},useMemo:function(i,s){var l=sr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=sr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=cS.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var s=sr();return i={current:i},s.memoizedState=i},useState:Qg,useDebugValue:Td,useDeferredValue:function(i){return sr().memoizedState=i},useTransition:function(){var i=Qg(!1),s=i[0];return i=uS.bind(null,i[1]),sr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=et,p=sr();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),xt===null)throw Error(t(349));ss&30||qg(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Yg(Hg.bind(null,h,y,i),[i]),h.flags|=2048,Ka(9,Wg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=sr(),s=xt.identifierPrefix;if(Je){var l=Pr,h=Cr;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Wa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=lS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},fS={readContext:xn,useCallback:ny,useContext:xn,useEffect:Ed,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:_d,useRef:Xg,useState:function(){return _d(Ha)},useDebugValue:Td,useDeferredValue:function(i){var s=An();return iy(s,_t.memoizedState,i)},useTransition:function(){var i=_d(Ha)[0],s=An().memoizedState;return[i,s]},useMutableSource:Bg,useSyncExternalStore:$g,useId:sy,unstable_isNewReconciler:!1},pS={readContext:xn,useCallback:ny,useContext:xn,useEffect:Ed,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:wd,useRef:Xg,useState:function(){return wd(Ha)},useDebugValue:Td,useDeferredValue:function(i){var s=An();return _t===null?s.memoizedState=i:iy(s,_t.memoizedState,i)},useTransition:function(){var i=wd(Ha)[0],s=An().memoizedState;return[i,s]},useMutableSource:Bg,useSyncExternalStore:$g,useId:sy,unstable_isNewReconciler:!1};function Bn(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Sd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bu={isMounted:function(i){return(i=i._reactInternals)?Nn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Jt(),p=fi(i),y=kr(h,p);y.payload=s,l!=null&&(y.callback=l),s=ui(i,y,p),s!==null&&(Wn(s,i,p,h),Vu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Jt(),p=fi(i),y=kr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ui(i,y,p),s!==null&&(Wn(s,i,p,h),Vu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Jt(),h=fi(i),p=kr(l,h);p.tag=2,s!=null&&(p.callback=s),s=ui(i,p,h),s!==null&&(Wn(s,i,h,l),Vu(s,i,h))}};function uy(i,s,l,h,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Na(l,h)||!Na(p,y):!0}function cy(i,s,l){var h=!1,p=oi,y=s.contextType;return typeof y=="object"&&y!==null?y=xn(y):(p=nn(s)?es:Ft.current,h=s.contextTypes,y=(h=h!=null)?uo(i,p):oi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function hy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Bu.enqueueReplaceState(s,s.state,null)}function Id(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},cd(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=xn(y):(y=nn(s)?es:Ft.current,p.context=uo(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Sd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Bu.enqueueReplaceState(p,p.state,null),Lu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function vo(i,s){try{var l="",h=s;do l+=Pe(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function xd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Ad(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var mS=typeof WeakMap=="function"?WeakMap:Map;function dy(i,s,l){l=kr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Qu||(Qu=!0,zd=h),Ad(i,s)},l}function fy(i,s,l){l=kr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Ad(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ad(i,s),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function py(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new mS;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=RS.bind(null,i,s,l),s.then(i,i))}function my(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function gy(i,s,l,h,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=kr(-1,1),s.tag=2,ui(l,s,1))),l.lanes|=1),i)}var gS=ie.ReactCurrentOwner,rn=!1;function Yt(i,s,l,h){s.child=i===null?Og(s,null,l,h):po(s,i.child,l,h)}function yy(i,s,l,h,p){l=l.render;var y=s.ref;return go(s,p),h=yd(i,s,l,h,y,p),l=vd(),i!==null&&!rn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,br(i,s,p)):(Je&&l&&ed(s),s.flags|=1,Yt(i,s,h,p),s.child)}function vy(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!Gd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,_y(i,s,y,h,p)):(i=tc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!(i.lanes&p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(E,h)&&i.ref===s.ref)return br(i,s,p)}return s.flags|=1,i=mi(y,h),i.ref=s.ref,i.return=s,s.child=i}function _y(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(Na(y,h)&&i.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(i.lanes&p)!==0)i.flags&131072&&(rn=!0);else return s.lanes=i.lanes,br(i,s,p)}return Cd(i,s,l,h,p)}function wy(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(wo,mn),mn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,He(wo,mn),mn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,He(wo,mn),mn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,He(wo,mn),mn|=h;return Yt(i,s,p,l),s.child}function Ey(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Cd(i,s,l,h,p){var y=nn(l)?es:Ft.current;return y=uo(s,y),go(s,p),l=yd(i,s,l,h,y,p),h=vd(),i!==null&&!rn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,br(i,s,p)):(Je&&h&&ed(s),s.flags|=1,Yt(i,s,l,p),s.child)}function Ty(i,s,l,h,p){if(nn(l)){var y=!0;Au(s)}else y=!1;if(go(s,p),s.stateNode===null)qu(i,s),cy(s,l,h),Id(s,l,h,p),h=!0;else if(i===null){var E=s.stateNode,x=s.memoizedProps;E.props=x;var k=E.context,$=l.contextType;typeof $=="object"&&$!==null?$=xn($):($=nn(l)?es:Ft.current,$=uo(s,$));var J=l.getDerivedStateFromProps,Z=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==h||k!==$)&&hy(s,E,h,$),li=!1;var Y=s.memoizedState;E.state=Y,Lu(s,h,E,p),k=s.memoizedState,x!==h||Y!==k||tn.current||li?(typeof J=="function"&&(Sd(s,l,J,h),k=s.memoizedState),(x=li||uy(s,l,x,h,Y,k,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=$,h=x):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Fg(i,s),x=s.memoizedProps,$=s.type===s.elementType?x:Bn(s.type,x),E.props=$,Z=s.pendingProps,Y=E.context,k=l.contextType,typeof k=="object"&&k!==null?k=xn(k):(k=nn(l)?es:Ft.current,k=uo(s,k));var ae=l.getDerivedStateFromProps;(J=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==Z||Y!==k)&&hy(s,E,h,k),li=!1,Y=s.memoizedState,E.state=Y,Lu(s,h,E,p);var he=s.memoizedState;x!==Z||Y!==he||tn.current||li?(typeof ae=="function"&&(Sd(s,l,ae,h),he=s.memoizedState),($=li||uy(s,l,$,h,Y,he,k)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=k,h=$):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),h=!1)}return Pd(i,s,l,h,y,p)}function Pd(i,s,l,h,p,y){Ey(i,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&Cg(s,l,!1),br(i,s,y);h=s.stateNode,gS.current=s;var x=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&E?(s.child=po(s,i.child,null,y),s.child=po(s,null,x,y)):Yt(i,s,x,y),s.memoizedState=h.state,p&&Cg(s,l,!0),s.child}function Sy(i){var s=i.stateNode;s.pendingContext?xg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&xg(i,s.context,!1),hd(i,s.containerInfo)}function Iy(i,s,l,h,p){return fo(),id(p),s.flags|=256,Yt(i,s,l,h),s.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function kd(i){return{baseLanes:i,cachePool:null,transitions:null}}function xy(i,s,l){var h=s.pendingProps,p=Ze.current,y=!1,E=(s.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(p&2)!==0),x?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),He(Ze,p&1),i===null)return rd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,i=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=nc(E,h,0,null),i=cs(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=kd(l),s.memoizedState=Rd,i):bd(s,E));if(p=i.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return yS(i,s,E,h,x,p,l);if(y){y=h.fallback,E=s.mode,p=i.child,x=p.sibling;var k={mode:"hidden",children:h.children};return!(E&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=mi(p,k),h.subtreeFlags=p.subtreeFlags&14680064),x!==null?y=mi(x,y):(y=cs(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=i.child.memoizedState,E=E===null?kd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,s.memoizedState=Rd,h}return y=i.child,i=y.sibling,h=mi(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function bd(i,s){return s=nc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function $u(i,s,l,h){return h!==null&&id(h),po(s,i.child,null,l),i=bd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function yS(i,s,l,h,p,y,E){if(l)return s.flags&256?(s.flags&=-257,h=xd(Error(t(422))),$u(i,s,E,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=nc({mode:"visible",children:h.children},p,0,null),y=cs(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&po(s,i.child,null,E),s.child.memoizedState=kd(E),s.memoizedState=Rd,y);if(!(s.mode&1))return $u(i,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=xd(y,h,void 0),$u(i,s,E,h)}if(x=(E&i.childLanes)!==0,rn||x){if(h=xt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|E)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Rr(i,p),Wn(h,i,p,-1))}return Kd(),h=xd(Error(t(421))),$u(i,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=kS.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,pn=ii(p.nextSibling),fn=s,Je=!0,zn=null,i!==null&&(Sn[In++]=Cr,Sn[In++]=Pr,Sn[In++]=ts,Cr=i.id,Pr=i.overflow,ts=s),s=bd(s,h.children),s.flags|=4096,s)}function Ay(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),ld(i.return,s,l)}function Dd(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Cy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Yt(i,s,h.children,l),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ay(i,l,s);else if(i.tag===19)Ay(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(He(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ou(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Dd(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ou(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Dd(s,!0,l,null,y);break;case"together":Dd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function br(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),os|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=mi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=mi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function vS(i,s,l){switch(s.tag){case 3:Sy(s),fo();break;case 5:zg(s);break;case 1:nn(s.type)&&Au(s);break;case 4:hd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;He(Du,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(He(Ze,Ze.current&1),s.flags|=128,null):l&s.child.childLanes?xy(i,s,l):(He(Ze,Ze.current&1),i=br(i,s,l),i!==null?i.sibling:null);He(Ze,Ze.current&1);break;case 19:if(h=(l&s.childLanes)!==0,i.flags&128){if(h)return Cy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),He(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,wy(i,s,l)}return br(i,s,l)}var Py,Nd,Ry,ky;Py=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nd=function(){},Ry=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,is(ir.current);var y=null;switch(l){case"input":p=Mi(i,p),h=Mi(i,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=la(i,p),h=la(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Su)}pa(l,h);var E;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var x=p[$];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var k=h[$];if(x=p!=null?p[$]:void 0,h.hasOwnProperty($)&&k!==x&&(k!=null||x!=null))if($==="style")if(x){for(E in x)!x.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in k)k.hasOwnProperty(E)&&x[E]!==k[E]&&(l||(l={}),l[E]=k[E])}else l||(y||(y=[]),y.push($,l)),l=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,x=x?x.__html:void 0,k!=null&&x!==k&&(y=y||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ke("scroll",i),y||x===k||(y=[])):(y=y||[]).push($,k))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},ky=function(i,s,l,h){l!==h&&(s.flags|=4)};function Ga(i,s){if(!Je)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function _S(i,s,l){var h=s.pendingProps;switch(td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return nn(s.type)&&xu(),Ut(s),null;case 3:return h=s.stateNode,yo(),Ge(tn),Ge(Ft),pd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ku(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zn!==null&&(qd(zn),zn=null))),Nd(i,s),Ut(s),null;case 5:dd(s);var p=is($a.current);if(l=s.type,i!==null&&s.stateNode!=null)Ry(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(i=is(ir.current),ku(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[rr]=s,h[Fa]=y,i=(s.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(p=0;p<La.length;p++)Ke(La[p],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":bs(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Ns(h,y),Ke("invalid",h)}pa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var x=y[E];E==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,x,i),p=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,x,i),p=["children",""+x]):o.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&Ke("scroll",h)}switch(l){case"input":mr(h),Gl(h,y,!0);break;case"textarea":mr(h),ua(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Su)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[rr]=s,i[Fa]=h,Py(i,s,!1,!1),s.stateNode=i;e:{switch(E=ma(l,h),l){case"dialog":Ke("cancel",i),Ke("close",i),p=h;break;case"iframe":case"object":case"embed":Ke("load",i),p=h;break;case"video":case"audio":for(p=0;p<La.length;p++)Ke(La[p],i);p=h;break;case"source":Ke("error",i),p=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),p=h;break;case"details":Ke("toggle",i),p=h;break;case"input":bs(i,h),p=Mi(i,h),Ke("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Ns(i,h),p=la(i,h),Ke("invalid",i);break;default:p=h}pa(l,p),x=p;for(y in x)if(x.hasOwnProperty(y)){var k=x[y];y==="style"?da(i,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ca(i,k)):y==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&Kr(i,k):typeof k=="number"&&Kr(i,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&Ke("scroll",i):k!=null&&Q(i,y,k,E))}switch(l){case"input":mr(i),Gl(i,h,!1);break;case"textarea":mr(i),ua(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ze(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?yr(i,!!h.multiple,y,!1):h.defaultValue!=null&&yr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Su)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(i&&s.stateNode!=null)ky(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=is($a.current),is(ir.current),ku(s)){if(h=s.stateNode,l=s.memoizedProps,h[rr]=s,(y=h.nodeValue!==l)&&(i=fn,i!==null))switch(i.tag){case 3:Tu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Tu(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ge(Ze),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&pn!==null&&s.mode&1&&!(s.flags&128))Ng(),fo(),s.flags|=98560,y=!1;else if(y=ku(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rr]=s}else fo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),y=!1}else zn!==null&&(qd(zn),zn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||Ze.current&1?wt===0&&(wt=3):Kd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return yo(),Nd(i,s),i===null&&Oa(s.stateNode.containerInfo),Ut(s),null;case 10:return ad(s.type._context),Ut(s),null;case 17:return nn(s.type)&&xu(),Ut(s),null;case 19:if(Ge(Ze),y=s.memoizedState,y===null)return Ut(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Ga(y,!1);else{if(wt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(E=Ou(i),E!==null){for(s.flags|=128,Ga(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return He(Ze,Ze.current&1|2),s.child}i=i.sibling}y.tail!==null&&We()>Eo&&(s.flags|=128,h=!0,Ga(y,!1),s.lanes=4194304)}else{if(!h)if(i=Ou(E),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ga(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Je)return Ut(s),null}else 2*We()-y.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,h=!0,Ga(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,l=Ze.current,He(Ze,h?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return Hd(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?mn&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function wS(i,s){switch(td(s),s.tag){case 1:return nn(s.type)&&xu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return yo(),Ge(tn),Ge(Ft),pd(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return dd(s),null;case 13:if(Ge(Ze),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ge(Ze),null;case 4:return yo(),null;case 10:return ad(s.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Wu=!1,zt=!1,ES=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _o(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){it(i,s,h)}else l.current=null}function Vd(i,s,l){try{l()}catch(h){it(i,s,h)}}var by=!1;function TS(i,s){if(Hh=ti,i=ug(),Fh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,x=-1,k=-1,$=0,J=0,Z=i,Y=null;t:for(;;){for(var ae;Z!==l||p!==0&&Z.nodeType!==3||(x=E+p),Z!==y||h!==0&&Z.nodeType!==3||(k=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)Y=Z,Z=ae;for(;;){if(Z===i)break t;if(Y===l&&++$===p&&(x=E),Y===y&&++J===h&&(k=E),(ae=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ae}l=x===-1||k===-1?null:{start:x,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kh={focusedElem:i,selectionRange:l},ti=!1,ue=s;ue!==null;)if(s=ue,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ue=i;else for(;ue!==null;){s=ue;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,at=he.memoizedState,z=s.stateNode,N=z.getSnapshotBeforeUpdate(s.elementType===s.type?de:Bn(s.type,de),at);z.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){it(s,s.return,ee)}if(i=s.sibling,i!==null){i.return=s.return,ue=i;break}ue=s.return}return he=by,by=!1,he}function Qa(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Vd(s,l,y)}p=p.next}while(p!==h)}}function Hu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ld(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Dy(i){var s=i.alternate;s!==null&&(i.alternate=null,Dy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[rr],delete s[Fa],delete s[Yh],delete s[iS],delete s[sS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ny(i){return i.tag===5||i.tag===3||i.tag===4}function Vy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ny(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Od(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Su));else if(h!==4&&(i=i.child,i!==null))for(Od(i,s,l),i=i.sibling;i!==null;)Od(i,s,l),i=i.sibling}function Md(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Md(i,s,l),i=i.sibling;i!==null;)Md(i,s,l),i=i.sibling}var Nt=null,$n=!1;function ci(i,s,l){for(l=l.child;l!==null;)Ly(i,s,l),l=l.sibling}function Ly(i,s,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Hi,l)}catch{}switch(l.tag){case 5:zt||_o(l,s);case 6:var h=Nt,p=$n;Nt=null,ci(i,s,l),Nt=h,$n=p,Nt!==null&&($n?(i=Nt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&($n?(i=Nt,l=l.stateNode,i.nodeType===8?Xh(i.parentNode,l):i.nodeType===1&&Xh(i,l),Fn(i)):Xh(Nt,l.stateNode));break;case 4:h=Nt,p=$n,Nt=l.stateNode.containerInfo,$n=!0,ci(i,s,l),Nt=h,$n=p;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Vd(l,s,E),p=p.next}while(p!==h)}ci(i,s,l);break;case 1:if(!zt&&(_o(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){it(l,s,x)}ci(i,s,l);break;case 21:ci(i,s,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,ci(i,s,l),zt=h):ci(i,s,l);break;default:ci(i,s,l)}}function Oy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new ES),s.forEach(function(h){var p=bS.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 5:Nt=x.stateNode,$n=!1;break e;case 3:Nt=x.stateNode.containerInfo,$n=!0;break e;case 4:Nt=x.stateNode.containerInfo,$n=!0;break e}x=x.return}if(Nt===null)throw Error(t(160));Ly(y,E,p),Nt=null,$n=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch($){it(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)My(s,i),s=s.sibling}function My(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qn(s,i),or(i),h&4){try{Qa(3,i,i.return),Hu(3,i)}catch(de){it(i,i.return,de)}try{Qa(5,i,i.return)}catch(de){it(i,i.return,de)}}break;case 1:qn(s,i),or(i),h&512&&l!==null&&_o(l,l.return);break;case 5:if(qn(s,i),or(i),h&512&&l!==null&&_o(l,l.return),i.flags&32){var p=i.stateNode;try{Kr(p,"")}catch(de){it(i,i.return,de)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,x=i.type,k=i.updateQueue;if(i.updateQueue=null,k!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&oa(p,y),ma(x,E);var $=ma(x,y);for(E=0;E<k.length;E+=2){var J=k[E],Z=k[E+1];J==="style"?da(p,Z):J==="dangerouslySetInnerHTML"?ca(p,Z):J==="children"?Kr(p,Z):Q(p,J,Z,$)}switch(x){case"input":aa(p,y);break;case"textarea":Vs(p,y);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?yr(p,!!y.multiple,ae,!1):Y!==!!y.multiple&&(y.defaultValue!=null?yr(p,!!y.multiple,y.defaultValue,!0):yr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Fa]=y}catch(de){it(i,i.return,de)}}break;case 6:if(qn(s,i),or(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(de){it(i,i.return,de)}}break;case 3:if(qn(s,i),or(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Fn(s.containerInfo)}catch(de){it(i,i.return,de)}break;case 4:qn(s,i),or(i);break;case 13:qn(s,i),or(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Ud=We())),h&4&&Oy(i);break;case 22:if(J=l!==null&&l.memoizedState!==null,i.mode&1?(zt=($=zt)||J,qn(s,i),zt=$):qn(s,i),or(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!J&&i.mode&1)for(ue=i,J=i.child;J!==null;){for(Z=ue=J;ue!==null;){switch(Y=ue,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:Qa(4,Y,Y.return);break;case 1:_o(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){h=Y,l=Y.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){it(h,l,de)}}break;case 5:_o(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Uy(Z);continue}}ae!==null?(ae.return=Y,ue=ae):Uy(Z)}J=J.sibling}e:for(J=null,Z=i;;){if(Z.tag===5){if(J===null){J=Z;try{p=Z.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=Z.stateNode,k=Z.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,x.style.display=ha("display",E))}catch(de){it(i,i.return,de)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(de){it(i,i.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:qn(s,i),or(i),h&4&&Oy(i);break;case 21:break;default:qn(s,i),or(i)}}function or(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Ny(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Kr(p,""),h.flags&=-33);var y=Vy(i);Md(i,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,x=Vy(i);Od(i,x,E);break;default:throw Error(t(161))}}catch(k){it(i,i.return,k)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function SS(i,s,l){ue=i,Fy(i)}function Fy(i,s,l){for(var h=(i.mode&1)!==0;ue!==null;){var p=ue,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Wu;if(!E){var x=p.alternate,k=x!==null&&x.memoizedState!==null||zt;x=Wu;var $=zt;if(Wu=E,(zt=k)&&!$)for(ue=p;ue!==null;)E=ue,k=E.child,E.tag===22&&E.memoizedState!==null?zy(p):k!==null?(k.return=E,ue=k):zy(p);for(;y!==null;)ue=y,Fy(y),y=y.sibling;ue=p,Wu=x,zt=$}jy(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,ue=y):jy(i)}}function jy(i){for(;ue!==null;){var s=ue;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:zt||Hu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!zt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Bn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ug(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ug(s,E,l)}break;case 5:var x=s.stateNode;if(l===null&&s.flags&4){l=x;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Fn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||s.flags&512&&Ld(s)}catch(Y){it(s,s.return,Y)}}if(s===i){ue=null;break}if(l=s.sibling,l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Uy(i){for(;ue!==null;){var s=ue;if(s===i){ue=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ue=l;break}ue=s.return}}function zy(i){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Hu(4,s)}catch(k){it(s,l,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(k){it(s,p,k)}}var y=s.return;try{Ld(s)}catch(k){it(s,y,k)}break;case 5:var E=s.return;try{Ld(s)}catch(k){it(s,E,k)}}}catch(k){it(s,s.return,k)}if(s===i){ue=null;break}var x=s.sibling;if(x!==null){x.return=s.return,ue=x;break}ue=s.return}}var IS=Math.ceil,Ku=ie.ReactCurrentDispatcher,Fd=ie.ReactCurrentOwner,Cn=ie.ReactCurrentBatchConfig,Me=0,xt=null,dt=null,Vt=0,mn=0,wo=si(0),wt=0,Xa=null,os=0,Gu=0,jd=0,Ya=null,sn=null,Ud=0,Eo=1/0,Dr=null,Qu=!1,zd=null,hi=null,Xu=!1,di=null,Yu=0,Ja=0,Bd=null,Ju=-1,Zu=0;function Jt(){return Me&6?We():Ju!==-1?Ju:Ju=We()}function fi(i){return i.mode&1?Me&2&&Vt!==0?Vt&-Vt:aS.transition!==null?(Zu===0&&(Zu=Gi()),Zu):(i=be,i!==0||(i=window.event,i=i===void 0?16:Aa(i.type)),i):1}function Wn(i,s,l,h){if(50<Ja)throw Ja=0,Bd=null,Error(t(185));Yr(i,l,h),(!(Me&2)||i!==xt)&&(i===xt&&(!(Me&2)&&(Gu|=l),wt===4&&pi(i,Vt)),on(i,h),l===1&&Me===0&&!(s.mode&1)&&(Eo=We()+500,Cu&&ai()))}function on(i,s){var l=i.callbackNode;wr(i,s);var h=Ki(i,i===xt?Vt:0);if(h===0)l!==null&&Ea(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Ea(l),s===1)i.tag===0?oS($y.bind(null,i)):Pg($y.bind(null,i)),nS(function(){!(Me&6)&&ai()}),l=null;else{switch(Zr(h)){case 1:l=Wi;break;case 4:l=Gr;break;case 16:l=wn;break;case 536870912:l=Zl;break;default:l=wn}l=Yy(l,By.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function By(i,s){if(Ju=-1,Zu=0,Me&6)throw Error(t(327));var l=i.callbackNode;if(To()&&i.callbackNode!==l)return null;var h=Ki(i,i===xt?Vt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=ec(i,h);else{s=h;var p=Me;Me|=2;var y=Wy();(xt!==i||Vt!==s)&&(Dr=null,Eo=We()+500,ls(i,s));do try{CS();break}catch(x){qy(i,x)}while(!0);od(),Ku.current=y,Me=p,dt!==null?s=0:(xt=null,Vt=0,s=wt)}if(s!==0){if(s===2&&(p=cn(i),p!==0&&(h=p,s=$d(i,p))),s===1)throw l=Xa,ls(i,0),pi(i,h),on(i,We()),l;if(s===6)pi(i,h);else{if(p=i.current.alternate,!(h&30)&&!xS(p)&&(s=ec(i,h),s===2&&(y=cn(i),y!==0&&(h=y,s=$d(i,y))),s===1))throw l=Xa,ls(i,0),pi(i,h),on(i,We()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:us(i,sn,Dr);break;case 3:if(pi(i,h),(h&130023424)===h&&(s=Ud+500-We(),10<s)){if(Ki(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){Jt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Qh(us.bind(null,i,sn,Dr),s);break}us(i,sn,Dr);break;case 4:if(pi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var E=31-Qt(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*IS(h/1960))-h,10<h){i.timeoutHandle=Qh(us.bind(null,i,sn,Dr),h);break}us(i,sn,Dr);break;case 5:us(i,sn,Dr);break;default:throw Error(t(329))}}}return on(i,We()),i.callbackNode===l?By.bind(null,i):null}function $d(i,s){var l=Ya;return i.current.memoizedState.isDehydrated&&(ls(i,s).flags|=256),i=ec(i,s),i!==2&&(s=sn,sn=l,s!==null&&qd(s)),i}function qd(i){sn===null?sn=i:sn.push.apply(sn,i)}function xS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Un(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(i,s){for(s&=~jd,s&=~Gu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;i[l]=-1,s&=~h}}function $y(i){if(Me&6)throw Error(t(327));To();var s=Ki(i,0);if(!(s&1))return on(i,We()),null;var l=ec(i,s);if(i.tag!==0&&l===2){var h=cn(i);h!==0&&(s=h,l=$d(i,h))}if(l===1)throw l=Xa,ls(i,0),pi(i,s),on(i,We()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,us(i,sn,Dr),on(i,We()),null}function Wd(i,s){var l=Me;Me|=1;try{return i(s)}finally{Me=l,Me===0&&(Eo=We()+500,Cu&&ai())}}function as(i){di!==null&&di.tag===0&&!(Me&6)&&To();var s=Me;Me|=1;var l=Cn.transition,h=be;try{if(Cn.transition=null,be=1,i)return i()}finally{be=h,Cn.transition=l,Me=s,!(Me&6)&&ai()}}function Hd(){mn=wo.current,Ge(wo)}function ls(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,tS(l)),dt!==null)for(l=dt.return;l!==null;){var h=l;switch(td(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&xu();break;case 3:yo(),Ge(tn),Ge(Ft),pd();break;case 5:dd(h);break;case 4:yo();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:ad(h.type._context);break;case 22:case 23:Hd()}l=l.return}if(xt=i,dt=i=mi(i.current,null),Vt=mn=s,wt=0,Xa=null,jd=Gu=os=0,sn=Ya=null,rs!==null){for(s=0;s<rs.length;s++)if(l=rs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}rs=null}return i}function qy(i,s){do{var l=dt;try{if(od(),Mu.current=zu,Fu){for(var h=et.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Fu=!1}if(ss=0,It=_t=et=null,qa=!1,Wa=0,Fd.current=null,l===null||l.return===null){wt=1,Xa=s,dt=null;break}e:{var y=i,E=l.return,x=l,k=s;if(s=Vt,x.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,J=x,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=my(E);if(ae!==null){ae.flags&=-257,gy(ae,E,x,y,s),ae.mode&1&&py(y,$,s),s=ae,k=$;var he=s.updateQueue;if(he===null){var de=new Set;de.add(k),s.updateQueue=de}else he.add(k);break e}else{if(!(s&1)){py(y,$,s),Kd();break e}k=Error(t(426))}}else if(Je&&x.mode&1){var at=my(E);if(at!==null){!(at.flags&65536)&&(at.flags|=256),gy(at,E,x,y,s),id(vo(k,x));break e}}y=k=vo(k,x),wt!==4&&(wt=2),Ya===null?Ya=[y]:Ya.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var z=dy(y,k,s);jg(y,z);break e;case 1:x=k;var N=y.type,B=y.stateNode;if(!(y.flags&128)&&(typeof N.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(hi===null||!hi.has(B)))){y.flags|=65536,s&=-s,y.lanes|=s;var ee=fy(y,x,s);jg(y,ee);break e}}y=y.return}while(y!==null)}Ky(l)}catch(fe){s=fe,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function Wy(){var i=Ku.current;return Ku.current=zu,i===null?zu:i}function Kd(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(os&268435455)&&!(Gu&268435455)||pi(xt,Vt)}function ec(i,s){var l=Me;Me|=2;var h=Wy();(xt!==i||Vt!==s)&&(Dr=null,ls(i,s));do try{AS();break}catch(p){qy(i,p)}while(!0);if(od(),Me=l,Ku.current=h,dt!==null)throw Error(t(261));return xt=null,Vt=0,wt}function AS(){for(;dt!==null;)Hy(dt)}function CS(){for(;dt!==null&&!Yl();)Hy(dt)}function Hy(i){var s=Xy(i.alternate,i,mn);i.memoizedProps=i.pendingProps,s===null?Ky(i):dt=s,Fd.current=null}function Ky(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=wS(l,s),l!==null){l.flags&=32767,dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,dt=null;return}}else if(l=_S(l,s,mn),l!==null){dt=l;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);wt===0&&(wt=5)}function us(i,s,l){var h=be,p=Cn.transition;try{Cn.transition=null,be=1,PS(i,s,l,h)}finally{Cn.transition=p,be=h}return null}function PS(i,s,l,h){do To();while(di!==null);if(Me&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===xt&&(dt=xt=null,Vt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Xu||(Xu=!0,Yy(wn,function(){return To(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Cn.transition,Cn.transition=null;var E=be;be=1;var x=Me;Me|=4,Fd.current=null,TS(i,l),My(l,i),GT(Kh),ti=!!Hh,Kh=Hh=null,i.current=l,SS(l),kh(),Me=x,be=E,Cn.transition=y}else i.current=l;if(Xu&&(Xu=!1,di=i,Yu=p),y=i.pendingLanes,y===0&&(hi=null),eu(l.stateNode),on(i,We()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Qu)throw Qu=!1,i=zd,zd=null,i;return Yu&1&&i.tag!==0&&To(),y=i.pendingLanes,y&1?i===Bd?Ja++:(Ja=0,Bd=i):Ja=0,ai(),null}function To(){if(di!==null){var i=Zr(Yu),s=Cn.transition,l=be;try{if(Cn.transition=null,be=16>i?16:i,di===null)var h=!1;else{if(i=di,di=null,Yu=0,Me&6)throw Error(t(331));var p=Me;for(Me|=4,ue=i.current;ue!==null;){var y=ue,E=y.child;if(ue.flags&16){var x=y.deletions;if(x!==null){for(var k=0;k<x.length;k++){var $=x[k];for(ue=$;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Qa(8,J,y)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var Y=J.sibling,ae=J.return;if(Dy(J),J===$){ue=null;break}if(Y!==null){Y.return=ae,ue=Y;break}ue=ae}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var at=de.sibling;de.sibling=null,de=at}while(de!==null)}}ue=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ue=E;else e:for(;ue!==null;){if(y=ue,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Qa(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ue=z;break e}ue=y.return}}var N=i.current;for(ue=N;ue!==null;){E=ue;var B=E.child;if(E.subtreeFlags&2064&&B!==null)B.return=E,ue=B;else e:for(E=N;ue!==null;){if(x=ue,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Hu(9,x)}}catch(fe){it(x,x.return,fe)}if(x===E){ue=null;break e}var ee=x.sibling;if(ee!==null){ee.return=x.return,ue=ee;break e}ue=x.return}}if(Me=p,ai(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Hi,i)}catch{}h=!0}return h}finally{be=l,Cn.transition=s}}return!1}function Gy(i,s,l){s=vo(l,s),s=dy(i,s,1),i=ui(i,s,1),s=Jt(),i!==null&&(Yr(i,1,s),on(i,s))}function it(i,s,l){if(i.tag===3)Gy(i,i,l);else for(;s!==null;){if(s.tag===3){Gy(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hi===null||!hi.has(h))){i=vo(l,i),i=fy(s,i,1),s=ui(s,i,1),i=Jt(),s!==null&&(Yr(s,1,i),on(s,i));break}}s=s.return}}function RS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=Jt(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Vt&l)===l&&(wt===4||wt===3&&(Vt&130023424)===Vt&&500>We()-Ud?ls(i,0):jd|=l),on(i,s)}function Qy(i,s){s===0&&(i.mode&1?(s=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):s=1);var l=Jt();i=Rr(i,s),i!==null&&(Yr(i,s,l),on(i,l))}function kS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Qy(i,l)}function bS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Qy(i,l)}var Xy;Xy=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return rn=!1,vS(i,s,l);rn=!!(i.flags&131072)}else rn=!1,Je&&s.flags&1048576&&Rg(s,Ru,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;qu(i,s),i=s.pendingProps;var p=uo(s,Ft.current);go(s,l),p=yd(null,s,h,i,p,l);var y=vd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,Au(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,cd(s),p.updater=Bu,s.stateNode=p,p._reactInternals=s,Id(s,h,i,l),s=Pd(null,s,h,!0,y,l)):(s.tag=0,Je&&y&&ed(s),Yt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(qu(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=NS(h),i=Bn(h,i),p){case 0:s=Cd(null,s,h,i,l);break e;case 1:s=Ty(null,s,h,i,l);break e;case 11:s=yy(null,s,h,i,l);break e;case 14:s=vy(null,s,h,Bn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Bn(h,p),Cd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Bn(h,p),Ty(i,s,h,p,l);case 3:e:{if(Sy(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Fg(i,s),Lu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=vo(Error(t(423)),s),s=Iy(i,s,h,l,p);break e}else if(h!==p){p=vo(Error(t(424)),s),s=Iy(i,s,h,l,p);break e}else for(pn=ii(s.stateNode.containerInfo.firstChild),fn=s,Je=!0,zn=null,l=Og(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),h===p){s=br(i,s,l);break e}Yt(i,s,h,l)}s=s.child}return s;case 5:return zg(s),i===null&&rd(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,E=p.children,Gh(h,p)?E=null:y!==null&&Gh(h,y)&&(s.flags|=32),Ey(i,s),Yt(i,s,E,l),s.child;case 6:return i===null&&rd(s),null;case 13:return xy(i,s,l);case 4:return hd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=po(s,null,h,l):Yt(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Bn(h,p),yy(i,s,h,p,l);case 7:return Yt(i,s,s.pendingProps,l),s.child;case 8:return Yt(i,s,s.pendingProps.children,l),s.child;case 12:return Yt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,He(Du,h._currentValue),h._currentValue=E,y!==null)if(Un(y.value,E)){if(y.children===p.children&&!tn.current){s=br(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var x=y.dependencies;if(x!==null){E=y.child;for(var k=x.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=kr(-1,l&-l),k.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?k.next=k:(k.next=J.next,J.next=k),$.pending=k}}y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),ld(y.return,l,s),x.lanes|=l;break}k=k.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),ld(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Yt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,go(s,l),p=xn(p),h=h(p),s.flags|=1,Yt(i,s,h,l),s.child;case 14:return h=s.type,p=Bn(h,s.pendingProps),p=Bn(h.type,p),vy(i,s,h,p,l);case 15:return _y(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Bn(h,p),qu(i,s),s.tag=1,nn(h)?(i=!0,Au(s)):i=!1,go(s,l),cy(s,h,p),Id(s,h,p,l),Pd(null,s,h,!0,i,l);case 19:return Cy(i,s,l);case 22:return wy(i,s,l)}throw Error(t(156,s.tag))};function Yy(i,s){return Bs(i,s)}function DS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,s,l,h){return new DS(i,s,l,h)}function Gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function NS(i){if(typeof i=="function")return Gd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===Rt)return 14}return 2}function mi(i,s){var l=i.alternate;return l===null?(l=Pn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function tc(i,s,l,h,p,y){var E=2;if(h=i,typeof i=="function")Gd(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case D:return cs(l.children,p,y,s);case I:E=8,p|=8;break;case A:return i=Pn(12,l,s,p|2),i.elementType=A,i.lanes=y,i;case C:return i=Pn(13,l,s,p),i.elementType=C,i.lanes=y,i;case Xe:return i=Pn(19,l,s,p),i.elementType=Xe,i.lanes=y,i;case Ie:return nc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:E=10;break e;case L:E=9;break e;case M:E=11;break e;case Rt:E=14;break e;case kt:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Pn(E,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function cs(i,s,l,h){return i=Pn(7,i,h,s),i.lanes=l,i}function nc(i,s,l,h){return i=Pn(22,i,h,s),i.elementType=Ie,i.lanes=l,i.stateNode={isHidden:!1},i}function Qd(i,s,l){return i=Pn(6,i,null,s),i.lanes=l,i}function Xd(i,s,l){return s=Pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function VS(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xr(0),this.expirationTimes=Xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Yd(i,s,l,h,p,y,E,x,k){return i=new VS(i,s,l,x,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Pn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(y),i}function LS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Jy(i){if(!i)return oi;i=i._reactInternals;e:{if(Nn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(nn(l))return Ag(i,l,s)}return s}function Zy(i,s,l,h,p,y,E,x,k){return i=Yd(l,h,!0,i,p,y,E,x,k),i.context=Jy(null),l=i.current,h=Jt(),p=fi(l),y=kr(h,p),y.callback=s??null,ui(l,y,p),i.current.lanes=p,Yr(i,p,h),on(i,h),i}function rc(i,s,l,h){var p=s.current,y=Jt(),E=fi(p);return l=Jy(l),s.context===null?s.context=l:s.pendingContext=l,s=kr(y,E),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=ui(p,s,E),i!==null&&(Wn(i,p,E,y),Vu(i,p,E)),E}function ic(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ev(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Jd(i,s){ev(i,s),(i=i.alternate)&&ev(i,s)}var tv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Zd(i){this._internalRoot=i}sc.prototype.render=Zd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));rc(i,s,null,null)},sc.prototype.unmount=Zd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;as(function(){rc(null,i,null,null)}),s[xr]=null}};function sc(i){this._internalRoot=i}sc.prototype.unstable_scheduleHydration=function(i){if(i){var s=su();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Zn.length&&s!==0&&s<Zn[l].priority;l++);Zn.splice(l,0,i),l===0&&lu(i)}};function ef(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function oc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function nv(){}function OS(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=ic(E);y.call($)}}var E=Zy(s,h,i,0,null,!1,!1,"",nv);return i._reactRootContainer=E,i[xr]=E.current,Oa(i.nodeType===8?i.parentNode:i),as(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var x=h;h=function(){var $=ic(k);x.call($)}}var k=Yd(i,0,!1,null,null,!1,!1,"",nv);return i._reactRootContainer=k,i[xr]=k.current,Oa(i.nodeType===8?i.parentNode:i),as(function(){rc(s,k,l,h)}),k}function ac(i,s,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var x=p;p=function(){var k=ic(E);x.call(k)}}rc(s,E,i,p)}else E=OS(l,s,i,p,h);return ic(E)}ru=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Qr(s.pendingLanes);l!==0&&(Jr(s,l|1),on(s,We()),!(Me&6)&&(Eo=We()+500,ai()))}break;case 13:as(function(){var h=Rr(i,1);if(h!==null){var p=Jt();Wn(h,i,1,p)}}),Jd(i,1)}},Ws=function(i){if(i.tag===13){var s=Rr(i,134217728);if(s!==null){var l=Jt();Wn(s,i,134217728,l)}Jd(i,134217728)}},iu=function(i){if(i.tag===13){var s=fi(i),l=Rr(i,s);if(l!==null){var h=Jt();Wn(l,i,s,h)}Jd(i,s)}},su=function(){return be},ou=function(i,s){var l=be;try{return be=i,s()}finally{be=l}},Os=function(i,s,l){switch(s){case"input":if(aa(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=Iu(h);if(!p)throw Error(t(90));ks(h),aa(h,p)}}}break;case"textarea":Vs(i,l);break;case"select":s=l.value,s!=null&&yr(i,!!l.multiple,s,!1)}},zi=Wd,ya=as;var MS={usingClientEntryPoint:!1,Events:[ja,ao,Iu,Yn,ga,Wd]},Za={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FS={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wa(i),i===null?null:i.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Hi=lc.inject(FS),un=lc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MS,an.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(s))throw Error(t(200));return LS(i,s,null,l)},an.createRoot=function(i,s){if(!ef(i))throw Error(t(299));var l=!1,h="",p=tv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Yd(i,1,!1,null,null,l,!1,h,p),i[xr]=s.current,Oa(i.nodeType===8?i.parentNode:i),new Zd(s)},an.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=wa(s),i=i===null?null:i.stateNode,i},an.flushSync=function(i){return as(i)},an.hydrate=function(i,s,l){if(!oc(s))throw Error(t(200));return ac(null,i,s,!0,l)},an.hydrateRoot=function(i,s,l){if(!ef(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=tv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Zy(s,null,i,1,l??null,p,!1,y,E),i[xr]=s.current,Oa(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new sc(s)},an.render=function(i,s,l){if(!oc(s))throw Error(t(200));return ac(null,i,s,!1,l)},an.unmountComponentAtNode=function(i){if(!oc(i))throw Error(t(40));return i._reactRootContainer?(as(function(){ac(null,null,i,!1,function(){i._reactRootContainer=null,i[xr]=null})}),!0):!1},an.unstable_batchedUpdates=Wd,an.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!oc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ac(i,s,l,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var cv;function Z_(){if(cv)return rf.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rf.exports=GS(),rf.exports}var hv;function QS(){if(hv)return uc;hv=1;var n=Z_();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var XS=QS();Z_();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wl.apply(this,arguments)}var Ti;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ti||(Ti={}));const dv="popstate";function YS(n){n===void 0&&(n={});function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Of("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Dc(o)}return ZS(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ew(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JS(){return Math.random().toString(36).substr(2,8)}function fv(n,e){return{usr:n.state,key:n.key,idx:e}}function Of(n,e,t,r){return t===void 0&&(t=null),wl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:t,key:e&&e.key||r||JS()})}function Dc(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ZS(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d=Ti.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(wl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function w(){d=Ti.Pop;let V=v(),W=V==null?null:V-m;m=V,f&&f({action:d,location:j.location,delta:W})}function T(V,W){d=Ti.Push;let X=Of(j.location,V,W);m=v()+1;let Q=fv(X,m),ie=j.createHref(X);try{u.pushState(Q,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}a&&f&&f({action:d,location:j.location,delta:1})}function P(V,W){d=Ti.Replace;let X=Of(j.location,V,W);m=v();let Q=fv(X,m),ie=j.createHref(X);u.replaceState(Q,"",ie),a&&f&&f({action:d,location:j.location,delta:0})}function F(V){let W=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof V=="string"?V:Dc(V);return X=X.replace(/ $/,"%20"),mt(W,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,W)}let j={get action(){return d},get location(){return n(o,u)},listen(V){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,w),f=V,()=>{o.removeEventListener(dv,w),f=null}},createHref(V){return e(o,V)},createURL:F,encodeLocation(V){let W=F(V);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:P,go(V){return u.go(V)}};return j}var pv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pv||(pv={}));function eI(n,e,t){return t===void 0&&(t="/"),tI(n,e,t)}function tI(n,e,t,r){let o=typeof e=="string"?Xo(e):e,a=Rp(o.pathname||"/",t);if(a==null)return null;let u=tw(n);nI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=pI(a);d=hI(u[f],m)}return d}function tw(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=xi([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),tw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:uI(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of nw(a.path))o(a,u,f)}),e}function nw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=nw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function nI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const rI=/^:[\w-]+$/,iI=3,sI=2,oI=1,aI=10,lI=-2,mv=n=>n==="*";function uI(n,e){let t=n.split("/"),r=t.length;return t.some(mv)&&(r+=lI),e&&(r+=sI),t.filter(o=>!mv(o)).reduce((o,a)=>o+(rI.test(a)?iI:a===""?oI:aI),r)}function cI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function hI(n,e,t){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=dI({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),T=f.route;if(!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:xi([a,w.pathname]),pathnameBase:vI(xi([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=xi([a,w.pathnameBase]))}return u}function dI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,v,w)=>{let{paramName:T,isOptional:P}=v;if(T==="*"){let j=d[w]||"";u=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const F=d[w];return P&&!F?m[T]=void 0:m[T]=(F||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function fI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ew(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ew(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Rp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function mI(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:gI(t,e):e,search:_I(r),hash:wI(o)}}function gI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function af(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rw(n,e){let t=yI(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function iw(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=Xo(n):(o=wl({},n),mt(!o.pathname||!o.pathname.includes("?"),af("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),af("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),af("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let f=mI(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const xi=n=>n.join("/").replace(/\/\/+/g,"/"),vI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const sw=["post","put","patch","delete"];new Set(sw);const TI=["get",...sw];new Set(TI);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},El.apply(this,arguments)}const kp=H.createContext(null),SI=H.createContext(null),As=H.createContext(null),ih=H.createContext(null),Cs=H.createContext({outlet:null,matches:[],isDataRoute:!1}),ow=H.createContext(null);function II(n,e){let{relative:t}=e===void 0?{}:e;Nl()||mt(!1);let{basename:r,navigator:o}=H.useContext(As),{hash:a,pathname:u,search:d}=lw(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:xi([r,u])),o.createHref({pathname:f,search:d,hash:a})}function Nl(){return H.useContext(ih)!=null}function sh(){return Nl()||mt(!1),H.useContext(ih).location}function aw(n){H.useContext(As).static||H.useLayoutEffect(n)}function oh(){let{isDataRoute:n}=H.useContext(Cs);return n?MI():xI()}function xI(){Nl()||mt(!1);let n=H.useContext(kp),{basename:e,future:t,navigator:r}=H.useContext(As),{matches:o}=H.useContext(Cs),{pathname:a}=sh(),u=JSON.stringify(rw(o,t.v7_relativeSplatPath)),d=H.useRef(!1);return aw(()=>{d.current=!0}),H.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=iw(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:xi([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,a,n])}function lw(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=H.useContext(As),{matches:o}=H.useContext(Cs),{pathname:a}=sh(),u=JSON.stringify(rw(o,r.v7_relativeSplatPath));return H.useMemo(()=>iw(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function AI(n,e){return CI(n,e)}function CI(n,e,t,r){Nl()||mt(!1);let{navigator:o}=H.useContext(As),{matches:a}=H.useContext(Cs),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=sh(),v;if(e){var w;let V=typeof e=="string"?Xo(e):e;f==="/"||(w=V.pathname)!=null&&w.startsWith(f)||mt(!1),v=V}else v=m;let T=v.pathname||"/",P=T;if(f!=="/"){let V=f.replace(/^\//,"").split("/");P="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let F=eI(n,{pathname:P}),j=DI(F&&F.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:xi([f,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?f:xi([f,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),a,t,r);return e&&j?H.createElement(ih.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ti.Pop}},j):j}function PI(){let n=OI(),e=EI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,null)}const RI=H.createElement(PI,null);class kI extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(Cs.Provider,{value:this.props.routeContext},H.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bI(n){let{routeContext:e,match:t,children:r}=n,o=H.useContext(kp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Cs.Provider,{value:e},r)}function DI(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);v>=0||mt(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:T,errors:P}=t,F=w.route.loader&&T[w.route.id]===void 0&&(!P||P[w.route.id]===void 0);if(w.route.lazy||F){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,w,T)=>{let P,F=!1,j=null,V=null;t&&(P=d&&w.route.id?d[w.route.id]:void 0,j=w.route.errorElement||RI,f&&(m<0&&T===0?(F=!0,V=null):m===T&&(F=!0,V=w.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,T+1)),X=()=>{let Q;return P?Q=j:F?Q=V:w.route.Component?Q=H.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=v,H.createElement(bI,{match:w,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:Q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?H.createElement(kI,{location:t.location,revalidation:t.revalidation,component:j,error:P,children:X(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):X()},null)}var uw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(uw||{}),Nc=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Nc||{});function NI(n){let e=H.useContext(kp);return e||mt(!1),e}function VI(n){let e=H.useContext(SI);return e||mt(!1),e}function LI(n){let e=H.useContext(Cs);return e||mt(!1),e}function cw(n){let e=LI(),t=e.matches[e.matches.length-1];return t.route.id||mt(!1),t.route.id}function OI(){var n;let e=H.useContext(ow),t=VI(Nc.UseRouteError),r=cw(Nc.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function MI(){let{router:n}=NI(uw.UseNavigateStable),e=cw(Nc.UseNavigateStable),t=H.useRef(!1);return aw(()=>{t.current=!0}),H.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,El({fromRouteId:e},a)))},[n,e])}const gv={};function FI(n,e){gv[e]||(gv[e]=!0,console.warn(e))}const yv=(n,e,t)=>FI(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function jI(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&yv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!e&&yv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function gn(n){mt(!1)}function UI(n){let{basename:e="/",children:t=null,location:r,navigationType:o=Ti.Pop,navigator:a,static:u=!1,future:d}=n;Nl()&&mt(!1);let f=e.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:u,future:El({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=Xo(r));let{pathname:v="/",search:w="",hash:T="",state:P=null,key:F="default"}=r,j=H.useMemo(()=>{let V=Rp(v,f);return V==null?null:{location:{pathname:V,search:w,hash:T,state:P,key:F},navigationType:o}},[f,v,w,T,P,F,o]);return j==null?null:H.createElement(As.Provider,{value:m},H.createElement(ih.Provider,{children:t,value:j}))}function zI(n){let{children:e,location:t}=n;return AI(Mf(e),t)}new Promise(()=>{});function Mf(n,e){e===void 0&&(e=[]);let t=[];return H.Children.forEach(n,(r,o)=>{if(!H.isValidElement(r))return;let a=[...e,o];if(r.type===H.Fragment){t.push.apply(t,Mf(r.props.children,a));return}r.type!==gn&&mt(!1),!r.props.index||!r.props.children||mt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Mf(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ff.apply(this,arguments)}function BI(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function $I(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qI(n,e){return n.button===0&&(!e||e==="_self")&&!$I(n)}const WI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HI="6";try{window.__reactRouterVersion=HI}catch{}const KI="startTransition",vv=WS[KI];function GI(n){let{basename:e,children:t,future:r,window:o}=n,a=H.useRef();a.current==null&&(a.current=YS({window:o,v5Compat:!0}));let u=a.current,[d,f]=H.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},v=H.useCallback(w=>{m&&vv?vv(()=>f(w)):f(w)},[f,m]);return H.useLayoutEffect(()=>u.listen(v),[u,v]),H.useEffect(()=>jI(r),[r]),H.createElement(UI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}const QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=H.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:w}=e,T=BI(e,WI),{basename:P}=H.useContext(As),F,j=!1;if(typeof m=="string"&&XI.test(m)&&(F=m,QI))try{let Q=new URL(window.location.href),ie=m.startsWith("//")?new URL(Q.protocol+m):new URL(m),se=Rp(ie.pathname,P);ie.origin===Q.origin&&se!=null?m=se+ie.search+ie.hash:j=!0}catch{}let V=II(m,{relative:o}),W=YI(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:w});function X(Q){r&&r(Q),Q.defaultPrevented||W(Q)}return H.createElement("a",Ff({},T,{href:F||V,onClick:j||a?r:X,ref:t,target:f}))});var _v;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var wv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wv||(wv={}));function YI(n,e){let{target:t,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=oh(),m=sh(),v=lw(n,{relative:u});return H.useCallback(w=>{if(qI(w,t)){w.preventDefault();let T=r!==void 0?r:Dc(m)===Dc(v);f(n,{replace:T,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[m,f,v,r,o,t,n,a,u,d])}var dw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ev=lr.createContext&&lr.createContext(dw),JI=["attr","size","title"];function ZI(n,e){if(n==null)return{};var t=ex(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ex(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Vc(){return Vc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vc.apply(this,arguments)}function Tv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Lc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tv(Object(t),!0).forEach(function(r){tx(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tx(n,e,t){return e=nx(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nx(n){var e=rx(n,"string");return typeof e=="symbol"?e:e+""}function rx(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fw(n){return n&&n.map((e,t)=>lr.createElement(e.tag,Lc({key:t},e.attr),fw(e.child)))}function Yo(n){return e=>lr.createElement(ix,Vc({attr:Lc({},n.attr)},e),fw(n.child))}function ix(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=ZI(n,JI),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),lr.createElement("svg",Vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Lc(Lc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&lr.createElement("title",null,a),n.children)};return Ev!==void 0?lr.createElement(Ev.Consumer,null,t=>e(t)):e(dw)}function sx(n){return Yo({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function ox(n){return Yo({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(n)}function ax(n){return Yo({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function lx(n){return Yo({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(n)}const ux=()=>{const n=oh(),[e,t]=H.useState(!1);return H.useEffect(()=>{const r=localStorage.getItem("authToken");t(!!r)},[]),R.jsx("nav",{className:"bg-gray-800 p-4",children:R.jsx("ul",{className:"flex justify-between md:justify-center items-center space-x-4 md:space-x-8 text-orange-400 font-semibold",children:R.jsx("li",{className:"flex items-center",children:R.jsxs("a",{onClick:r=>{r.preventDefault(),n("/")},className:"hover:text-lg transition-all duration-75 flex items-center justify-center cursor-pointer",children:[R.jsx(ax,{className:"text-2xl md:text-xl"}),R.jsx("span",{className:"hidden md:inline ml-2",children:"Acas"})]})})})})},cx="/istorie/assets/3-decebal-EchXYBdK.jpg",hx=()=>R.jsx("div",{className:"bg-cover bg-center h-screen flex items-center justify-center relative",style:{backgroundImage:`url(${cx})`},"overflow-x-hidden":!0,children:R.jsxs("div",{className:"text-center text-white p-6",children:[R.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Etnogeneza romneasc"}),R.jsx("p",{className:"text-lg mb-6",children:"Explornd originile naiunii romne"}),R.jsx("button",{className:"bg-yellow-500 text-black px-8 py-3 rounded-full shadow-md hover:bg-yellow-600",children:R.jsx("a",{href:"/start",children:"ncepe acum"})})]})}),dx="/istorie/assets/dacia-sec-ix-xiii-c-SeTEvQfQ.webp",fx=()=>R.jsxs("div",{children:[R.jsx(hx,{}),R.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg shadow-lg p-6 sm:p-10 my-8 text-center",children:[R.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-6 border-b-4 border-yellow-500 inline-block",children:"De ce trebuie s fim mndri c suntem romni?"}),R.jsx("p",{className:"text-lg text-white leading-relaxed mb-6",children:"Suntem romni nu doar prin natere, ci prin istoria pe care o purtm n sngele nostru. O istorie plin de sacrificii, de lupte, dar i de realizri extraordinare. Ne mndrim cu motenirea noastr cultural, cu limba romn  o limb latin ce ne leag de rdcinile noastre imperiale, i cu tradiiile care ne definesc spiritul viu."}),R.jsx("p",{className:"text-lg text-white leading-relaxed mb-8",children:"De-a lungul veacurilor, romnii au dovedit curaj, perseveren i o voin de fier. Avem un trecut de care putem fi mndri i un viitor pe care l putem construi mpreun. Fiecare pas pe care l facem ne apropie mai mult de marea noastr tradiie, iar prin cunoaterea i aprecierea ei, vom deveni mai puternici."}),R.jsx("p",{className:"text-xl font-semibold text-white",children:"Haidei s pstrm vii amintirile eroilor notri i s nvm din istoria care ne-a modelat ca popor!"})]}),R.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg shadow-lg p-6 sm:p-10 my-8 text-center",children:[R.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-6 border-b-4 border-yellow-500 inline-block",children:"Introducere"}),R.jsxs("p",{className:"text-lg text-white leading-relaxed mb-6",children:[R.jsx("span",{className:"font-semibold text-yellow-300",children:"Romanizarea"}),"  originea latin a poporului romn i a limbii romne - pentru a demonstra romanitatea romnilor se prezint etnogeneza romneasc."]}),R.jsxs("p",{className:"text-lg text-white leading-relaxed",children:[R.jsx("span",{className:"font-semibold text-yellow-300",children:"Etnogeneza romneasc"})," - proces istoric de formare a poporului romn i a limbii romne."]}),R.jsx("img",{className:"w-full sm:w-1/2 mx-auto mt-10 rounded-lg shadow-md transition-transform hover:scale-105 duration-500",src:dx,alt:"Dacia"})]})]}),px=()=>R.jsxs("div",{children:[R.jsx("h1",{className:"text-red-500 text-4xl text-center font-serif  ",children:"404"}),R.jsx("h2",{className:"text-red-500 text-xl text-center font-serif ",children:"Pagina nu exista "})]});function mx(n){return Yo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M240.094 19.594c-56.69.364-110.882 29.054-151.594 72.344-53.428 56.81-81.948 137.907-61.03 210.093 16.33-8.797 32.757-15.987 48.936-21.374-6.327-123.16 89.247-210.922 200.03-210.344 4.255-13.365 10.268-27.308 18.127-41.874-16.323-5.43-32.736-8.36-48.97-8.782-1.833-.047-3.67-.074-5.5-.062zM271.28 88.97C173.724 90.715 91.367 166.07 94.907 275.28c10.986-2.73 21.788-4.582 32.28-5.436 14.59-1.187 28.69-.463 41.783 2.437L278.312 162.94c-5.26-12.1-8.473-25.024-9.344-38.75-.716-11.256.14-22.983 2.592-35.22-.093.002-.187 0-.28 0zm60.845 60.718l-16.875 16.875L345.75 197l16.813-16.813-30.438-30.5zm-37.125 23L175.625 292.063l44.625 44.562 119.313-119.313L295 172.688zm189.875 46.093c-14.466 7.808-28.318 13.807-41.594 18.064.75 111.013-87.243 206.8-210.686 200.28-5.39 16.104-12.552 32.462-21.313 48.72 72.19 20.922 153.313-7.6 210.126-61.03 57.045-53.65 88.516-130.72 63.47-206.033zm-136 15.657L240.687 342.625c3.23 13.563 4.086 28.245 2.844 43.47-.862 10.58-2.752 21.476-5.53 32.56 109.585 3.718 185.128-79.008 186.594-176.905-12.342 2.506-24.16 3.403-35.5 2.688-14.287-.9-27.698-4.347-40.22-10zM169.5 312.313L20.094 461.72V494H48.75l151.188-151.188-30.438-30.5z"},child:[]}]})(n)}function lf(n){return Yo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"},child:[]}]})(n)}const gx="/istorie/assets/My%20Video1-BCRFgOo3.mp4",uf=({to:n,icon:e,label:t,iconColor:r})=>R.jsx(hw,{to:n,children:R.jsxs("div",{className:"flex items-center text-2xl font-semibold text-gray-300 hover:text-white transition-all duration-300 cursor-pointer",children:[lr.cloneElement(e,{className:`mr-3 ${r}`}),t]})}),cf=({to:n,label:e,icon:t,iconColor:r})=>R.jsx(hw,{to:n,children:R.jsxs("div",{className:"flex flex-col items-center justify-center text-center bg-gray-700 p-6 rounded-lg shadow-lg hover:bg-gray-600 transition-all duration-300 cursor-pointer",children:[lr.cloneElement(t,{className:`text-4xl ${r} mb-4`}),R.jsx("span",{className:"text-2xl font-semibold text-gray-200",children:e})]})}),Sv=()=>R.jsxs("div",{className:"flex flex-col items-center p-8 space-y-12 bg-black min-h-screen",children:[R.jsx("h1",{className:"text-5xl font-serif text-white drop-shadow-lg",children:"Introducere"}),R.jsx("div",{className:"w-full max-w-4xl",children:R.jsx("video",{src:gx,controls:!0,className:"w-full rounded-lg shadow-md mb-8",children:"Your browser does not support the video tag."})}),R.jsx("h1",{className:"text-5xl font-serif text-white drop-shadow-lg",children:"Capitole"}),R.jsxs("div",{className:"flex flex-col items-start space-y-6 p-6 bg-gray-800 rounded-lg shadow-md max-w-4xl w-full",children:[R.jsx(uf,{to:"/razboaiele_daco-romane",icon:R.jsx(mx,{}),label:"1. Rzboaiele daco-romane",iconColor:"text-red-400"}),R.jsx("hr",{className:"border-gray-700 w-full"}),R.jsx(uf,{to:"/romanizarea",icon:R.jsx(lx,{}),label:"2. Romanizarea i influena asupra limbii romne",iconColor:"text-blue-400"}),R.jsx("hr",{className:"border-gray-700 w-full"}),R.jsx(uf,{to:"/mostenirea",icon:R.jsx(ox,{}),label:"3. Motenirea cultural i identitatea naional a romnilor",iconColor:"text-green-400"})]}),R.jsx("h2",{className:"text-4xl font-serif text-yellow-400 mt-12",children:"Teste"}),R.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-4xl",children:[R.jsx(cf,{to:"/test-razboi",label:"Test: Rzboaiele daco-romane",icon:R.jsx(lf,{}),iconColor:"text-red-400"}),R.jsx(cf,{to:"/test-romanizarea",label:"Test: Romanizarea",icon:R.jsx(lf,{}),iconColor:"text-blue-400"}),R.jsx(cf,{to:"/test-mostenirea",label:"Test: Motenirea cultural",icon:R.jsx(lf,{}),iconColor:"text-green-400"})]})]});function yx(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}function ah(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const jf=n=>Array.isArray(n);function pw(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Tl(n){return typeof n=="string"||Array.isArray(n)}function Iv(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function bp(n,e,t,r){if(typeof e=="function"){const[o,a]=Iv(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=Iv(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function lh(n,e,t){const r=n.getProps();return bp(r,e,t!==void 0?t:r.custom,n)}const Dp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Np=["initial",...Dp],Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ps=new Set(Vl),Fr=n=>n*1e3,jr=n=>n/1e3,vx={type:"spring",stiffness:500,damping:25,restSpeed:10},_x=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),wx={type:"keyframes",duration:.8},Ex={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tx=(n,{keyframes:e})=>e.length>2?wx:Ps.has(n)?n.startsWith("scale")?_x(e[1]):vx:Ex;function Vp(n,e){return n?n[e]||n.default||n:void 0}const Sx={skipAnimations:!1,useManualTiming:!1},Ix=n=>n!==null;function uh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(Ix),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const yn=n=>n;let Uf=yn;function xx(n){let e=new Set,t=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const P=w&&r?e:t;return v&&a.add(m),P.has(m)||P.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const cc=["read","resolveKeyframes","update","preRender","render","postRender"],Ax=40;function mw(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=cc.reduce((W,X)=>(W[X]=xx(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:T}=u,P=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,Ax),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(P))},F=()=>{t=!0,r=!0,o.isProcessing||n(P)};return{schedule:cc.reduce((W,X)=>{const Q=u[X];return W[X]=(ie,se=!1,ce=!1)=>(t||F(),Q.schedule(ie,se,ce)),W},{}),cancel:W=>{for(let X=0;X<cc.length;X++)u[cc[X]].cancel(W)},state:o,steps:u}}const{schedule:Qe,cancel:Ri,state:Lt,steps:hf}=mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),gw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Cx=1e-7,Px=12;function Rx(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=gw(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>Cx&&++d<Px);return u}function Ll(n,e,t,r){if(n===e&&t===r)return yn;const o=a=>Rx(a,0,1,n,t);return a=>a===0||a===1?a:gw(o(a),e,r)}const yw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,vw=n=>e=>1-n(1-e),_w=Ll(.33,1.53,.69,.99),Lp=vw(_w),ww=yw(Lp),Ew=n=>(n*=2)<1?.5*Lp(n):.5*(2-Math.pow(2,-10*(n-1))),Op=n=>1-Math.sin(Math.acos(n)),Tw=vw(Op),Sw=yw(Op),Iw=n=>/^0[^.\s]+$/u.test(n);function kx(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Iw(n):!0}const xw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Aw=n=>e=>typeof e=="string"&&e.startsWith(n),Cw=Aw("--"),bx=Aw("var(--"),Mp=n=>bx(n)?Dx.test(n.split("/*")[0].trim()):!1,Dx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vx(n){const e=Nx.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function Pw(n,e,t=1){const[r,o]=Vx(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return xw(u)?parseFloat(u):u}return Mp(o)?Pw(o,e,t+1):o}const Ur=(n,e,t)=>t>e?e:t<n?n:t,Jo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sl={...Jo,transform:n=>Ur(0,1,n)},hc={...Jo,default:1},Ol=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),vi=Ol("deg"),ur=Ol("%"),_e=Ol("px"),Lx=Ol("vh"),Ox=Ol("vw"),xv={...ur,parse:n=>ur.parse(n)/100,transform:n=>ur.transform(n*100)},Mx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Av=n=>n===Jo||n===_e,Cv=(n,e)=>parseFloat(n.split(", ")[e]),Pv=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Cv(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Cv(a[1],n):0}},Fx=new Set(["x","y","z"]),jx=Vl.filter(n=>!Fx.has(n));function Ux(n){const e=[];return jx.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Fo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Pv(4,13),y:Pv(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Rw=n=>e=>e.test(n),zx={test:n=>n==="auto",parse:n=>n},kw=[Jo,_e,ur,vi,Ox,Lx,zx],Rv=n=>kw.find(Rw(n)),vs=new Set;let zf=!1,Bf=!1;function bw(){if(Bf){const n=Array.from(vs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=Ux(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bf=!1,zf=!1,vs.forEach(n=>n.complete()),vs.clear()}function Dw(){vs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Bf=!0)})}function Bx(){Dw(),bw()}class Fp{constructor(e,t,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vs.add(this),zf||(zf=!0,Qe.read(Dw),Qe.resolveKeyframes(bw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hl=n=>Math.round(n*1e5)/1e5,jp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $x(n){return n==null}const qx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Up=(n,e)=>t=>!!(typeof t=="string"&&qx.test(t)&&t.startsWith(n)||e&&!$x(t)&&Object.prototype.hasOwnProperty.call(t,e)),Nw=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(jp);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Wx=n=>Ur(0,255,n),df={...Jo,transform:n=>Math.round(Wx(n))},ms={test:Up("rgb","red"),parse:Nw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+df.transform(n)+", "+df.transform(e)+", "+df.transform(t)+", "+hl(Sl.transform(r))+")"};function Hx(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $f={test:Up("#"),parse:Hx,transform:ms.transform},Co={test:Up("hsl","hue"),parse:Nw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ur.transform(hl(e))+", "+ur.transform(hl(t))+", "+hl(Sl.transform(r))+")"},$t={test:n=>ms.test(n)||$f.test(n)||Co.test(n),parse:n=>ms.test(n)?ms.parse(n):Co.test(n)?Co.parse(n):$f.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ms.transform(n):Co.transform(n)},Kx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gx(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(jp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Kx))===null||t===void 0?void 0:t.length)||0)>0}const Vw="number",Lw="color",Qx="var",Xx="var(",kv="${}",Yx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Il(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(Yx,f=>($t.test(f)?(r.color.push(a),o.push(Lw),t.push($t.parse(f))):f.startsWith(Xx)?(r.var.push(a),o.push(Qx),t.push(f)):(r.number.push(a),o.push(Vw),t.push(parseFloat(f))),++a,kv)).split(kv);return{values:t,split:d,indexes:r,types:o}}function Ow(n){return Il(n).values}function Mw(n){const{split:e,types:t}=Il(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===Vw?a+=hl(o[u]):d===Lw?a+=$t.transform(o[u]):a+=o[u]}return a}}const Jx=n=>typeof n=="number"?0:n;function Zx(n){const e=Ow(n);return Mw(n)(e.map(Jx))}const ki={test:Gx,parse:Ow,createTransformer:Mw,getAnimatableNone:Zx},eA=new Set(["brightness","contrast","saturate","opacity"]);function tA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(jp)||[];if(!r)return n;const o=t.replace(r,"");let a=eA.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const nA=/\b([a-z-]*)\(.*?\)/gu,qf={...ki,getAnimatableNone:n=>{const e=n.match(nA);return e?e.map(tA).join(" "):n}},rA={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},iA={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:hc,scaleX:hc,scaleY:hc,scaleZ:hc,skew:vi,skewX:vi,skewY:vi,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Sl,originX:xv,originY:xv,originZ:_e},bv={...Jo,transform:Math.round},zp={...rA,...iA,zIndex:bv,size:_e,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:bv},sA={...zp,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:qf,WebkitFilter:qf},Bp=n=>sA[n];function Fw(n,e){let t=Bp(n);return t!==qf&&(t=ki),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const oA=new Set(["auto","none","0"]);function aA(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!oA.has(a)&&Il(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=Fw(t,o)}class jw extends Fp{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Mp(m))){const v=Pw(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Mx.has(r)||e.length!==2)return;const[o,a]=e,u=Rv(o),d=Rv(a);if(u!==d)if(Av(u)&&Av(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)kx(e[o])&&r.push(o);r.length&&aA(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Fo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function $p(n){return typeof n=="function"}let wc;function lA(){wc=void 0}const cr={now:()=>(wc===void 0&&cr.set(Lt.isProcessing||Sx.useManualTiming?Lt.timestamp:performance.now()),wc),set:n=>{wc=n,queueMicrotask(lA)}},Dv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ki.test(n)||n==="0")&&!n.startsWith("url("));function uA(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function cA(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=Dv(o,e),d=Dv(a,e);return!u||!d?!1:uA(n)||(t==="spring"||$p(t))&&r}const hA=40;class Uw{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cr.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Bx(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=cr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!cA(e,r,o,a))if(u)this.options.duration=0;else{f==null||f(uh(e,this.options,t)),d==null||d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jo=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},zw=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=n(jo(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bw(n,e){return e?n*(1e3/e):0}const dA=5;function $w(n,e,t){const r=Math.max(e-dA,0);return Bw(t-n(r),e-r)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ff=.001;function fA({duration:n=st.duration,bounce:e=st.bounce,velocity:t=st.velocity,mass:r=st.mass}){let o,a,u=1-e;u=Ur(st.minDamping,st.maxDamping,u),n=Ur(st.minDuration,st.maxDuration,jr(n)),u<1?(o=m=>{const v=m*u,w=v*n,T=v-t,P=Wf(m,u),F=Math.exp(-w);return ff-T/P*F},a=m=>{const w=m*u*n,T=w*t+t,P=Math.pow(u,2)*Math.pow(m,2)*n,F=Math.exp(-w),j=Wf(Math.pow(m,2),u);return(-o(m)+ff>0?-1:1)*((T-P)*F)/j}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-ff+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=mA(o,a,d);if(n=Fr(n),isNaN(f))return{stiffness:st.stiffness,damping:st.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const pA=12;function mA(n,e,t){let r=t;for(let o=1;o<pA;o++)r=r-n(r)/e(r);return r}function Wf(n,e){return n*Math.sqrt(1-e*e)}const Hf=2e4;function qw(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Hf;)e+=t,r=n.next(e);return e>=Hf?1/0:e}const gA=["duration","bounce"],yA=["stiffness","damping","mass"];function Nv(n,e){return e.some(t=>n[t]!==void 0)}function vA(n){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...n};if(!Nv(n,yA)&&Nv(n,gA))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*Ur(.05,1,1-n.bounce)*Math.sqrt(o);e={...e,mass:st.mass,stiffness:o,damping:a}}else{const t=fA(n);e={...e,...t,mass:st.mass},e.isResolvedFromDuration=!0}return e}function Ww(n=st.visualDuration,e=st.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:v,duration:w,velocity:T,isResolvedFromDuration:P}=vA({...t,velocity:-jr(t.velocity||0)}),F=T||0,j=m/(2*Math.sqrt(f*v)),V=u-a,W=jr(Math.sqrt(f/v)),X=Math.abs(V)<5;r||(r=X?st.restSpeed.granular:st.restSpeed.default),o||(o=X?st.restDelta.granular:st.restDelta.default);let Q;if(j<1){const se=Wf(W,j);Q=ce=>{const D=Math.exp(-j*W*ce);return u-D*((F+j*W*V)/se*Math.sin(se*ce)+V*Math.cos(se*ce))}}else if(j===1)Q=se=>u-Math.exp(-W*se)*(V+(F+W*V)*se);else{const se=W*Math.sqrt(j*j-1);Q=ce=>{const D=Math.exp(-j*W*ce),I=Math.min(se*ce,300);return u-D*((F+j*W*V)*Math.sinh(I)+se*V*Math.cosh(I))/se}}const ie={calculatedDuration:P&&w||null,next:se=>{const ce=Q(se);if(P)d.done=se>=w;else{let D=0;j<1&&(D=se===0?Fr(F):$w(Q,se,ce));const I=Math.abs(D)<=r,A=Math.abs(u-ce)<=o;d.done=I&&A}return d.value=d.done?u:ce,d},toString:()=>{const se=Math.min(qw(ie),Hf),ce=zw(D=>ie.next(se*D).value,se,30);return se+"ms "+ce}};return ie}function Vv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},P=I=>d!==void 0&&I<d||f!==void 0&&I>f,F=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let j=t*e;const V=w+j,W=u===void 0?V:u(V);W!==V&&(j=W-w);const X=I=>-j*Math.exp(-I/r),Q=I=>W+X(I),ie=I=>{const A=X(I),b=Q(I);T.done=Math.abs(A)<=m,T.value=T.done?W:b};let se,ce;const D=I=>{P(T.value)&&(se=I,ce=Ww({keyframes:[T.value,F(T.value)],velocity:$w(Q,I,T.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return D(0),{calculatedDuration:null,next:I=>{let A=!1;return!ce&&se===void 0&&(A=!0,ie(I),D(I)),se!==void 0&&I>=se?ce.next(I-se):(!A&&ie(I),T)}}}const _A=Ll(.42,0,1,1),wA=Ll(0,0,.58,1),Hw=Ll(.42,0,.58,1),EA=n=>Array.isArray(n)&&typeof n[0]!="number",qp=n=>Array.isArray(n)&&typeof n[0]=="number",Lv={linear:yn,easeIn:_A,easeInOut:Hw,easeOut:wA,circIn:Op,circInOut:Sw,circOut:Tw,backIn:Lp,backInOut:ww,backOut:_w,anticipate:Ew},Ov=n=>{if(qp(n)){Uf(n.length===4);const[e,t,r,o]=n;return Ll(e,t,r,o)}else if(typeof n=="string")return Uf(Lv[n]!==void 0),Lv[n];return n},TA=(n,e)=>t=>e(n(t)),Ml=(...n)=>n.reduce(TA),nt=(n,e,t)=>n+(e-n)*t;function pf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function SA({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=pf(f,d,n+1/3),a=pf(f,d,n),u=pf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Oc(n,e){return t=>t>0?e:n}const mf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},IA=[$f,ms,Co],xA=n=>IA.find(e=>e.test(n));function Mv(n){const e=xA(n);if(!e)return!1;let t=e.parse(n);return e===Co&&(t=SA(t)),t}const Fv=(n,e)=>{const t=Mv(n),r=Mv(e);if(!t||!r)return Oc(n,e);const o={...t};return a=>(o.red=mf(t.red,r.red,a),o.green=mf(t.green,r.green,a),o.blue=mf(t.blue,r.blue,a),o.alpha=nt(t.alpha,r.alpha,a),ms.transform(o))},Kf=new Set(["none","hidden"]);function AA(n,e){return Kf.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function CA(n,e){return t=>nt(n,e,t)}function Wp(n){return typeof n=="number"?CA:typeof n=="string"?Mp(n)?Oc:$t.test(n)?Fv:kA:Array.isArray(n)?Kw:typeof n=="object"?$t.test(n)?Fv:PA:Oc}function Kw(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>Wp(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function PA(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=Wp(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function RA(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,o[u]++}return r}const kA=(n,e)=>{const t=ki.createTransformer(e),r=Il(n),o=Il(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Kf.has(n)&&!o.values.length||Kf.has(e)&&!r.values.length?AA(n,e):Ml(Kw(RA(r,o),o.values),t):Oc(n,e)};function Gw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?nt(n,e,t):Wp(n)(n,e)}function bA(n,e,t){const r=[],o=t||Gw,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||yn:e;d=Ml(f,d)}r.push(d)}return r}function DA(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(Uf(a===e.length),a===1)return()=>e[0];if(a===2&&n[0]===n[1])return()=>e[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=bA(e,r,o),d=u.length,f=m=>{let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const w=jo(n[v],n[v+1],m);return u[v](w)};return t?m=>f(Ur(n[0],n[a-1],m)):f}function NA(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=jo(0,e,r);n.push(nt(t,1,o))}}function VA(n){const e=[0];return NA(e,n.length-1),e}function LA(n,e){return n.map(t=>t*e)}function OA(n,e){return n.map(()=>e||Hw).splice(0,n.length-1)}function Mc({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=EA(r)?r.map(Ov):Ov(r),a={done:!1,value:e[0]},u=LA(t&&t.length===e.length?t:VA(e),n),d=DA(u,e,{ease:Array.isArray(o)?o:OA(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const MA=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qe.update(e,!0),stop:()=>Ri(e),now:()=>Lt.isProcessing?Lt.timestamp:cr.now()}},FA={decay:Vv,inertia:Vv,tween:Mc,keyframes:Mc,spring:Ww},jA=n=>n/100;class Hp extends Uw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||Fp,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=$p(t)?t:FA[t]||Mc;let f,m;d!==Mc&&typeof e[0]!="number"&&(f=Ml(jA,Gw(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=qw(v));const{calculatedDuration:w}=v,T=w+o,P=T*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:T,totalDuration:P}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:P,repeatType:F,repeatDelay:j,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-T*(this.speed>=0?1:-1),X=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Q=this.currentTime,ie=a;if(P){const I=Math.min(this.currentTime,v)/w;let A=Math.floor(I),b=I%1;!b&&I>=1&&(b=1),b===1&&A--,A=Math.min(A,P+1),!!(A%2)&&(F==="reverse"?(b=1-b,j&&(b-=j/w)):F==="mirror"&&(ie=u)),Q=Ur(0,1,b)*w}const se=X?{done:!1,value:f[0]}:ie.next(Q);d&&(se.value=d(se.value));let{done:ce}=se;!X&&m!==null&&(ce=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return D&&o!==void 0&&(se.value=uh(f,this.options,o)),V&&V(se.value),D&&this.finish(),se}get duration(){const{resolved:e}=this;return e?jr(e.calculatedDuration):0}get time(){return jr(this.currentTime)}set time(e){e=Fr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=MA,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const UA=new Set(["opacity","clipPath","filter","transform"]);function Kp(n){let e;return()=>(e===void 0&&(e=n()),e)}const zA={linearEasing:void 0};function BA(n,e){const t=Kp(n);return()=>{var r;return(r=zA[e])!==null&&r!==void 0?r:t()}}const Fc=BA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Qw(n){return!!(typeof n=="function"&&Fc()||!n||typeof n=="string"&&(n in Gf||Fc())||qp(n)||Array.isArray(n)&&n.every(Qw))}const sl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Gf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function Xw(n,e){if(n)return typeof n=="function"&&Fc()?zw(n,e):qp(n)?sl(n):Array.isArray(n)?n.map(t=>Xw(t,e)||Gf.easeOut):Gf[n]}function $A(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=Xw(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}function jv(n,e){n.timeline=e,n.onfinish=null}const qA=Kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jc=10,WA=2e4;function HA(n){return $p(n.type)||n.type==="spring"||!Qw(n.ease)}function KA(n,e){const t=new Hp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let a=0;for(;!r.done&&a<WA;)r=t.sample(a),o.push(r.value),a+=jc;return{times:void 0,keyframes:o,duration:a-jc,ease:"linear"}}const Yw={anticipate:Ew,backInOut:ww,circInOut:Sw};function GA(n){return n in Yw}class Uv extends Uw{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new jw(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:o=300,times:a,ease:u,type:d,motionValue:f,name:m,startTime:v}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof u=="string"&&Fc()&&GA(u)&&(u=Yw[u]),HA(this.options)){const{onComplete:T,onUpdate:P,motionValue:F,element:j,...V}=this.options,W=KA(e,V);e=W.keyframes,e.length===1&&(e[1]=e[0]),o=W.duration,a=W.times,u=W.ease,d="keyframes"}const w=$A(f.owner.current,m,e,{...this.options,duration:o,times:a,ease:u});return w.startTime=v??this.calcStartTime(),this.pendingTimeline?(jv(w,this.pendingTimeline),this.pendingTimeline=void 0):w.onfinish=()=>{const{onComplete:T}=this.options;f.set(uh(e,this.options,t)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:w,duration:o,times:a,type:d,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return jr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return jr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Fr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return yn;const{animation:r}=t;jv(r,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:T,...P}=this.options,F=new Hp({...P,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),j=Fr(this.time);m.setWithVelocity(F.sample(j-jc).value,F.sample(j).value,jc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;return qA()&&r&&UA.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const QA=Kp(()=>window.ScrollTimeline!==void 0);class XA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>QA()&&o.attachTimeline?o.attachTimeline(e):t(o));return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function YA({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const Gp=(n,e,t,r={},o,a)=>u=>{const d=Vp(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Fr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};YA(d)||(v={...v,...Tx(n,v)}),v.duration&&(v.duration=Fr(v.duration)),v.repeatDelay&&(v.repeatDelay=Fr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=uh(v.keyframes,d);if(T!==void 0)return Qe.update(()=>{v.onUpdate(T),v.onComplete()}),new XA([])}return!a&&Uv.supports(v)?new Uv(v):new Hp(v)},JA=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),ZA=n=>jf(n)?n[n.length-1]||0:n;function Qp(n,e){n.indexOf(e)===-1&&n.push(e)}function Xp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Yp{constructor(){this.subscriptions=[]}add(e){return Qp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zv=30,eC=n=>!isNaN(parseFloat(n));class tC{constructor(e,t={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=cr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Yp);const r=this.events[e].add(t);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zv)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return Bw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(n,e){return new tC(n,e)}function nC(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,xl(t))}function rC(n,e){const t=lh(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=ZA(a[u]);nC(n,u,d)}}const Jp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iC="framerAppearId",Jw="data-"+Jp(iC);function Zw(n){return n.props[Jw]}const Kt=n=>!!(n&&n.getVelocity);function sC(n){return!!(Kt(n)&&n.add)}function Qf(n,e){const t=n.getValue("willChange");if(sC(t))return t.add(e)}function oC({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function e1(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),P=f[w];if(P===void 0||v&&oC(v,w))continue;const F={delay:t,...Vp(u||{},w)};let j=!1;if(window.MotionHandoffAnimation){const W=Zw(n);if(W){const X=window.MotionHandoffAnimation(W,w,Qe);X!==null&&(F.startTime=X,j=!0)}}Qf(n,w),T.start(Gp(w,T,P,n.shouldReduceMotion&&Ps.has(w)?{type:!1}:F,n,j));const V=T.animation;V&&m.push(V)}return d&&Promise.all(m).then(()=>{Qe.update(()=>{d&&rC(n,d)})}),m}function Xf(n,e,t={}){var r;const o=lh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(a=t.transitionOverride);const u=o?()=>Promise.all(e1(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=a;return aC(n,e,v+m,w,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function aC(n,e,t=0,r=0,o=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(lC).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(Xf(m,e,{...a,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function lC(n,e){return n.sortNodePosition(e)}function uC(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Xf(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Xf(n,e,t);else{const o=typeof e=="function"?lh(n,e,t.custom):e;r=Promise.all(e1(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const cC=Np.length;function t1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?t1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<cC;t++){const r=Np[t],o=n.props[r];(Tl(o)||o===!1)&&(e[r]=o)}return e}const hC=[...Dp].reverse(),dC=Dp.length;function fC(n){return e=>Promise.all(e.map(({animation:t,options:r})=>uC(n,t,r)))}function pC(n){let e=fC(n),t=Bv(),r=!0;const o=f=>(m,v)=>{var w;const T=lh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:P,transitionEnd:F,...j}=T;m={...m,...j,...F}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,v=t1(n.parent)||{},w=[],T=new Set;let P={},F=1/0;for(let V=0;V<dC;V++){const W=hC[V],X=t[W],Q=m[W]!==void 0?m[W]:v[W],ie=Tl(Q),se=W===f?X.isActive:null;se===!1&&(F=V);let ce=Q===v[W]&&Q!==m[W]&&ie;if(ce&&r&&n.manuallyAnimateOnMount&&(ce=!1),X.protectedKeys={...P},!X.isActive&&se===null||!Q&&!X.prevProp||ah(Q)||typeof Q=="boolean")continue;const D=mC(X.prevProp,Q);let I=D||W===f&&X.isActive&&!ce&&ie||V>F&&ie,A=!1;const b=Array.isArray(Q)?Q:[Q];let L=b.reduce(o(W),{});se===!1&&(L={});const{prevResolvedValues:M={}}=X,C={...M,...L},Xe=Ie=>{I=!0,T.has(Ie)&&(A=!0,T.delete(Ie)),X.needsAnimating[Ie]=!0;const te=n.getValue(Ie);te&&(te.liveStyle=!1)};for(const Ie in C){const te=L[Ie],me=M[Ie];if(P.hasOwnProperty(Ie))continue;let oe=!1;jf(te)&&jf(me)?oe=!pw(te,me):oe=te!==me,oe?te!=null?Xe(Ie):T.add(Ie):te!==void 0&&T.has(Ie)?Xe(Ie):X.protectedKeys[Ie]=!0}X.prevProp=Q,X.prevResolvedValues=L,X.isActive&&(P={...P,...L}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ce&&D)||A)&&w.push(...b.map(Ie=>({animation:Ie,options:{type:W}})))}if(T.size){const V={};T.forEach(W=>{const X=n.getBaseTarget(W),Q=n.getValue(W);Q&&(Q.liveStyle=!0),V[W]=X??null}),w.push({animation:V})}let j=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var P;return(P=T.animationState)===null||P===void 0?void 0:P.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=Bv(),r=!0}}}function mC(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pw(e,n):!1}function hs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bv(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gC extends Oi{constructor(e){super(e),e.animationState||(e.animationState=pC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ah(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yC=0;class vC extends Oi{constructor(){super(...arguments),this.id=yC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _C={animation:{Feature:gC},exit:{Feature:vC}},Hn={x:!1,y:!1};function n1(){return Hn.x||Hn.y}function wC(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function r1(n,e){const t=wC(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function $v(n){return e=>{e.pointerType==="touch"||n1()||n(e)}}function EC(n,e,t={}){const[r,o,a]=r1(n,t),u=$v(d=>{const{target:f}=d,m=e(d);if(!m||!f)return;const v=$v(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const Zp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ol=new WeakSet;function qv(n){return e=>{e.key==="Enter"&&n(e)}}function gf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TC=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=qv(()=>{if(ol.has(t))return;gf(t,"down");const o=qv(()=>{gf(t,"up")}),a=()=>gf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)},SC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IC(n){return SC.has(n.tagName)||n.tabIndex!==-1}const i1=(n,e)=>e?n===e?!0:i1(n,e.parentElement):!1;function Wv(n){return Zp(n)&&!n1()}function xC(n,e,t={}){const[r,o,a]=r1(n,t),u=d=>{const f=d.currentTarget;if(!Wv(d)||ol.has(f))return;ol.add(f);const m=e(d),v=(P,F)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!Wv(P)||!ol.has(f))&&(ol.delete(f),m&&m(P,{success:F}))},w=P=>{v(P,t.useGlobalTarget||i1(f,P.target))},T=P=>{v(P,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{IC(d)||(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>TC(m,o),o)}),a}function AC(n){return n==="x"||n==="y"?Hn[n]?null:(Hn[n]=!0,()=>{Hn[n]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function Fl(n){return{point:{x:n.pageX,y:n.pageY}}}const CC=n=>e=>Zp(e)&&n(e,Fl(e));function Al(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function dl(n,e,t,r){return Al(n,e,CC(t),r)}const Hv=(n,e)=>Math.abs(n-e);function PC(n,e){const t=Hv(n.x,e.x),r=Hv(n.y,e.y);return Math.sqrt(t**2+r**2)}class s1{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=vf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,P=PC(w.offset,{x:0,y:0})>=3;if(!T&&!P)return;const{point:F}=w,{timestamp:j}=Lt;this.history.push({...F,timestamp:j});const{onStart:V,onMove:W}=this.handlers;T||(V&&V(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=yf(T,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:P,onSessionEnd:F,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=vf(w.type==="pointercancel"?this.lastMoveEventInfo:yf(T,this.transformPagePoint),this.history);this.startEvent&&P&&P(w,V),F&&F(w,V)},!Zp(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=Fl(e),d=yf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Lt;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,vf(d,this.history)),this.removeListeners=Ml(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function yf(n,e){return e?{point:e(n.point)}:n}function Kv(n,e){return{x:n.x-e.x,y:n.y-e.y}}function vf({point:n},e){return{point:n,delta:Kv(n,o1(e)),offset:Kv(n,RC(e)),velocity:kC(e,.1)}}function RC(n){return n[0]}function o1(n){return n[n.length-1]}function kC(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=o1(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Fr(e)));)t--;if(!r)return{x:0,y:0};const a=jr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Po(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const a1=1e-4,bC=1-a1,DC=1+a1,l1=.01,NC=0-l1,VC=0+l1;function vn(n){return n.max-n.min}function LC(n,e,t){return Math.abs(n-e)<=t}function Gv(n,e,t,r=.5){n.origin=r,n.originPoint=nt(e.min,e.max,n.origin),n.scale=vn(t)/vn(e),n.translate=nt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=bC&&n.scale<=DC||isNaN(n.scale))&&(n.scale=1),(n.translate>=NC&&n.translate<=VC||isNaN(n.translate))&&(n.translate=0)}function fl(n,e,t,r){Gv(n.x,e.x,t.x,r?r.originX:void 0),Gv(n.y,e.y,t.y,r?r.originY:void 0)}function Qv(n,e,t){n.min=t.min+e.min,n.max=n.min+vn(e)}function OC(n,e,t){Qv(n.x,e.x,t.x),Qv(n.y,e.y,t.y)}function Xv(n,e,t){n.min=e.min-t.min,n.max=n.min+vn(e)}function pl(n,e,t){Xv(n.x,e.x,t.x),Xv(n.y,e.y,t.y)}function MC(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?nt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?nt(t,n,r.max):Math.min(n,t)),n}function Yv(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function FC(n,{top:e,left:t,bottom:r,right:o}){return{x:Yv(n.x,t,o),y:Yv(n.y,e,r)}}function Jv(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function jC(n,e){return{x:Jv(n.x,e.x),y:Jv(n.y,e.y)}}function UC(n,e){let t=.5;const r=vn(n),o=vn(e);return o>r?t=jo(e.min,e.max-r,n.min):r>o&&(t=jo(n.min,n.max-o,e.min)),Ur(0,1,t)}function zC(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Yf=.35;function BC(n=Yf){return n===!1?n=0:n===!0&&(n=Yf),{x:Zv(n,"left","right"),y:Zv(n,"top","bottom")}}function Zv(n,e,t){return{min:e0(n,e),max:e0(n,t)}}function e0(n,e){return typeof n=="number"?n:n[e]||0}const t0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:t0(),y:t0()}),n0=()=>({min:0,max:0}),lt=()=>({x:n0(),y:n0()});function kn(n){return[n("x"),n("y")]}function u1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function $C({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function qC(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function _f(n){return n===void 0||n===1}function Jf({scale:n,scaleX:e,scaleY:t}){return!_f(n)||!_f(e)||!_f(t)}function ds(n){return Jf(n)||c1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function c1(n){return r0(n.x)||r0(n.y)}function r0(n){return n&&n!=="0%"}function Uc(n,e,t){const r=n-t,o=e*r;return t+o}function i0(n,e,t,r,o){return o!==void 0&&(n=Uc(n,o,r)),Uc(n,t,r)+e}function Zf(n,e=0,t=1,r,o){n.min=i0(n.min,e,t,r,o),n.max=i0(n.max,e,t,r,o)}function h1(n,{x:e,y:t}){Zf(n.x,e.translate,e.scale,e.originPoint),Zf(n.y,t.translate,t.scale,t.originPoint)}const s0=.999999999999,o0=1.0000000000001;function WC(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,h1(n,u)),r&&ds(a.latestValues)&&bo(n,a.latestValues))}e.x<o0&&e.x>s0&&(e.x=1),e.y<o0&&e.y>s0&&(e.y=1)}function ko(n,e){n.min=n.min+e,n.max=n.max+e}function a0(n,e,t,r,o=.5){const a=nt(n.min,n.max,o);Zf(n,e,t,a,r)}function bo(n,e){a0(n.x,e.x,e.scaleX,e.scale,e.originX),a0(n.y,e.y,e.scaleY,e.scale,e.originY)}function d1(n,e){return u1(qC(n.getBoundingClientRect(),e))}function HC(n,e,t){const r=d1(n,t),{scroll:o}=e;return o&&(ko(r.x,o.offset.x),ko(r.y,o.offset.y)),r}const f1=({current:n})=>n?n.ownerDocument.defaultView:null,KC=new WeakMap;class GC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fl(v).point)},a=(v,w)=>{const{drag:T,dragPropagation:P,onDragStart:F}=this.getProps();if(T&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AC(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(V=>{let W=this.getAxisMotionValue(V).get()||0;if(ur.test(W)){const{projection:X}=this.visualElement;if(X&&X.layout){const Q=X.layout.layoutBox[V];Q&&(W=vn(Q)*(parseFloat(W)/100))}}this.originPoint[V]=W}),F&&Qe.postRender(()=>F(v,w)),Qf(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:T,dragDirectionLock:P,onDirectionLock:F,onDrag:j}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:V}=w;if(P&&this.currentDirection===null){this.currentDirection=QC(V),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",w.point,V),this.updateAxis("y",w.point,V),this.visualElement.render(),j&&j(v,w)},d=(v,w)=>this.stop(v,w),f=()=>kn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new s1(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:f1(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!dc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=MC(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=FC(o.layoutBox,t):this.constraints=!1,this.elastic=BC(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=zC(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Po(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=HC(r,o.root,this.visualElement.getTransformPagePoint());let u=jC(o.layout.layoutBox,a);if(t){const d=t($C(u));this.hasMutatedConstraints=!!d,d&&(u=u1(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=kn(v=>{if(!dc(v,t,this.currentDirection))return;let w=f[v]||{};u&&(w={min:0,max:0});const T=o?200:1e6,P=o?40:1e7,F={type:"inertia",velocity:r?e[v]:0,bounceStiffness:T,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,F)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Qf(this.visualElement,e),r.start(Gp(e,r,0,t,this.visualElement,!1))}stopAnimation(){kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kn(t=>{const{drag:r}=this.getProps();if(!dc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-nt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Po(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=UC({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(u=>{if(!dc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(nt(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;KC.set(this.visualElement,this);const e=this.visualElement.current,t=dl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Po(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(r);const u=Al(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(kn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Yf,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function dc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function QC(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class XC extends Oi{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new GC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const l0=n=>(e,t)=>{n&&Qe.postRender(()=>n(e,t))};class YC extends Oi{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new s1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:l0(e),onStart:l0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Qe.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const em=H.createContext(null);function JC(){const n=H.useContext(em);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,o=H.useId();H.useEffect(()=>r(o),[]);const a=H.useCallback(()=>t&&t(o),[o,t]);return!e&&t?[!1,a]:[!0]}const p1=H.createContext({}),m1=H.createContext({}),Ec={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const tl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_e.test(n))n=parseFloat(n);else return n;const t=u0(n,e.target.x),r=u0(n,e.target.y);return`${t}% ${r}%`}},ZC={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=ki.parse(n);if(o.length>5)return r;const a=ki.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=nt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}},zc={};function eP(n){Object.assign(zc,n)}const{schedule:tm,cancel:ML}=mw(queueMicrotask,!1);class tP extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;eP(nP),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ec.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Qe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g1(n){const[e,t]=JC(),r=H.useContext(p1);return R.jsx(tP,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(m1),isPresent:e,safeToRemove:t})}const nP={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:ZC},y1=["TopLeft","TopRight","BottomLeft","BottomRight"],rP=y1.length,c0=n=>typeof n=="string"?parseFloat(n):n,h0=n=>typeof n=="number"||_e.test(n);function iP(n,e,t,r,o,a){o?(n.opacity=nt(0,t.opacity!==void 0?t.opacity:1,sP(r)),n.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,oP(r))):a&&(n.opacity=nt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<rP;u++){const d=`border${y1[u]}Radius`;let f=d0(e,d),m=d0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||h0(f)===h0(m)?(n[d]=Math.max(nt(c0(f),c0(m),r),0),(ur.test(m)||ur.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=nt(e.rotate||0,t.rotate||0,r))}function d0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const sP=v1(0,.5,Tw),oP=v1(.5,.95,yn);function v1(n,e,t){return r=>r<n?0:r>e?1:t(jo(n,e,r))}function f0(n,e){n.min=e.min,n.max=e.max}function Rn(n,e){f0(n.x,e.x),f0(n.y,e.y)}function p0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function m0(n,e,t,r,o){return n-=e,n=Uc(n,1/t,r),o!==void 0&&(n=Uc(n,1/o,r)),n}function aP(n,e=0,t=1,r=.5,o,a=n,u=n){if(ur.test(e)&&(e=parseFloat(e),e=nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=nt(a.min,a.max,r);n===a&&(d-=e),n.min=m0(n.min,e,t,d,o),n.max=m0(n.max,e,t,d,o)}function g0(n,e,[t,r,o],a,u){aP(n,e[t],e[r],e[o],e.scale,a,u)}const lP=["x","scaleX","originX"],uP=["y","scaleY","originY"];function y0(n,e,t,r){g0(n.x,e,lP,t?t.x:void 0,r?r.x:void 0),g0(n.y,e,uP,t?t.y:void 0,r?r.y:void 0)}function v0(n){return n.translate===0&&n.scale===1}function _1(n){return v0(n.x)&&v0(n.y)}function _0(n,e){return n.min===e.min&&n.max===e.max}function cP(n,e){return _0(n.x,e.x)&&_0(n.y,e.y)}function w0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function w1(n,e){return w0(n.x,e.x)&&w0(n.y,e.y)}function E0(n){return vn(n.x)/vn(n.y)}function T0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class hP{constructor(){this.members=[]}add(e){Qp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dP(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:T,skewX:P,skewY:F}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),P&&(r+=`skewX(${P}deg) `),F&&(r+=`skewY(${F}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const fP=(n,e)=>n.depth-e.depth;class pP{constructor(){this.children=[],this.isDirty=!1}add(e){Qp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fP),this.isDirty=!1,this.children.forEach(e)}}function Tc(n){const e=Kt(n)?n.get():n;return JA(e)?e.toValue():e}function mP(n,e){const t=cr.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Ri(r),n(a-e))};return Qe.read(r,!0),()=>Ri(r)}function gP(n){return n instanceof SVGElement&&n.tagName!=="svg"}function yP(n,e,t){const r=Kt(n)?n:xl(n);return r.start(Gp("",r,e,t)),r.animation}const fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},al=typeof window<"u"&&window.MotionDebug!==void 0,wf=["","X","Y","Z"],vP={visibility:"hidden"},S0=1e3;let _P=0;function Ef(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function E1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Zw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qe,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&E1(r)}function T1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=_P++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,al&&(fs.totalNodes=fs.resolvedTargetDeltas=fs.recalculatedProjection=0),this.nodes.forEach(TP),this.nodes.forEach(CP),this.nodes.forEach(PP),this.nodes.forEach(SP),al&&window.MotionDebug.record(fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new pP)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Yp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gP(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=mP(T,250),Ec.hasAnimatedSinceResize&&(Ec.hasAnimatedSinceResize=!1,this.nodes.forEach(x0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:P,layout:F})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||NP,{onLayoutAnimationStart:V,onLayoutAnimationComplete:W}=v.getProps(),X=!this.targetLayout||!w1(this.targetLayout,F)||P,Q=!T&&P;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Q||T&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Q);const ie={...Vp(j,"layout"),onPlay:V,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(ie.delay=0,ie.type=!1),this.startAnimation(ie)}else T||x0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=F})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I0);return}this.isUpdating||this.nodes.forEach(xP),this.isUpdating=!1,this.nodes.forEach(AP),this.nodes.forEach(wP),this.nodes.forEach(EP),this.clearAllSnapshots();const d=cr.now();Lt.delta=Ur(0,1e3/60,d-Lt.timestamp),Lt.timestamp=d,Lt.isProcessing=!0,hf.update.process(Lt),hf.preRender.process(Lt),hf.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IP),this.sharedNodes.forEach(kP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!_1(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||ds(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),VP(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return lt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(LP))){const{scroll:v}=this.root;v&&(ko(f.x,v.offset.x),ko(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=lt();if(Rn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Rn(f,u),ko(f.x,w.offset.x),ko(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=lt();Rn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&bo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ds(v.latestValues)&&bo(f,v.latestValues)}return ds(this.latestValues)&&bo(f,this.latestValues),f}removeTransform(u){const d=lt();Rn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ds(m.latestValues))continue;Jf(m.latestValues)&&m.updateSnapshot();const v=lt(),w=m.measurePageBox();Rn(v,w),y0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return ds(this.latestValues)&&y0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),pl(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),h1(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),pl(this.relativeTargetOrigin,this.target,P.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}al&&fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||c1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Rn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,P=this.treeScale.y;WC(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=lt());const{target:F}=d;if(!F){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p0(this.prevProjectionDelta.x,this.projectionDelta.x),p0(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,F,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==P||!T0(this.projectionDelta.x,this.prevProjectionDelta.x)||!T0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",F)),al&&fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=lt(),P=f?f.source:void 0,F=this.layout?this.layout.source:void 0,j=P!==F,V=this.getStack(),W=!V||V.members.length<=1,X=!!(j&&!W&&this.options.crossfade===!0&&!this.path.some(DP));this.animationProgress=0;let Q;this.mixTargetDelta=ie=>{const se=ie/1e3;A0(w.x,u.x,se),A0(w.y,u.y,se),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bP(this.relativeTarget,this.relativeTargetOrigin,T,se),Q&&cP(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=lt()),Rn(Q,this.relativeTarget)),j&&(this.animationValues=v,iP(v,m,this.latestValues,se,X,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Ec.hasAnimatedSinceResize=!0,this.currentAnimation=yP(0,S0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&S1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||lt();const w=vn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=vn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Rn(d,f),bo(d,v),fl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hP),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Ef("z",u,m,this.animationValues);for(let v=0;v<wf.length;v++)Ef(`rotate${wf[v]}`,u,m,this.animationValues),Ef(`skew${wf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vP;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Tc(u==null?void 0:u.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Tc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(j.transform=v?v({},""):"none",this.hasProjected=!1),j}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=dP(this.projectionDeltaWithTransform,this.treeScale,T),v&&(m.transform=v(T,m.transform));const{x:P,y:F}=this.projectionDelta;m.transformOrigin=`${P.origin*100}% ${F.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const j in zc){if(T[j]===void 0)continue;const{correct:V,applyTo:W}=zc[j],X=m.transform==="none"?T[j]:V(T[j],w);if(W){const Q=W.length;for(let ie=0;ie<Q;ie++)m[W[ie]]=X}else m[j]=X}return this.options.layoutId&&(m.pointerEvents=w===this?Tc(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(I0),this.root.sharedNodes.clear()}}}function wP(n){n.updateLayout()}function EP(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?kn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],P=vn(T);T.min=r[w].min,T.max=T.min+P}):S1(a,t.layoutBox,r)&&kn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],P=vn(r[w]);T.max=T.min+P,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+P)});const d=Ro();fl(d,r,t.layoutBox);const f=Ro();u?fl(f,n.applyTransform(o,!0),t.measuredBox):fl(f,r,t.layoutBox);const m=!_1(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:P}=w;if(T&&P){const F=lt();pl(F,t.layoutBox,T.layoutBox);const j=lt();pl(j,r,P.layoutBox),w1(F,j)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=F,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function TP(n){al&&fs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function SP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function IP(n){n.clearSnapshot()}function I0(n){n.clearMeasurements()}function xP(n){n.isLayoutDirty=!1}function AP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function x0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function CP(n){n.resolveTargetDelta()}function PP(n){n.calcProjection()}function RP(n){n.resetSkewAndRotation()}function kP(n){n.removeLeadSnapshot()}function A0(n,e,t){n.translate=nt(e.translate,0,t),n.scale=nt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function C0(n,e,t,r){n.min=nt(e.min,t.min,r),n.max=nt(e.max,t.max,r)}function bP(n,e,t,r){C0(n.x,e.x,t.x,r),C0(n.y,e.y,t.y,r)}function DP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const NP={duration:.45,ease:[.4,0,.1,1]},P0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),R0=P0("applewebkit/")&&!P0("chrome/")?Math.round:yn;function k0(n){n.min=R0(n.min),n.max=R0(n.max)}function VP(n){k0(n.x),k0(n.y)}function S1(n,e,t){return n==="position"||n==="preserve-aspect"&&!LC(E0(e),E0(t),.2)}function LP(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const OP=T1({attachResizeListener:(n,e)=>Al(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tf={current:void 0},I1=T1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Tf.current){const n=new OP({});n.mount(window),n.setOptions({layoutScroll:!0}),Tf.current=n}return Tf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MP={pan:{Feature:YC},drag:{Feature:XC,ProjectionNode:I1,MeasureLayout:g1}};function b0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Qe.postRender(()=>a(e,Fl(e)))}class FP extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=EC(e,t=>(b0(this.node,t,"Start"),r=>b0(this.node,r,"End"))))}unmount(){}}class jP extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ml(Al(this.node.current,"focus",()=>this.onFocus()),Al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D0(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Qe.postRender(()=>a(e,Fl(e)))}class UP extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=xC(e,t=>(D0(this.node,t,"Start"),(r,{success:o})=>D0(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ep=new WeakMap,Sf=new WeakMap,zP=n=>{const e=ep.get(n.target);e&&e(n)},BP=n=>{n.forEach(zP)};function $P({root:n,...e}){const t=n||document;Sf.has(t)||Sf.set(t,{});const r=Sf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(BP,{root:n,...e})),r[o]}function qP(n,e,t){const r=$P(e);return ep.set(n,t),r.observe(n),()=>{ep.delete(n),r.unobserve(n)}}const WP={some:0,all:1};class HP extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:WP[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=m?v:w;T&&T(f)};return qP(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(KP(e,t))&&this.startObserver()}unmount(){}}function KP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const GP={inView:{Feature:HP},tap:{Feature:UP},focus:{Feature:jP},hover:{Feature:FP}},QP={layout:{ProjectionNode:I1,MeasureLayout:g1}},x1=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ch=H.createContext({}),nm=typeof window<"u",XP=nm?H.useLayoutEffect:H.useEffect,A1=H.createContext({strict:!1});function YP(n,e,t,r,o){var a,u;const{visualElement:d}=H.useContext(ch),f=H.useContext(A1),m=H.useContext(em),v=H.useContext(x1).reducedMotion,w=H.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,P=H.useContext(m1);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&JP(w.current,t,o,P);const F=H.useRef(!1);H.useInsertionEffect(()=>{T&&F.current&&T.update(t,m)});const j=t[Jw],V=H.useRef(!!j&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,j))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,j)));return XP(()=>{T&&(F.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),tm.render(T.render),V.current&&T.animationState&&T.animationState.animateChanges())}),H.useEffect(()=>{T&&(!V.current&&T.animationState&&T.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,j)}),V.current=!1))}),T}function JP(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:C1(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Po(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function C1(n){if(n)return n.options.allowProjection!==!1?n.projection:C1(n.parent)}function ZP(n,e,t){return H.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Po(t)&&(t.current=r))},[e])}function hh(n){return ah(n.animate)||Np.some(e=>Tl(n[e]))}function P1(n){return!!(hh(n)||n.variants)}function eR(n,e){if(hh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Tl(t)?t:void 0,animate:Tl(r)?r:void 0}}return n.inherit!==!1?e:{}}function tR(n){const{initial:e,animate:t}=eR(n,H.useContext(ch));return H.useMemo(()=>({initial:e,animate:t}),[N0(e),N0(t)])}function N0(n){return Array.isArray(n)?n.join(" "):n}const V0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const n in V0)Uo[n]={isEnabled:e=>V0[n].some(t=>!!e[t])};function nR(n){for(const e in n)Uo[e]={...Uo[e],...n[e]}}const rR=Symbol.for("motionComponentSymbol");function iR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){n&&nR(n);function a(d,f){let m;const v={...H.useContext(x1),...d,layoutId:sR(d)},{isStatic:w}=v,T=tR(d),P=r(d,w);if(!w&&nm){oR();const F=aR(v);m=F.MeasureLayout,T.visualElement=YP(o,P,v,e,F.ProjectionNode)}return R.jsxs(ch.Provider,{value:T,children:[m&&T.visualElement?R.jsx(m,{visualElement:T.visualElement,...v}):null,t(o,d,ZP(P,T.visualElement,f),P,w,T.visualElement)]})}const u=H.forwardRef(a);return u[rR]=o,u}function sR({layoutId:n}){const e=H.useContext(p1).id;return e&&n!==void 0?e+"-"+n:n}function oR(n,e){H.useContext(A1).strict}function aR(n){const{drag:e,layout:t}=Uo;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const lR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rm(n){return typeof n!="string"||n.includes("-")?!1:!!(lR.indexOf(n)>-1||/[A-Z]/u.test(n))}function R1(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const k1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b1(n,e,t,r){R1(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(k1.has(o)?o:Jp(o),e.attrs[o])}function D1(n,{layout:e,layoutId:t}){return Ps.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!zc[n]||n==="opacity")}function im(n,e,t){var r;const{style:o}=n,a={};for(const u in o)(Kt(o[u])||e.style&&Kt(e.style[u])||D1(u,n)||((r=t==null?void 0:t.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function N1(n,e,t){const r=im(n,e,t);for(const o in n)if(Kt(n[o])||Kt(e[o])){const a=Vl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}function uR(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}function cR({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,o,a){const u={latestValues:hR(r,o,a,n),renderState:e()};return t&&(u.mount=d=>t(r,d,u)),u}const V1=n=>(e,t)=>{const r=H.useContext(ch),o=H.useContext(em),a=()=>cR(n,e,r,o);return t?a():uR(a)};function hR(n,e,t,r){const o={},a=r(n,{});for(const T in a)o[T]=Tc(a[T]);let{initial:u,animate:d}=n;const f=hh(n),m=P1(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!ah(w)){const T=Array.isArray(w)?w:[w];for(let P=0;P<T.length;P++){const F=bp(n,T[P]);if(F){const{transitionEnd:j,transition:V,...W}=F;for(const X in W){let Q=W[X];if(Array.isArray(Q)){const ie=v?Q.length-1:0;Q=Q[ie]}Q!==null&&(o[X]=Q)}for(const X in j)o[X]=j[X]}}}return o}const sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),L1=()=>({...sm(),attrs:{}}),O1=(n,e)=>e&&typeof n=="number"?e.transform(n):n,dR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fR=Vl.length;function pR(n,e,t){let r="",o=!0;for(let a=0;a<fR;a++){const u=Vl[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=O1(d,zp[u]);if(!f){o=!1;const v=dR[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function om(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if(Ps.has(f)){u=!0;continue}else if(Cw(f)){o[f]=m;continue}else{const v=O1(m,zp[f]);f.startsWith("origin")?(d=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=pR(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${m} ${v}`}}function L0(n,e,t){return typeof n=="string"?n:_e.transform(e+t*n)}function mR(n,e,t){const r=L0(e,n.x,n.width),o=L0(t,n.y,n.height);return`${r} ${o}`}const gR={offset:"stroke-dashoffset",array:"stroke-dasharray"},yR={offset:"strokeDashoffset",array:"strokeDasharray"};function vR(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?gR:yR;n[a.offset]=_e.transform(-r);const u=_e.transform(e),d=_e.transform(t);n[a.array]=`${u} ${d}`}function am(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(om(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:P,dimensions:F}=n;T.transform&&(F&&(P.transform=T.transform),delete T.transform),F&&(o!==void 0||a!==void 0||P.transform)&&(P.transformOrigin=mR(F,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),u!==void 0&&vR(T,u,d,f,!1)}const lm=n=>typeof n=="string"&&n.toLowerCase()==="svg",_R={useVisualState:V1({scrapeMotionValuesFromProps:N1,createRenderState:L1,onMount:(n,e,{renderState:t,latestValues:r})=>{Qe.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{am(t,r,lm(e.tagName),n.transformTemplate),b1(e,t)})}})},wR={useVisualState:V1({scrapeMotionValuesFromProps:im,createRenderState:sm})};function M1(n,e,t){for(const r in e)!Kt(e[r])&&!D1(r,t)&&(n[r]=e[r])}function ER({transformTemplate:n},e){return H.useMemo(()=>{const t=sm();return om(t,e,n),Object.assign({},t.vars,t.style)},[e])}function TR(n,e){const t=n.style||{},r={};return M1(r,t,n),Object.assign(r,ER(n,e)),r}function SR(n,e){const t={},r=TR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const IR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||IR.has(n)}let F1=n=>!Bc(n);function xR(n){n&&(F1=e=>e.startsWith("on")?!Bc(e):n(e))}try{xR(require("@emotion/is-prop-valid").default)}catch{}function AR(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(F1(o)||t===!0&&Bc(o)||!e&&!Bc(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function CR(n,e,t,r){const o=H.useMemo(()=>{const a=L1();return am(a,e,lm(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};M1(a,n.style,n),o.style={...a,...o.style}}return o}function PR(n=!1){return(t,r,o,{latestValues:a},u)=>{const f=(rm(t)?CR:SR)(r,a,u,t),m=AR(r,typeof t=="string",n),v=t!==H.Fragment?{...m,...f,ref:o}:{},{children:w}=r,T=H.useMemo(()=>Kt(w)?w.get():w,[w]);return H.createElement(t,{...v,children:T})}}function RR(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...rm(r)?_R:wR,preloadedFeatures:n,useRender:PR(o),createVisualElement:e,Component:r};return iR(u)}}const tp={current:null},j1={current:!1};function kR(){if(j1.current=!0,!!nm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>tp.current=n.matches;n.addListener(e),e()}else tp.current=!1}function bR(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Kt(o))n.addValue(r,o);else if(Kt(a))n.addValue(r,xl(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,xl(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const O0=new WeakMap,DR=[...kw,$t,ki],NR=n=>DR.find(Rw(n)),M0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VR{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=cr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Qe.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=hh(t),this.isVariantNode=P1(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in w){const P=w[T];f[T]!==void 0&&Kt(P)&&P.set(f[T],!1)}}mount(e){this.current=e,O0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),j1.current||kR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O0.delete(this.current),this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ps.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uo){const t=Uo[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<M0.length;r++){const o=M0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=bR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=xl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(xw(o)||Iw(o))?o=parseFloat(o):!NR(o)&&ki.test(t)&&(o=Fw(e,t)),this.setBaseTarget(e,Kt(o)?o.get():o)),Kt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=bp(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Kt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Yp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class U1 extends VR{constructor(){super(...arguments),this.KeyframeResolver=jw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function LR(n){return window.getComputedStyle(n)}class OR extends U1{constructor(){super(...arguments),this.type="html",this.renderInstance=R1}readValueFromInstance(e,t){if(Ps.has(t)){const r=Bp(t);return r&&r.default||0}else{const r=LR(e),o=(Cw(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return d1(e,t)}build(e,t,r){om(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return im(e,t,r)}}class MR extends U1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ps.has(t)){const r=Bp(t);return r&&r.default||0}return t=k1.has(t)?t:Jp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return N1(e,t,r)}build(e,t,r){am(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){b1(e,t,r,o)}mount(e){this.isSVGTag=lm(e.tagName),super.mount(e)}}const FR=(n,e)=>rm(n)?new MR(e):new OR(e,{allowProjection:n!==H.Fragment}),jR=RR({..._C,...GP,...MP,...QP},FR),Te=yx(jR),UR=()=>R.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 text-white min-h-screen p-8",children:[R.jsxs(Te.div,{className:"text-center mb-12 pt-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[R.jsx("h1",{className:"text-6xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-600 drop-shadow-lg",children:"Rzboaiele daco-romane: O poveste de lupte i destin"}),R.jsx(Te.p,{className:"text-xl mt-4 max-w-3xl mx-auto leading-relaxed",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.5},children:"Povestea Rzboaielor daco-romane este una de eroism, trdare i schimbri istorice fundamentale. Afl cum Imperiul Roman i Dacia au devenit rivale n lupta pentru putere i resurse. Aceste conflicte nu doar c au remodelat harta regiunii, dar au avut o influen crucial asupra regiunilor nvecinate i au lsat o amprent adnc n cultura i limba romn. Rzboaiele de la porile Imperiului au fost doar nceputul unei perioade de transformri istorice profunde."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Rdcinile conflictului: Lumea daco-roman"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"La nceputul erei noastre, Dacia era un teritoriu deosebit de bogat, cu resurse naturale valoroase, care atrgeau atenia Imperiului Roman. Dacii, sub conducerea regelui Burebista, reuiser s uneasc triburile din zon, devenind o putere regional semnificativ. n aceast perioad, Roma, dorind s-i asigure expansiunea i accesul la resurse strategice, i proiecta influena asupra regiunii. Lupta pentru controlul Daciei s-a transformat rapid ntr-un conflict militar complex, marcat de o serie de atacuri i aliane fluctuante."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Prima ofensiv: O lupt pe via i pe moarte"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"mpratul Domitian, dorind s pun capt ameninrii daco-romane i s asigure securitatea frontierelor Imperiului Roman, a lansat o prim ofensiv mpotriva Daciei. Dei campania roman a fost susinut de un numr superior de trupe, dacii, sub conducerea lui Decebal, au demonstrat o aprare remarcabil. Btliile din aceast perioad au fost intense, cu pierderi mari de ambele pri, iar conflictul nu s-a ncheiat cu o victorie decisiv pentru Roma, subliniind determinarea dacilor de a-i apra libertatea."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx("h2",{className:"text-4xl font-semibold mb-6 text-yellow-400",children:"Casca de rzboi a unui dac"}),R.jsx("div",{className:"sketchfab-embed-wrapper flex justify-center",children:R.jsx("iframe",{title:"Dacian helmet Trajan column",frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"autoplay; fullscreen; xr-spatial-tracking",src:"https://sketchfab.com/models/53da530d2c6f4941b668971ae13e7f7e/embed",className:"w-4/5 h-[450px]"})})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Cucerirea i transformarea regiunii"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"n anul 106 d.Hr., mpratul Traian a demarat o campanie de amploare, care a culminat cu victoria roman asupra dacilor. Dup un asediu prelungit i btlii decisive, Dacia a fost cucerit, iar regele Decebal s-a sinucis pentru a evita capturarea. Cucerirea Daciei nu a marcat doar o victorie militar, ci i un nceput al romanizrii regiunii, n care infrastructura roman, cum ar fi drumurile, oraele i sistemele administrative, au fost impuse cu fora. Aceasta a fost o perioad de mari schimbri pentru regiunile Daciei."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx("h2",{className:"text-4xl font-semibold mb-6 text-yellow-400",children:"mpratul Traian"}),R.jsx("div",{className:"sketchfab-embed-wrapper flex justify-center",children:R.jsx("iframe",{title:"Roman Emperor Traianus",frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"autoplay; fullscreen; xr-spatial-tracking",src:"https://sketchfab.com/models/21003651c1e348339ba4d3ca4327ee22/embed",className:"w-4/5 h-[450px]"})})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"O ereditate de nepreuit: Impactul asupra culturii i limbii"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Motenirea rzboaielor daco-romane este profund i continu s modeleze identitatea naional a romnilor. Romanizarea a adus limba latin, care a devenit fundamentul limbii romne, dar i elemente de cultur roman, precum dreptul i organizarea militar. De asemenea, n ciuda integrrii n Imperiul Roman, dacii au pstrat multe dintre tradiiile i obiceiurile lor, care au supravieuit i s-au transformat de-a lungul secolelor. Rzboaiele daco-romane au fost nu doar un conflict militar, ci i o lupt cultural, iar urmele acestei istorii se regsesc astzi n istoria i cultura Romniei."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Decebal"}),R.jsxs("div",{className:"sketchfab-embed-wrapper",children:[R.jsx("iframe",{title:"Decebal - The last king of Dacia",frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"autoplay; fullscreen; xr-spatial-tracking","xr-spatial-tracking":!0,"execution-while-out-of-viewport":!0,"execution-while-not-rendered":!0,"web-share":!0,src:"https://sketchfab.com/models/8d953229949742ed8cc09706ce127a5f/embed",className:"w-full h-[600px] mt-6"}),R.jsxs("p",{style:{fontSize:"13px",fontWeight:"normal",margin:"5px",color:"#4A4A4A"},children:[R.jsx("a",{href:"https://sketchfab.com/3d-models/decebal-the-last-king-of-dacia-8d953229949742ed8cc09706ce127a5f?utm_medium=embed&utm_campaign=share-popup&utm_content=8d953229949742ed8cc09706ce127a5f",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"Decebal - The last king of Dacia"})," by"," ",R.jsx("a",{href:"https://sketchfab.com/andreidrmb?utm_medium=embed&utm_campaign=share-popup&utm_content=8d953229949742ed8cc09706ce127a5f",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"andreidrmb"})," on"," ",R.jsx("a",{href:"https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=8d953229949742ed8cc09706ce127a5f",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"Sketchfab"})]})]})]})]}),zR=()=>R.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 text-white min-h-screen p-8",children:[R.jsxs(Te.div,{className:"text-center mb-12 pt-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[R.jsx("h1",{className:"text-5xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-600 drop-shadow-lg",children:"Romanizarea i influena asupra limbii romne"}),R.jsx(Te.p,{className:"text-xl mt-4 max-w-3xl mx-auto leading-relaxed",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.5},children:"Romanizarea Daciei a avut un impact fundamental asupra limbii romne, care a evoluat din latin, aducnd influene semnificative din limba i cultura roman. Aceasta perioad a transformat nu doar limba, dar i structurile sociale, administrative i culturale, care au lsat o amprent adnc asupra evoluiei regiunii. De asemenea, romanizarea a influenat dezvoltarea oraelor i a infrastructurii, lsnd urme care se reflect chiar i n peisajul urban contemporan."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Impactul romanizrii: O transformare cultural"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Dup cucerirea Daciei, Imperiul Roman a impus un proces de romanizare care a transformat radical structura social i cultural a regiunii. Limba latin, adus de coloniti i soldai romani, a nlocuit treptat limbile locale i a devenit fundamentul limbii romne. Acest proces a fost esenial n crearea unei identiti comune, n ciuda diversitii tribale i culturale a Daciei. Oraele romane, precum Ulpia Traiana Sarmizegetusa, au fost centre culturale i administrative, unde influenele romane s-au manifestat n arhitectur, educaie i administraie."})]}),R.jsxs("div",{className:"sketchfab-embed-wrapper",children:[R.jsx("iframe",{title:"Trajans Column Cast",frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"autoplay; fullscreen; xr-spatial-tracking","xr-spatial-tracking":!0,"execution-while-out-of-viewport":!0,"execution-while-not-rendered":!0,"web-share":!0,src:"https://sketchfab.com/models/2a465a4265b54374ade9d9e69b6e67c8/embed",className:"w-full h-[600px] mt-6"}),R.jsxs("p",{style:{fontSize:"13px",fontWeight:"normal",margin:"5px",color:"#4A4A4A"},children:[R.jsx("a",{href:"https://sketchfab.com/3d-models/trajans-column-cast-2a465a4265b54374ade9d9e69b6e67c8?utm_medium=embed&utm_campaign=share-popup&utm_content=2a465a4265b54374ade9d9e69b6e67c8",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"Trajans Column Cast"})," by"," ",R.jsx("a",{href:"https://sketchfab.com/thinksee3d?utm_medium=embed&utm_campaign=share-popup&utm_content=2a465a4265b54374ade9d9e69b6e67c8",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"ThinkSee3D"})," ","on"," ",R.jsx("a",{href:"https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=2a465a4265b54374ade9d9e69b6e67c8",target:"_blank",rel:"nofollow",style:{fontWeight:"bold",color:"#1CAAD9"},children:"Sketchfab"})]})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Limba romn: O motenire latin"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Limba romn este o limb romanic, care deriv direct din latin. Romanizarea Daciei a fost un factor determinant n formarea limbii romne, iar elementele latineti se regsesc astzi n structura lingvistic i vocabularul limbii. De la cuvinte fundamentale la termeni juridici i administraivi, limba romn poart amprenta Romei antice. De exemplu, cuvinte precum civis (cetean) sau legis (lege) sunt doar cteva dintre termenii eseniali care au trecut n limba romn."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Cuvinte de origine latin n limba romn"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Multe cuvinte din limba romn provin direct din latin, reflectnd influenele Romei antice asupra regiunii. De exemplu, cuvintele capital (din lat. capitale), legislaie (din lat. legislatio), administrare (din lat. administratio) i multe altele demonstreaz legtura strns dintre limba romn i limba latin. De asemenea, multe expresii din limbajul cotidian sunt influenate de tradiiile romane, cum ar fi a pune bazele sau a face lege."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Limba romn astzi: O limb latin cu influene diverse"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Dei limba romn i are rdcinile n latin, influenele altor culturi i limbi au contribuit la formarea limbii moderne. Elementele slavone, greceti i turceti sunt vizibile n vocabularul romnesc, ceea ce reflect istoria tumultoas a regiunii i contactele cu diverse civilizaii. De exemplu, cuvintele banca (din turcescul banka), coal (din grecescul schol) i mnstire (din slavon) sunt doar cteva exemple ale diversitii influenelor."})]})]}),BR=()=>R.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 text-white min-h-screen p-8",children:[R.jsxs(Te.div,{className:"text-center mb-12 pt-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[R.jsx("h1",{className:"text-6xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-600 drop-shadow-lg",children:"Motenirea cultural i identitatea naional a romnilor"}),R.jsx(Te.p,{className:"text-xl mt-4 max-w-3xl mx-auto leading-relaxed",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.5},children:"Motenirea cultural a romnilor este rezultatul unui amestec unic de influene, de la strmoii daci, pn la imperiile care au dominat regiunile noastre de-a lungul istoriei. Aceste moteniri nu sunt doar un tezaur istoric, ci un element definitoriu al identitii noastre naionale. Fiecare rzboi, fiecare invazie, i fiecare schimb cultural a lsat o amprent adnc asupra limbii, tradiiilor i valorilor romnilor. n aceast lecie, vom explora cum motenirea daco-roman a contribuit la formarea limbii i culturii romneti."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Romanizarea: Limbajul i Cultura"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Romanizarea Daciei a avut un impact fundamental asupra limbii i culturii romneti. Dup cucerirea Daciei de ctre Imperiul Roman n anul 106 d.Hr., limba latin a devenit fundamentul pentru formarea limbii romne. Aceasta a nlocuit limbile i dialectele vechi ale regiunii, iar influenele latine au modelat profund vocabularul i structura gramatical a limbii romne. Pe lng limb, romanizarea a adus i alte elemente culturale, cum ar fi tradiiile, obiceiurile i organizarea administrativ."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Motenirea arhitectural: Drumuri i orae romane"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Imperiul Roman a lsat o motenire important n infrastructura Daciei cucerite. Drumurile romane construite pentru a facilita deplasarea legiunilor romane au rmas eseniale pentru dezvoltarea regiunilor i dup retragerea Imperiului Roman. De asemenea, oraele romane, cum ar fi Ulpia Traiana Sarmizegetusa, au reprezentat centre economice i culturale care au influenat dezvoltarea regiunii pe termen lung. Aceste construcii, multe dintre ele vizibile i astzi, sunt dovezi ale abilitii romanilor de a integra regiunile cucerite ntr-o structur coerent i eficient."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Religia i formarea identitii naionale"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Religia a avut un rol important n formarea identitii naionale a romnilor. Cretinismul, adus de romani, a fost adoptat treptat de populaia local i a devenit un element central n definirea culturii i valorilor romneti. n aceast perioad, Biserica a fost un pilon al unitii i continuitii culturale, iar tradiiile religioase au fost integrale n viaa cotidian a romnilor, influennd att obiceiurile, ct i arta i literatura ulterioare."})]}),R.jsxs(Te.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 p-8 rounded-lg shadow-lg mb-12 transition-all duration-300 hover:bg-gray-700 relative overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[R.jsx(Te.h2,{className:"text-4xl font-semibold mb-6 text-yellow-400 hover:text-yellow-500 transition-all",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:"Motenirea daco-roman n Romnia de azi"}),R.jsx(Te.p,{className:"text-lg leading-relaxed",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:"Motenirea daco-roman este o component esenial a identitii naionale a romnilor. Tradiiile, limba i cultura noastr sunt un amestec de influene dacice i romane, care au dat natere unui patrimoniu cultural unic. nelegerea acestui trecut istoric este esenial pentru a aprecia adevrata valoare a tradiiilor noastre i pentru a nelege modul n care acestea continu s modeleze Romnia modern."})]})]});var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$R=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,P=m&63;f||(P=64,u||(T=64)),r.push(t[v],t[w],t[T],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new qR;const T=a<<2|d>>4;if(r.push(T),m!==64){const P=d<<4&240|m>>2;if(r.push(P),w!==64){const F=m<<6&192|w;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(n){const e=z1(n);return B1.encodeByteArray(e,!0)},$c=function(n){return WR(n).replace(/\./g,"")},$1=function(n){try{return B1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>HR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof F0>"u")return;const n=F0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$1(n[1]);return e&&JSON.parse(e)},dh=()=>{try{return KR()||GR()||QR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},q1=n=>{var e,t;return(t=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XR=n=>{const e=q1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},W1=()=>{var n;return(n=dh())===null||n===void 0?void 0:n.config},H1=n=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function ek(){var n;const e=(n=dh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sk(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ok(){try{return typeof indexedDB=="object"}catch{return!1}}function ak(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lk,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?uk(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new qr(o,d,r)}}function uk(n,e){return n.replace(ck,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ck=/\{\$([^}]+)}/g;function hk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(j0(a)&&j0(u)){if(!qc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function j0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dk(n,e){const t=new fk(n,e);return t.subscribe.bind(t)}class fk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(n){return n===ps?void 0:n}function yk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const _k={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},wk=ke.INFO,Ek={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Tk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Ek[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Sk=(n,e)=>e.some(t=>n instanceof t);let U0,z0;function Ik(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xk(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K1=new WeakMap,np=new WeakMap,G1=new WeakMap,xf=new WeakMap,cm=new WeakMap;function Ak(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ai(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&K1.set(t,n)}).catch(()=>{}),cm.set(e,n),e}function Ck(n){if(np.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});np.set(n,e)}let rp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return np.get(n);if(e==="objectStoreNames")return n.objectStoreNames||G1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Pk(n){rp=n(rp)}function Rk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return G1.set(r,e.sort?e.sort():[e]),Ai(r)}:xk().includes(n)?function(...e){return n.apply(Af(this),e),Ai(K1.get(this))}:function(...e){return Ai(n.apply(Af(this),e))}}function kk(n){return typeof n=="function"?Rk(n):(n instanceof IDBTransaction&&Ck(n),Sk(n,Ik())?new Proxy(n,rp):n)}function Ai(n){if(n instanceof IDBRequest)return Ak(n);if(xf.has(n))return xf.get(n);const e=kk(n);return e!==n&&(xf.set(n,e),cm.set(e,n)),e}const Af=n=>cm.get(n);function bk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Ai(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ai(u.result),f.oldVersion,f.newVersion,Ai(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Dk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],Cf=new Map;function B0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Nk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Dk.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Cf.set(e,a),a}Pk(n=>({...n,get:(e,t,r)=>B0(e,t)||n.get(e,t,r),has:(e,t)=>!!B0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Lk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Lk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",$0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new um("@firebase/app"),Ok="@firebase/app-compat",Mk="@firebase/analytics-compat",Fk="@firebase/analytics",jk="@firebase/app-check-compat",Uk="@firebase/app-check",zk="@firebase/auth",Bk="@firebase/auth-compat",$k="@firebase/database",qk="@firebase/data-connect",Wk="@firebase/database-compat",Hk="@firebase/functions",Kk="@firebase/functions-compat",Gk="@firebase/installations",Qk="@firebase/installations-compat",Xk="@firebase/messaging",Yk="@firebase/messaging-compat",Jk="@firebase/performance",Zk="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",rb="@firebase/storage-compat",ib="@firebase/firestore",sb="@firebase/vertexai",ob="@firebase/firestore-compat",ab="firebase",lb="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",ub={[ip]:"fire-core",[Ok]:"fire-core-compat",[Fk]:"fire-analytics",[Mk]:"fire-analytics-compat",[Uk]:"fire-app-check",[jk]:"fire-app-check-compat",[zk]:"fire-auth",[Bk]:"fire-auth-compat",[$k]:"fire-rtdb",[qk]:"fire-data-connect",[Wk]:"fire-rtdb-compat",[Hk]:"fire-fn",[Kk]:"fire-fn-compat",[Gk]:"fire-iid",[Qk]:"fire-iid-compat",[Xk]:"fire-fcm",[Yk]:"fire-fcm-compat",[Jk]:"fire-perf",[Zk]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[rb]:"fire-gcs-compat",[ib]:"fire-fst",[ob]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,cb=new Map,op=new Map;function q0(n,e){try{n.container.addComponent(e)}catch(t){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){const e=n.name;if(op.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,n);for(const t of Wc.values())q0(t,n);for(const t of cb.values())q0(t,n);return!0}function hm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new jl("app","Firebase",hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=lb;function Q1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(t||(t=W1()),!t)throw Ci.create("no-options");const a=Wc.get(o);if(a){if(qc(t,a.options)&&qc(r,a.config))return a;throw Ci.create("duplicate-app",{appName:o})}const u=new vk(o);for(const f of op.values())u.addComponent(f);const d=new db(t,r,u);return Wc.set(o,d),d}function X1(n=sp){const e=Wc.get(n);if(!e&&n===sp&&W1())return Q1();if(!e)throw Ci.create("no-app",{appName:n});return e}function Pi(n,e,t){var r;let o=(r=ub[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(d.join(" "));return}zo(new Ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebase-heartbeat-database",pb=1,Cl="firebase-heartbeat-store";let Pf=null;function Y1(){return Pf||(Pf=bk(fb,pb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ci.create("idb-open",{originalErrorMessage:n.message})})),Pf}async function mb(n){try{const t=(await Y1()).transaction(Cl),r=await t.objectStore(Cl).get(J1(n));return await t.done,r}catch(e){if(e instanceof qr)zr.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(t.message)}}}async function W0(n,e){try{const r=(await Y1()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,J1(n)),await r.done}catch(t){if(t instanceof qr)zr.warn(t.message);else{const r=Ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zr.warn(r.message)}}}function J1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1024,yb=30*24*60*60*1e3;class vb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=yb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:r,unsentEntries:o}=_b(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return zr.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function _b(n,e=gb){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),K0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),K0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ok()?ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K0(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n){zo(new Ss("platform-logger",e=>new Vk(e),"PRIVATE")),zo(new Ss("heartbeat",e=>new vb(e),"PRIVATE")),Pi(ip,$0,n),Pi(ip,$0,"esm2017"),Pi("fire-js","")}Eb("");var Tb="firebase",Sb="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(Tb,Sb,"app");function dm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ib=Z1,eE=new jl("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new um("@firebase/auth");function xb(n,...e){Hc.logLevel<=ke.WARN&&Hc.warn(`Auth (${Zo}): ${n}`,...e)}function Sc(n,...e){Hc.logLevel<=ke.ERROR&&Hc.error(`Auth (${Zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n,...e){throw pm(n,...e)}function Kn(n,...e){return pm(n,...e)}function fm(n,e,t){const r=Object.assign(Object.assign({},Ib()),{[e]:t});return new jl("auth","Firebase",r).create(e,{appName:n.name})}function _s(n){return fm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fr(n,"argument-error"),fm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eE.create(n,...e)}function Se(n,e,...t){if(!n)throw pm(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sc(e),new Error(e)}function Br(n,e){n||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Cb(){return G0()==="http:"||G0()==="https:"}function G0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cb()||nk()||"connection"in navigator)?navigator.onLine:!0}function Rb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||rk()}get(){return Pb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e){Br(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new zl(3e4,6e4);function gm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ea(n,e,t,r,o={}){return nE(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Ul(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return tk()||(m.referrerPolicy="no-referrer"),tE.fetch()(rE(n,n.config.apiHost,t,d),m)})}async function nE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kb),e);try{const o=new Nb(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw fc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw fc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw fc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fm(n,v,m);fr(n,v)}}catch(o){if(o instanceof qr)throw o;fr(n,"network-request-failed",{message:String(o)})}}async function Db(n,e,t,r,o={}){const a=await ea(n,e,t,r,o);return"mfaPendingCredential"in a&&fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function rE(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?mm(n.config,o):`${n.config.apiScheme}://${o}`}class Nb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),bb.get())})}}function fc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Kn(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n,e){return ea(n,"POST","/v1/accounts:delete",e)}async function iE(n,e){return ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lb(n,e=!1){const t=Gn(n),r=await t.getIdToken(e),o=ym(r);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:ml(Rf(o.auth_time)),issuedAtTime:ml(Rf(o.iat)),expirationTime:ml(Rf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Rf(n){return Number(n)*1e3}function ym(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$1(t);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Q0(n){const e=ym(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&Ob(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ob({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Pl(n,iE(t,{idToken:r}));Se(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?sE(a.providerUserInfo):[],d=jb(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new lp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function Fb(n){const e=Gn(n);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jb(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function sE(n){return n.map(e=>{var{providerId:t}=e,r=dm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(n,e){const t=await nE(n,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=rE(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",tE.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zb(n,e){return ea(n,"POST","/v2/accounts:revokeToken",gm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Q0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Ub(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Do;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=dm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Lb(this,e)}reload(){return Fb(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Pl(this,Vb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,f,m,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,P=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,F=(u=t.photoURL)!==null&&u!==void 0?u:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,W=(m=t.createdAt)!==null&&m!==void 0?m:void 0,X=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Q,emailVerified:ie,isAnonymous:se,providerData:ce,stsTokenManager:D}=t;Se(Q&&D,e,"internal-error");const I=Do.fromJSON(this.name,D);Se(typeof Q=="string",e,"internal-error"),yi(w,e.name),yi(T,e.name),Se(typeof ie=="boolean",e,"internal-error"),Se(typeof se=="boolean",e,"internal-error"),yi(P,e.name),yi(F,e.name),yi(j,e.name),yi(V,e.name),yi(W,e.name),yi(X,e.name);const A=new Or({uid:Q,auth:e,email:T,emailVerified:ie,displayName:w,isAnonymous:se,photoURL:F,phoneNumber:P,tenantId:j,stsTokenManager:I,createdAt:W,lastLoginAt:X});return ce&&Array.isArray(ce)&&(A.providerData=ce.map(b=>Object.assign({},b))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(e,t,r=!1){const o=new Do;o.updateFromServerResponse(t);const a=new Or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Kc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?sE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Do;d.updateFromIdToken(r);const f=new Or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function Mr(n){Br(n instanceof Function,"Expected a class definition");let e=X0.get(n);return e?(Br(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,X0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oE.type="NONE";const Y0=oE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ic("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new No(Mr(Y0),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Mr(Y0);const u=Ic(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){const w=Or._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new No(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new No(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dE(e))return"Blackberry";if(fE(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||uE(e))&&!e.includes("edge/"))return"Chrome";if(hE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aE(n=Gt()){return/firefox\//i.test(n)}function lE(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uE(n=Gt()){return/crios\//i.test(n)}function cE(n=Gt()){return/iemobile/i.test(n)}function hE(n=Gt()){return/android/i.test(n)}function dE(n=Gt()){return/blackberry/i.test(n)}function fE(n=Gt()){return/webos/i.test(n)}function vm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Bb(n=Gt()){var e;return vm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $b(){return ik()&&document.documentMode===10}function pE(n=Gt()){return vm(n)||hE(n)||fE(n)||dE(n)||/windows phone/i.test(n)||cE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n,e=[]){let t;switch(n){case"Browser":t=J0(Gt());break;case"Worker":t=`${J0(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(n,e={}){return ea(n,"GET","/v2/passwordPolicy",gm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=6;class Kb{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Hb,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await iE(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(_s(this));const t=e?Gn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wb(this),t=new Kb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&xb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fh(n){return Gn(n)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dk(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qb(n){_m=n}function Xb(n){return _m.loadJS(n)}function Yb(){return _m.gapiScript}function Jb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n,e){const t=hm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(qc(a,e??{}))return o;fr(o,"already-initialized")}return t.initialize({options:e})}function e2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Mr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t2(n,e,t){const r=fh(n);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=gE(e),{host:u,port:d}=n2(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),r2()}function gE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n2(n){const e=gE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:e_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:e_(u)}}}function e_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function r2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return Db(n,"POST","/v1/accounts:signInWithIdp",gm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="http://localhost";class Is extends yE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=dm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Is(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Bl{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Is._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Nr.credential(t,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Bl{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Bl{constructor(){super("twitter.com")}static credential(e,t){return Is._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ei.credential(t,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Or._fromIdTokenResponse(e,r,o),u=t_(r);return new Bo({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=t_(r);return new Bo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function t_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends qr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Gc(e,t,r,o)}}function vE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(n,a,e,r):a})}async function s2(n,e,t=!1){const r=await Pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,e,t=!1){const{auth:r}=n;if(Vr(r.app))return Promise.reject(_s(r));const o="reauthenticate";try{const a=await Pl(n,vE(r,o,e,n),t);Se(a.idToken,r,"internal-error");const u=ym(a.idToken);Se(u,r,"internal-error");const{sub:d}=u;return Se(n.uid===d,r,"user-mismatch"),Bo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,e,t=!1){if(Vr(n.app))return Promise.reject(_s(n));const r="signIn",o=await vE(n,r,e),a=await Bo._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function l2(n,e,t,r){return Gn(n).onIdTokenChanged(e,t,r)}function u2(n,e,t){return Gn(n).beforeAuthStateChanged(e,t)}function c2(n){return Gn(n).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,d2=10;class wE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);$b()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,d2):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const f2=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const TE=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await p2(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Em("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function g2(n){hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _2(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebaseLocalStorageDb",w2=1,Xc="firebaseLocalStorage",xE="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mh(n,e){return n.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function E2(){const n=indexedDB.deleteDatabase(IE);return new $l(n).toPromise()}function up(){const n=indexedDB.open(IE,w2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xc,{keyPath:xE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await E2(),e(await up()))})})}async function n_(n,e,t){const r=mh(n,!0).put({[xE]:e,value:t});return new $l(r).toPromise()}async function T2(n,e){const t=mh(n,!1).get(e),r=await new $l(t).toPromise();return r===void 0?null:r.value}function r_(n,e){const t=mh(n,!0).delete(e);return new $l(t).toPromise()}const S2=800,I2=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>I2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(_2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new m2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await n_(e,Qc,"1"),await r_(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>n_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>T2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>r_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=mh(o,!1).getAll();return new $l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const x2=AE;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,e){return e?Mr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends yE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A2(n){return a2(n.auth,new Tm(n),n.bypassAuthState)}function C2(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),o2(t,new Tm(n),n.bypassAuthState)}async function P2(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),s2(t,new Tm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:fr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new zl(2e3,1e4);async function k2(n,e,t){if(Vr(n.app))return Promise.reject(Kn(n,"operation-not-supported-in-this-environment"));const r=fh(n);Ab(n,e,wm);const o=CE(r,t);return new gs(r,"signInViaPopup",e,o).executeNotNull()}class gs extends PE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R2.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="pendingRedirect",xc=new Map;class D2 extends PE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await N2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(n,e){const t=O2(e),r=L2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function V2(n,e){xc.set(n._key(),e)}function L2(n){return Mr(n._redirectPersistence)}function O2(n){return Ic(b2,n.config.apiKey,n.name)}async function M2(n,e,t=!1){if(Vr(n.app))return Promise.reject(_s(n));const r=fh(n),o=CE(r,e),u=await new D2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=10*60*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e={}){return ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function q2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await z2(n);for(const t of e)try{if(W2(t))return}catch{}fr(n,"unauthorized-domain")}function W2(n){const e=ap(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!$2.test(t))return!1;if(B2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new zl(3e4,6e4);function s_(){const n=hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function K2(n){return new Promise((e,t)=>{var r,o,a;function u(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),t(Kn(n,"network-request-failed"))},timeout:H2.get()})}if(!((o=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=hr().gapi)===null||a===void 0)&&a.load)u();else{const d=Jb("iframefcb");return hr()[d]=()=>{gapi.load?u():t(Kn(n,"network-request-failed"))},Xb(`${Yb()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function G2(n){return Ac=Ac||K2(n),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new zl(5e3,15e3),X2="__/auth/iframe",Y2="emulator/auth/iframe",J2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mm(e,Y2):`https://${n.config.authDomain}/${X2}`,r={apiKey:e.apiKey,appName:n.name,v:Zo},o=Z2.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ul(r).slice(1)}`}async function tD(n){const e=await G2(n),t=hr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:eD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Kn(n,"network-request-failed"),d=hr().setTimeout(()=>{a(u)},Q2.get());function f(){hr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rD=500,iD=600,sD="_blank",oD="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aD(n,e,t,r=rD,o=iD){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},nD),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Gt().toLowerCase();t&&(d=uE(m)?sD:t),aE(m)&&(e=e||oD,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[P,F])=>`${T}${P}=${F},`,"");if(Bb(m)&&d!=="_self")return lD(e||"",d),new o_(null);const w=window.open(e||"",d,v);Se(w,n,"popup-blocked");try{w.focus()}catch{}return new o_(w)}function lD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="__/auth/handler",cD="emulator/auth/handler",hD=encodeURIComponent("fac");async function a_(n,e,t,r,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zo,eventId:o};if(e instanceof wm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",hk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Bl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${hD}=${encodeURIComponent(f)}`:"";return`${dD(n)}?${Ul(d).slice(1)}${m}`}function dD({config:n}){return n.emulator?mm(n,cD):`https://${n.authDomain}/${uD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class fD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TE,this._completeRedirectFn=M2,this._overrideRedirectResult=V2}async _openPopup(e,t,r,o){var a;Br((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await a_(e,t,r,ap(),o);return aD(e,u,Em())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await a_(e,t,r,ap(),o);return g2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Br(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tD(e),r=new j2(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kf,{type:kf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[kf];u!==void 0&&t(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pE()||lE()||vm()}}const pD=fD;var l_="@firebase/auth",u_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yD(n){zo(new Ss("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(n)},m=new Gb(r,o,a,f);return e2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Ss("auth-internal",e=>{const t=fh(e.getProvider("auth").getImmediate());return(r=>new mD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(l_,u_,gD(n)),Pi(l_,u_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=5*60,_D=H1("authIdTokenMaxAge")||vD;let c_=null;const wD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_D)return;const o=t==null?void 0:t.token;c_!==o&&(c_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ED(n=X1()){const e=hm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Zb(n,{popupRedirectResolver:pD,persistence:[x2,f2,TE]}),r=H1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=wD(a.toString());u2(t,u,()=>u(t.currentUser)),l2(t,d=>u(d))}}const o=q1("auth");return o&&t2(t,`http://${o}`),t}function TD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Qb({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Kn("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",TD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yD("Browser");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,kE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(b,L,M){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return I.prototype[L].apply(b,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,A){A||(A=0);var b=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)b[L]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(L=0;16>L;++L)b[L]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],L=D.g[2];var M=D.g[3],C=I+(M^A&(L^M))+b[0]+3614090360&4294967295;I=A+(C<<7&4294967295|C>>>25),C=M+(L^I&(A^L))+b[1]+3905402710&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(A^M&(I^A))+b[2]+606105819&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(I^L&(M^I))+b[3]+3250441966&4294967295,A=L+(C<<22&4294967295|C>>>10),C=I+(M^A&(L^M))+b[4]+4118548399&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(L^I&(A^L))+b[5]+1200080426&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(A^M&(I^A))+b[6]+2821735955&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(I^L&(M^I))+b[7]+4249261313&4294967295,A=L+(C<<22&4294967295|C>>>10),C=I+(M^A&(L^M))+b[8]+1770035416&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(L^I&(A^L))+b[9]+2336552879&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(A^M&(I^A))+b[10]+4294925233&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(I^L&(M^I))+b[11]+2304563134&4294967295,A=L+(C<<22&4294967295|C>>>10),C=I+(M^A&(L^M))+b[12]+1804603682&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(L^I&(A^L))+b[13]+4254626195&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(A^M&(I^A))+b[14]+2792965006&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(I^L&(M^I))+b[15]+1236535329&4294967295,A=L+(C<<22&4294967295|C>>>10),C=I+(L^M&(A^L))+b[1]+4129170786&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(I^A))+b[6]+3225465664&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^A&(M^I))+b[11]+643717713&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(L^M))+b[0]+3921069994&4294967295,A=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(A^L))+b[5]+3593408605&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(I^A))+b[10]+38016083&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^A&(M^I))+b[15]+3634488961&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(L^M))+b[4]+3889429448&4294967295,A=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(A^L))+b[9]+568446438&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(I^A))+b[14]+3275163606&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^A&(M^I))+b[3]+4107603335&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(L^M))+b[8]+1163531501&4294967295,A=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(A^L))+b[13]+2850285829&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(I^A))+b[2]+4243563512&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^A&(M^I))+b[7]+1735328473&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(L^M))+b[12]+2368359562&4294967295,A=L+(C<<20&4294967295|C>>>12),C=I+(A^L^M)+b[5]+4294588738&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^L)+b[8]+2272392833&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^A)+b[11]+1839030562&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^I)+b[14]+4259657740&4294967295,A=L+(C<<23&4294967295|C>>>9),C=I+(A^L^M)+b[1]+2763975236&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^L)+b[4]+1272893353&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^A)+b[7]+4139469664&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^I)+b[10]+3200236656&4294967295,A=L+(C<<23&4294967295|C>>>9),C=I+(A^L^M)+b[13]+681279174&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^L)+b[0]+3936430074&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^A)+b[3]+3572445317&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^I)+b[6]+76029189&4294967295,A=L+(C<<23&4294967295|C>>>9),C=I+(A^L^M)+b[9]+3654602809&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^L)+b[12]+3873151461&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^A)+b[15]+530742520&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^I)+b[2]+3299628645&4294967295,A=L+(C<<23&4294967295|C>>>9),C=I+(L^(A|~M))+b[0]+4096336452&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~L))+b[7]+1126891415&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~A))+b[14]+2878612391&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~I))+b[5]+4237533241&4294967295,A=L+(C<<21&4294967295|C>>>11),C=I+(L^(A|~M))+b[12]+1700485571&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~L))+b[3]+2399980690&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~A))+b[10]+4293915773&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~I))+b[1]+2240044497&4294967295,A=L+(C<<21&4294967295|C>>>11),C=I+(L^(A|~M))+b[8]+1873313359&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~L))+b[15]+4264355552&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~A))+b[6]+2734768916&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~I))+b[13]+1309151649&4294967295,A=L+(C<<21&4294967295|C>>>11),C=I+(L^(A|~M))+b[4]+4149444226&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~L))+b[11]+3174756917&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~A))+b[2]+718787259&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~I))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,b=this.B,L=this.h,M=0;M<I;){if(L==0)for(;M<=A;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<I;)if(b[L++]=D.charCodeAt(M++),L==this.blockSize){o(this,b),L=0;break}}else for(;M<I;)if(b[L++]=D[M++],L==this.blockSize){o(this,b),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var b=0;32>b;b+=8)D[A++]=this.g[I]>>>b&255;return D};function a(D,I){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function u(D,I){this.h=I;for(var A=[],b=!0,L=D.length-1;0<=L;L--){var M=D[L]|0;b&&M==I||(A[L]=M,b=!1)}this.g=A}var d={};function f(D){return-128<=D&&128>D?a(D,function(I){return new u([I|0],0>I?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return V(m(-D));for(var I=[],A=1,b=0;D>=A;b++)I[b]=D/A|0,A*=4294967296;return new u(I,0)}function v(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return V(v(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(I,8)),b=w,L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L),C=parseInt(D.substring(L,L+M),I);8>M?(M=m(Math.pow(I,M)),b=b.j(M).add(m(C))):(b=b.j(A),b=b.add(m(C)))}return b}var w=f(0),T=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(j(this))return-V(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var b=this.i(A);D+=(0<=b?b:4294967296+b)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(j(this))return"-"+V(this).toString(D);for(var I=m(Math.pow(D,6)),A=this,b="";;){var L=ie(A,I).g;A=W(A,L.j(I));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=L,F(A))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function j(D){return D.h==-1}n.l=function(D){return D=W(this,D),j(D)?-1:F(D)?0:1};function V(D){for(var I=D.g.length,A=[],b=0;b<I;b++)A[b]=~D.g[b];return new u(A,~D.h).add(T)}n.abs=function(){return j(this)?V(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],b=0,L=0;L<=I;L++){var M=b+(this.i(L)&65535)+(D.i(L)&65535),C=(M>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);b=C>>>16,M&=65535,C&=65535,A[L]=C<<16|M}return new u(A,A[A.length-1]&-2147483648?-1:0)};function W(D,I){return D.add(V(I))}n.j=function(D){if(F(this)||F(D))return w;if(j(this))return j(D)?V(this).j(V(D)):V(V(this).j(D));if(j(D))return V(this.j(V(D)));if(0>this.l(P)&&0>D.l(P))return m(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],b=0;b<2*I;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var L=0;L<D.g.length;L++){var M=this.i(b)>>>16,C=this.i(b)&65535,Xe=D.i(L)>>>16,Rt=D.i(L)&65535;A[2*b+2*L]+=C*Rt,X(A,2*b+2*L),A[2*b+2*L+1]+=M*Rt,X(A,2*b+2*L+1),A[2*b+2*L+1]+=C*Xe,X(A,2*b+2*L+1),A[2*b+2*L+2]+=M*Xe,X(A,2*b+2*L+2)}for(b=0;b<I;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=I;b<2*I;b++)A[b]=0;return new u(A,0)};function X(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function Q(D,I){this.g=D,this.h=I}function ie(D,I){if(F(I))throw Error("division by zero");if(F(D))return new Q(w,w);if(j(D))return I=ie(V(D),I),new Q(V(I.g),V(I.h));if(j(I))return I=ie(D,V(I)),new Q(V(I.g),I.h);if(30<D.g.length){if(j(D)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var A=T,b=I;0>=b.l(D);)A=se(A),b=se(b);var L=ce(A,1),M=ce(b,1);for(b=ce(b,2),A=ce(A,2);!F(b);){var C=M.add(b);0>=C.l(D)&&(L=L.add(A),M=C),b=ce(b,1),A=ce(A,1)}return I=W(D,L.j(I)),new Q(L,I)}for(L=w;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=m(A),C=M.j(I);j(C)||0<C.l(D);)A-=b,M=m(A),C=M.j(I);F(M)&&(M=T),L=L.add(M),D=W(D,C)}return new Q(L,D)}n.A=function(D){return ie(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)&D.i(b);return new u(A,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)|D.i(b);return new u(A,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)^D.i(b);return new u(A,this.h^D.h)};function se(D){for(var I=D.g.length+1,A=[],b=0;b<I;b++)A[b]=D.i(b)<<1|D.i(b-1)>>>31;return new u(A,D.h)}function ce(D,I){var A=I>>5;I%=32;for(var b=D.g.length-A,L=[],M=0;M<b;M++)L[M]=0<I?D.i(M+A)>>>I|D.i(M+A+1)<<32-I:D.i(M+A);return new u(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,ws=u}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,ll,DE,Cc,cp,NE,VE,LE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,q){for(var re=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)re[Be-2]=arguments[Be];return g.prototype[U].apply(S,re)}}function j(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function V(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const U=c.length||0,q=S.length||0;c.length=U+q;for(let re=0;re<q;re++)c[U+re]=S[re]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var se=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function D(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let q=0;q<A.length;q++)_=A[q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function M(c){d.setTimeout(()=>{throw c},0)}function C(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Xe{constructor(){this.h=this.g=null}add(g,_){const S=Rt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Rt=new W(()=>new kt,c=>c.reset());class kt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,te=!1,me=new Xe,oe=()=>{const c=d.Promise.resolve(void 0);Ie=()=>{c.then(O)}};var O=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){M(_)}var g=Rt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}te=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function Pe(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{ie(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}F(Pe,ge);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function qe(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++ze,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mr(c){this.src=c,this.g={},this.h=0}mr.prototype.add=function(c,g,_,S,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var re=Hr(c,g,S,U);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new qe(g,this.src,q,!!S,U),g.fa=_,c.push(g)),g};function ks(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),q;(q=0<=U)&&Array.prototype.splice.call(S,U,1),q&&(Tt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Hr(c,g,_,S){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==S)return U}return-1}var Mi="closure_lm_"+(1e6*Math.random()|0),bs={};function oa(c,g,_,S,U){if(Array.isArray(g)){for(var q=0;q<g.length;q++)oa(c,g[q],_,S,U);return null}return _=ua(_),c&&c[Ue]?c.K(g,_,m(S)?!!S.capture:!!S,U):aa(c,g,_,!1,S,U)}function aa(c,g,_,S,U,q){if(!g)throw Error("Invalid event type");var re=m(U)?!!U.capture:!!U,Be=Ns(c);if(Be||(c[Mi]=Be=new mr(c)),_=Be.add(g,_,S,re,q),_.proxy)return _;if(S=Gl(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ce||(U=re),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(yr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gl(){function c(_){return g.call(c.src,c.listener,_)}const g=la;return c}function Ds(c,g,_,S,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)Ds(c,g[q],_,S,U);else S=m(S)?!!S.capture:!!S,_=ua(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=Hr(q,_,S,U),-1<_&&(Tt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ns(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Hr(g,_,S,U)),(_=-1<c?g[c]:null)&&gr(_))}function gr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])ks(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(yr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ns(g))?(ks(_,c),_.h==0&&(_.src=null,g[Mi]=null)):Tt(c)}}}function yr(c){return c in bs?bs[c]:bs[c]="on"+c}function la(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&gr(c),c=_.call(S,g)}return c}function Ns(c){return c=c[Mi],c instanceof mr?c:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ua(c){return typeof c=="function"?c:(c[Vs]||(c[Vs]=function(g){return c.handleEvent(g)}),c[Vs])}function gt(){K.call(this),this.i=new mr(this),this.M=this,this.F=null}F(gt,K),gt.prototype[Ue]=!0,gt.prototype.removeEventListener=function(c,g,_,S){Ds(this,c,g,_,S)};function yt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var U=g;g=new ge(S,c),b(g,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var re=g.g=_[q];U=vr(re,S,!0,g)&&U}if(re=g.g=c,U=vr(re,S,!0,g)&&U,U=vr(re,S,!1,g)&&U,_)for(q=0;q<_.length;q++)re=g.g=_[q],U=vr(re,S,!1,g)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Tt(_[S]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},gt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function vr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,q=0;q<g.length;++q){var re=g[q];if(re&&!re.da&&re.capture==_){var Be=re.listener,vt=re.ha||re.src;re.fa&&ks(c.i,re),U=Be.call(vt,S)!==!1&&U}}return U&&!S.defaultPrevented}function ca(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function Kr(c){c.g=ca(()=>{c.g=null,c.i&&(c.i=!1,Kr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Fi extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(c){K.call(this),this.h=c,this.g={}}F(ji,K);var ha=[];function da(c){ce(c.g,function(g,_){this.g.hasOwnProperty(_)&&gr(g)},c),c.g={}}ji.prototype.N=function(){ji.aa.N.call(this),da(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=d.JSON.stringify,pa=d.JSON.parse,ma=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ui(){}Ui.prototype.h=null;function Ls(c){return c.h||(c.h=c.i())}function Os(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){ge.call(this,"d")}F(Xn,ge);function Ms(){ge.call(this,"c")}F(Ms,ge);var Yn={},ga=null;function zi(){return ga=ga||new gt}Yn.La="serverreachability";function ya(c){ge.call(this,Yn.La,c)}F(ya,ge);function _r(c){const g=zi();yt(g,new ya(g))}Yn.STAT_EVENT="statevent";function va(c,g){ge.call(this,Yn.STAT_EVENT,c),this.stat=g}F(va,ge);function ot(c){const g=zi();yt(g,new va(g,c))}Yn.Ma="timingevent";function Fs(c,g){ge.call(this,Yn.Ma,c),this.size=g}F(Fs,ge);function bn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function $i(c,g,_,S,U,q){c.info(function(){if(c.g)if(q)for(var re="",Be=q.split("&"),vt=0;vt<Be.length;vt++){var Ne=Be[vt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var ht=St.split("_");re=2<=ht.length&&ht[1]=="type"?re+(St+"="+Ne+"&"):re+(St+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+re})}function js(c,g,_,S,U,q,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+re})}function Dn(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Rh(c,_)+(S?" "+S:"")})}function _a(c,g){c.info(function(){return"TIMEOUT: "+g})}Bi.prototype.info=function(){};function Rh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return fa(_)}catch{return g}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function qi(){}F(qi,Ui),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Nn=new qi;function Vn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var wa={},zs={};function Bs(c,g,_){c.L=1,c.v=Jr(cn(g)),c.m=_,c.P=!0,Ea(c,null)}function Ea(c,g){c.F=Date.now(),We(c),c.A=cn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ei(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Xl,c.g=pu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Fi(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ha[0]=U.toString()),U=ha);for(var q=0;q<U.length;q++){var re=oa(_,U[q],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),_r(),$i(c.i,c.u,c.A,c.l,c.R,c.m)}Vn.prototype.ca=function(c){c=c.target;const g=this.M;g&&en(c)==3?g.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=en(this.g);var g=this.g.Ba();const Tn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ca(this.g)))){this.J||ht!=4||g==7||(g==8||0>=Tn?_r(3):_r(2)),Wi(this);var _=this.g.Z();this.X=_;t:if(Yl(this)){var S=Ca(this.g);c="";var U=S.length,q=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Gr(this);var re="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(q&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,js(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,vt=this.g;if((Be=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Be)){var Ne=Be;break t}}Ne=null}if(_=Ne)Dn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,_);else{this.o=!1,this.s=3,ot(12),wn(this),Gr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<re.length;)if(dn=kh(this,re),dn==zs){ht==4&&(this.s=4,ot(14),_=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==wa){this.s=4,ot(15),Dn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Dn(this.i,this.l,dn,null),Ta(this,dn);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Dn(this.i,this.l,re,"[Invalid Chunked Response]"),wn(this),Gr(this);else if(0<re.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ra(St),St.M=!0,ot(11))}}else Dn(this.i,this.l,re,null),Ta(this,re);ht==4&&wn(this),this.o&&!this.J&&(ht==4?Zs(this.j,this):(this.o=!1,We(this)))}else Gs(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),wn(this),Gr(this)}}}catch{}finally{}};function Yl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kh(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?zs:(_=Number(g.substring(_,S)),isNaN(_)?wa:(S+=1,S+_>g.length?zs:(g=g.slice(S,S+_),c.C=S+_,g)))}Vn.prototype.cancel=function(){this.J=!0,wn(this)};function We(c){c.S=Date.now()+c.I,Jl(c,c.I)}function Jl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bn(T(c.ba,c),g)}function Wi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_a(this.i,this.A),this.L!=2&&(_r(),ot(17)),wn(this),this.s=2,Gr(this)):Jl(this,this.S-c)};function Gr(c){c.j.G==0||c.J||Zs(c.j,c)}function wn(c){Wi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,da(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ta(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Qt(_.h,c))){if(!c.K&&Qt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Js(_),jn(_);else break e;Ys(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=bn(T(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ir(_,11)}else if((c.K||_.g==c)&&Js(_),!X(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Ne=U[g];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const St=Ne[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const ht=Ne[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const Tn=Ne[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(S=1.5*Tn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=c.g;if(dn){const Ji=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var q=S.h;q.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sa(q,q.h),q.h=null))}if(S.D){const to=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(S.ya=to,$e(S.I,S.D,to))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=fu(S,S.J?S.ia:null,S.W),re.K){tu(S.h,re);var Be=re,vt=S.L;vt&&(Be.I=vt),Be.B&&(Wi(Be),We(Be)),S.g=re}else Yi(S);0<_.i.length&&tr(_)}else Ne[0]!="stop"&&Ne[0]!="close"||Ir(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ir(_,7):Dt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}_r(4)}catch{}}var Zl=class{constructor(c,g){this.g=c,this.map=g}};function Hi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eu(c){return c.h?1:c.g?c.g.size:0}function Qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Sa(c,g){c.g?c.g.add(g):c.h=g}function tu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Hi.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return j(c.i)}function $s(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function Qr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=qs(c),S=$s(c),U=S.length,q=0;q<U;q++)g.call(void 0,S[q],_&&_[q],c)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var q=c[_].substring(0,S);U=c[_].substring(S+1)}else q=c[_];g(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,Gi(this,c.j),this.o=c.o,this.g=c.g,Xr(this,c.s),this.l=c.l;var g=c.i,_=new Jn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Yr(this,_),this.m=c.m}else c&&(g=String(c).match(Ki))?(this.h=!1,Gi(this,g[1]||"",!0),this.o=be(g[2]||""),this.g=be(g[3]||"",!0),Xr(this,g[4]),this.l=be(g[5]||"",!0),Yr(this,g[6]||"",!0),this.m=be(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}wr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,Ws,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,Ws,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zr(_,_.charAt(0)=="/"?su:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zr(_,Ia)),c.join("")};function cn(c){return new wr(c)}function Gi(c,g,_){c.j=_?be(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Xr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Yr(c,g,_){g instanceof Jn?(c.i=g,Zn(c.i,c.h)):(_||(g=Zr(g,ou)),c.i=new Jn(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function Jr(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function be(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ws=/[#\/\?@]/g,iu=/[#\?:]/g,su=/[#\?]/g,ou=/[#\?@]/g,Ia=/#/g;function Jn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&bh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Jn.prototype,n.add=function(c,g){bt(this),this.i=null,c=En(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ln(c,g){bt(c),g=En(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function On(c,g){return bt(c),g=En(c,g),c.g.has(g)}n.forEach=function(c,g){bt(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let q=0;q<U.length;q++)_.push(g[S])}return _},n.V=function(c){bt(this);let g=[];if(typeof c=="string")On(this,c)&&(g=g.concat(this.g.get(En(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return bt(this),this.i=null,c=En(this,c),On(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ei(c,g,_){Ln(c,g),0<_.length&&(c.i=null,c.g.set(En(c,g),j(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const q=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var U=q;re[S]!==""&&(U+="="+encodeURIComponent(String(re[S]))),c.push(U)}}return this.i=c.join("&")};function En(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Zn(c,g){g&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ln(this,S),ei(this,U,_))},c)),c.j=g}function Dh(c,g){const _=new Bi;if(d.Image){const S=new Image;S.onload=P(Zt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=P(Zt,_,"TestLoadImage: error",!1,g,S),S.onabort=P(Zt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(Zt,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function au(c,g){const _=new Bi,S=new AbortController,U=setTimeout(()=>{S.abort(),Zt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Zt(_,"TestPingServer: ok",!0,g):Zt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,g)})}function Zt(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Nh(){this.g=new ma}function lu(c,g,_){const S=_||"";try{Qr(c,function(U,q){let re=U;m(U)&&(re=fa(U)),g.push(S+q+"="+encodeURIComponent(re))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Er,Ui),Er.prototype.g=function(){return new Qi(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function Qi(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Qi,gt),n=Qi.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Mn(this):Fn(this),this.readyState==3&&uu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Mn(this))},n.Qa=function(c){this.g&&(this.response=c,Mn(this))},n.ga=function(){this.g&&Mn(this)};function Mn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tr(c){let g="";return ce(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ti(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Tr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function Ye(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ye,gt);var Vh=/^https?$/i,xa=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Ls(this.o):Ls(Nn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Xi(this,q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())_.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of _)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Xi(this,q)}};function Xi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Hs(c),hn(c)}function Hs(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},n.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)ca(c.Ea,0,c);else if(yt(c,"readystatechange"),en(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=re===0){var U=String(c.D).match(Ki)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!Vh.test(U?U.toLowerCase():"")}_=S}if(_)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var q=2<en(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Hs(c)}}finally{hn(c)}}}}function hn(c,g){if(c.g){Ks(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ks(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pa(g)}};function Ca(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(c){const g={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var _=L(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}D(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Pa(c){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,c),this.cb=er("retryDelaySeedMs",1e4,c),this.Wa=er("forwardChannelMaxRetries",2,c),this.wa=er("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(c&&c.concurrentRequestLimit),this.Da=new Nh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){ot(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=fu(this,null,this.W),tr(this)};function Dt(c){if(Qs(c),c.G==3){var g=c.U++,_=cn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Sr(c,_),g=new Vn(c,c.j,g),g.L=2,g.v=Jr(cn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}du(c)}function jn(c){c.g&&(Ra(c),c.g.cancel(),c.g=null)}function Qs(c){jn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function tr(c){if(!un(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ie||oe(),te||(Ie(),te=!0),me.add(g,c),c.B=0}}function Lh(c,g){return eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bn(T(c.Ga,c,g),hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Vn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=I(q),b(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ni(this,U,g),_=cn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Sr(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Tr(q)))+"&"+g:this.m&&ti(_,this.m,q)),Sa(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),U.T=!0,Bs(U,_,null)):Bs(U,_,g),this.G=2}}else this.G==3&&(c?Xs(this,c):this.i.length==0||un(this.h)||Xs(this))};function Xs(c,g){var _;g?_=g.l:_=c.U++;const S=cn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),Sr(c,S),c.m&&c.o&&ti(S,c.m,c.o),_=new Vn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ni(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,_),Bs(_,S,g)}function Sr(c,g){c.H&&ce(c.H,function(_,S){$e(g,S,_)}),c.l&&Qr({},function(_,S){$e(g,S,_)})}function ni(c,g,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var U=c.i;let q=-1;for(;;){const re=["count="+_];q==-1?0<_?(q=U[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let Be=!0;for(let vt=0;vt<_;vt++){let Ne=U[vt].g;const St=U[vt].map;if(Ne-=q,0>Ne)q=Math.max(0,U[vt].g-100),Be=!1;else try{lu(St,re,"req"+Ne+"_")}catch{S&&S(St)}}if(Be){S=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Yi(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ie||oe(),te||(Ie(),te=!0),me.add(g,c),c.v=0}}function Ys(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bn(T(c.Fa,c),hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),jn(this),cu(this))};function Ra(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=cn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Sr(c,g),c.m&&c.o&&ti(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Jr(cn(g)),_.m=null,_.P=!0,Ea(_,c)}n.Za=function(){this.C!=null&&(this.C=null,jn(this),Ys(this),ot(19))};function Js(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Zs(c,g){var _=null;if(c.g==g){Js(c),Ra(c),c.g=null;var S=2}else if(Qt(c.h,g))_=g.D,tu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=zi(),yt(S,new Fs(S,_)),tr(c)}else Yi(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Lh(c,g)||S==2&&Ys(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ir(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),S=c.Xa;const U=!S;S=new wr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gi(S,"https"),Jr(S),U?Dh(S.toString(),_):au(S.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(g),du(c),Qs(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function du(c){if(c.G=0,c.ka=[],c.l){const g=nu(c.h);(g.length!=0||c.i.length!=0)&&(V(c.ka,g),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function fu(c,g,_){var S=_ instanceof wr?cn(_):new wr(_);if(S.g!="")g&&(S.g=g+"."+S.g),Xr(S,S.s);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var q=new wr(null);S&&Gi(q,S),g&&(q.g=g),U&&Xr(q,U),_&&(q.l=_),S=q}return _=c.D,g=c.ya,_&&g&&$e(S,_,g),$e(S,"VER",c.la),Sr(c,S),S}function pu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new Er({eb:_})):new Ye(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ka(){}n=ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(c,g){return new Xt(c,g)};function Xt(c,g){gt.call(this),this.g=new Pa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!X(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new nr(this)}F(Xt,gt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Dt(this.g)},Xt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=fa(c),c=_);g.i.push(new Zl(g.Ya++,c)),g.G==3&&tr(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Xt.aa.N.call(this)};function mu(c){Xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(mu,Xn);function gu(){Ms.call(this),this.status=1}F(gu,Ms);function nr(c){this.g=c}F(nr,ka),nr.prototype.ua=function(){yt(this.g,"a")},nr.prototype.ta=function(c){yt(this.g,new mu(c))},nr.prototype.sa=function(c){yt(this.g,new gu)},nr.prototype.ra=function(){yt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,LE=function(){return new eo},VE=function(){return zi()},NE=Yn,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,Cc=Us,Ql.COMPLETE="complete",DE=Ql,Os.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ll=Os,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,bE=Ye}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new um("@firebase/firestore");function So(){return xs.logLevel}function le(n,...e){if(xs.logLevel<=ke.DEBUG){const t=e.map(Sm);xs.debug(`Firestore (${ta}): ${n}`,...t)}}function $r(n,...e){if(xs.logLevel<=ke.ERROR){const t=e.map(Sm);xs.error(`Firestore (${ta}): ${n}`,...t)}}function $o(n,...e){if(xs.logLevel<=ke.WARN){const t=e.map(Sm);xs.warn(`Firestore (${ta}): ${n}`,...t)}}function Sm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+n;throw $r(e),new Error(e)}function rt(n,e){n||Ae()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Es,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Es)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new OE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new qt(e)}}class AD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new AD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){rt(this.o===void 0);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new PD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=kD(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function qo(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Pt(0,0))}static max(){return new xe(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tt extends Rl{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const DD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Rl{construct(e,t,r){return new Ht(e,t,r)}static isValidIdentifier(e){return DD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(tt.fromString(e))}static fromName(e){return new we(tt.fromString(e).popFirst(5))}static empty(){return new we(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new tt(e.slice()))}}function ND(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new bi(o,we.empty(),e)}function VD(n){return new bi(n.readTime,n.key,-1)}class bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bi(xe.min(),we.empty(),-1)}static max(){return new bi(xe.max(),we.empty(),-1)}}function LD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==OD)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(o=>o?G.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new G((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new G((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function FD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yh.oe=-1;function vh(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function jD(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=f_(e)),e=zD(n.get(t),e);return f_(e)}function zD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function f_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ME(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ot.RED,this.left=o??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ot(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m_(this.data.getIterator())}getIteratorFrom(e){return new m_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class m_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Si([])}unionWith(e){let t=new Et(Ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FE("Invalid base64 string: "+a):a}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(n){if(rt(!!n),typeof n=="string"){let e=0;const t=BD.exec(n);if(rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function _h(n){const e=n.mapValue.fields.__previous_value__;return Im(e)?_h(e):e}function kl(n){const e=Di(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,r,o,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Im(n)?4:WD(n)?9007199254740991:qD(n)?10:11:Ae()}function pr(n,e){if(n===e)return!0;const t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kl(n).isEqual(kl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Di(o.timestampValue),d=Di(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ni(o.bytesValue).isEqual(Ni(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ut(o.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ut(o.integerValue)===ut(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ut(o.doubleValue),d=ut(a.doubleValue);return u===d?Yc(u)===Yc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(p_(u)!==p_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!pr(u[f],d[f])))return!1;return!0}(n,e);default:return Ae()}}function Dl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Wo(n,e){if(n===e)return 0;const t=Vi(n),r=Vi(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ut(a.integerValue||a.doubleValue),f=ut(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return g_(n.timestampValue,e.timestampValue);case 4:return g_(kl(n),kl(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Ni(a),f=Ni(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Le(d[m],f[m]);if(v!==0)return v}return Le(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Le(ut(a.latitude),ut(u.latitude));return d!==0?d:Le(ut(a.longitude),ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return y_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,v;const w=a.fields||{},T=u.fields||{},P=(d=w.value)===null||d===void 0?void 0:d.arrayValue,F=(f=T.value)===null||f===void 0?void 0:f.arrayValue,j=Le(((m=P==null?void 0:P.values)===null||m===void 0?void 0:m.length)||0,((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:y_(P,F)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===gc.mapValue&&u===gc.mapValue)return 0;if(a===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=Le(f[w],v[w]);if(T!==0)return T;const P=Wo(d[f[w]],m[v[w]]);if(P!==0)return P}return Le(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function g_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Di(n),r=Di(e),o=Le(t.seconds,r.seconds);return o!==0?o:Le(t.nanos,r.nanos)}function y_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Wo(t[o],r[o]);if(a)return a}return Le(t.length,r.length)}function Ho(n){return hp(n)}function hp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Di(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ni(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=hp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${hp(t.fields[u])}`;return o+"}"}(n.mapValue):Ae()}function Pc(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Pc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return ra(r.fields,(a,u)=>{o+=a.length+Pc(u)}),o}(n.mapValue);default:throw Ae()}}function v_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dp(n){return!!n&&"integerValue"in n}function xm(n){return!!n&&"arrayValue"in n}function __(n){return!!n&&"nullValue"in n}function w_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function qD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ra(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=Ht.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=gl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];bf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ra(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new ar(gl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,xe.min(),xe.min(),xe.min(),ar.empty(),0)}static newFoundDocument(e,t,r,o){return new Wt(e,1,t,xe.min(),r,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,xe.min(),xe.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,xe.min(),xe.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function E_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=Wo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function HD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{}class pt extends jE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GD(e,t,r):t==="array-contains"?new YD(e,r):t==="in"?new JD(e,r):t==="not-in"?new ZD(e,r):t==="array-contains-any"?new eN(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QD(e,r):new XD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wo(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends jE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Qn(e,t)}matches(e){return UE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UE(n){return n.op==="and"}function zE(n){return KD(n)&&UE(n)}function KD(n){for(const e of n.filters)if(e instanceof Qn)return!1;return!0}function fp(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(zE(n))return n.filters.map(e=>fp(e)).join(",");{const e=n.filters.map(t=>fp(t)).join(",");return`${n.op}(${e})`}}function BE(n,e){return n instanceof pt?function(r,o){return o instanceof pt&&r.op===o.op&&r.field.isEqual(o.field)&&pr(r.value,o.value)}(n,e):n instanceof Qn?function(r,o){return o instanceof Qn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&BE(u,o.filters[d]),!0):!1}(n,e):void Ae()}function $E(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(n):n instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map($E).join(" ,")+"}"}(n):"Filter"}class GD extends pt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class QD extends pt{constructor(e,t){super(e,"in",t),this.keys=qE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XD extends pt{constructor(e,t){super(e,"not-in",t),this.keys=qE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class YD extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xm(t)&&Dl(t.arrayValue,this.value)}}class JD extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}}class ZD extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dl(this.value.arrayValue,t)}}class eN extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function S_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new tN(n,e,t,r,o,a,u)}function Am(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=t}return e.ue}function Cm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T_(n.startAt,e.startAt)&&T_(n.endAt,e.endAt)}function pp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nN(n,e,t,r,o,a,u,d){return new ql(n,e,t,r,o,a,u,d)}function WE(n){return new ql(n)}function I_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HE(n){return n.collectionGroup!==null}function yl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Et(Ht.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Zc(a,r))}),t.has(Ht.keyField().canonicalString())||e.ce.push(new Zc(Ht.keyField(),r))}return e.ce}function dr(n){const e=Oe(n);return e.le||(e.le=rN(e,yl(n))),e.le}function rN(n,e){if(n.limitType==="F")return S_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Zc(o.field,a)});const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return S_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mp(n,e){const t=n.filters.concat([e]);return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gp(n,e,t){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wh(n,e){return Cm(dr(n),dr(e))&&n.limitType===e.limitType}function KE(n){return`${Am(dr(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>$E(o)).join(", ")}]`),vh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ho(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ho(o)).join(",")),`Target(${r})`}(dr(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of yl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=E_(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,yl(r),o)||r.endAt&&!function(u,d,f){const m=E_(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,yl(r),o))}(n,e)}function iN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GE(n){return(e,t)=>{let r=!1;for(const o of yl(n)){const a=sN(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function sN(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Wo(f,m):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ct(we.comparator);function Li(){return oN}const QE=new ct(we.comparator);function ul(...n){let e=QE;for(const t of n)e=e.insert(t.key,t);return e}function aN(n){let e=QE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ys(){return vl()}function XE(){return vl()}function vl(){return new Rs(n=>n.toString(),(n,e)=>n.isEqual(e))}const lN=new Et(we.comparator);function Fe(...n){let e=lN;for(const t of n)e=e.add(t);return e}const uN=new Et(Le);function cN(){return uN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function YE(n){return{integerValue:""+n}}function hN(n,e){return jD(e)?YE(e):Pm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function dN(n,e,t){return n instanceof yp?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Im(a)&&(a=_h(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof eh?JE(n,e):n instanceof th?ZE(n,e):function(o,a){const u=pN(o,a),d=x_(u)+x_(o.Pe);return dp(u)&&dp(o.Pe)?YE(d):Pm(o.serializer,d)}(n,e)}function fN(n,e,t){return n instanceof eh?JE(n,e):n instanceof th?ZE(n,e):t}function pN(n,e){return n instanceof vp?function(r){return dp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class yp extends Th{}class eh extends Th{constructor(e){super(),this.elements=e}}function JE(n,e){const t=eT(e);for(const r of n.elements)t.some(o=>pr(o,r))||t.push(r);return{arrayValue:{values:t}}}class th extends Th{constructor(e){super(),this.elements=e}}function ZE(n,e){let t=eT(e);for(const r of n.elements)t=t.filter(o=>!pr(o,r));return{arrayValue:{values:t}}}class vp extends Th{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function x_(n){return ut(n.integerValue||n.doubleValue)}function eT(n){return xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mN(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof eh&&o instanceof eh||r instanceof th&&o instanceof th?qo(r.elements,o.elements,pr):r instanceof vp&&o instanceof vp?pr(r.Pe,o.Pe):r instanceof yp&&o instanceof yp}(n.transform,e.transform)}class Ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rm{}function tT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yN(n.key,Ts.none()):new km(n.key,n.data,Ts.none());{const t=n.data,r=ar.empty();let o=new Et(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Sh(n.key,r,new Si(o.toArray()),Ts.none())}}function gN(n,e,t){n instanceof km?function(o,a,u){const d=o.value.clone(),f=C_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Sh?function(o,a,u){if(!Rc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=C_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(nT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function _l(n,e,t,r){return n instanceof km?function(a,u,d,f){if(!Rc(a.precondition,u))return d;const m=a.value.clone(),v=P_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sh?function(a,u,d,f){if(!Rc(a.precondition,u))return d;const m=P_(a.fieldTransforms,f,u),v=u.data;return v.setAll(nT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return Rc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function A_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&qo(r,o,(a,u)=>mN(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class km extends Rm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sh extends Rm{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function C_(n,e,t){const r=new Map;rt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,fN(u,d,t[o]))}return r}function P_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,dN(a,u,e))}return r}class yN extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gN(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_l(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_l(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=tT(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,r)=>A_(t,r))&&qo(this.baseMutations,e.baseMutations,(t,r)=>A_(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ve;function rT(n){if(n===void 0)return $r("GRPC error has no .code"),ne.UNKNOWN;switch(n){case ft.OK:return ne.OK;case ft.CANCELLED:return ne.CANCELLED;case ft.UNKNOWN:return ne.UNKNOWN;case ft.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case ft.INTERNAL:return ne.INTERNAL;case ft.UNAVAILABLE:return ne.UNAVAILABLE;case ft.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case ft.NOT_FOUND:return ne.NOT_FOUND;case ft.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case ft.ABORTED:return ne.ABORTED;case ft.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case ft.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(Ve=ft||(ft={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new ws([4294967295,4294967295],0);function R_(n){const e=EN().encode(n),t=new kE;return t.update(e),new Uint8Array(t.digest())}function k_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ws([t,r],0),new ws([o,a],0)]}class bm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new cl(`Invalid padding: ${t}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new cl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ws.fromNumber(this.Te)}Ee(e,t,r){let o=e.add(t.multiply(ws.fromNumber(r)));return o.compare(TN)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=R_(e),[r,o]=k_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new bm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=R_(e),[r,o]=k_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ih(xe.min(),o,new ct(Le),Li(),Fe())}}class Wl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wl(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class iT{constructor(e,t){this.targetId=e,this.me=t}}class sT{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class b_{constructor(){this.fe=0,this.ge=D_(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),r=Fe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ae()}}),new Wl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=D_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Li(),this.qe=yc(),this.Qe=yc(),this.Ke=new ct(Le)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(pp(a))if(r===0){const u=new we(a.path);this.We(t,u,Wt.newNoDocument(u,xe.min()))}else rt(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Ni(r).toUint8Array()}catch(f){if(f instanceof FE)return $o("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new bm(u,o,a)}catch(f){return $o(f instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&pp(d.target)){const f=new we(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Wt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Fe();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Ih(e,t,this.Ke,this.ke,r);return this.ke=Li(),this.qe=yc(),this.Qe=yc(),this.Ke=new ct(Le),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new b_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Le),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Le),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new b_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yc(){return new ct(we.comparator)}function D_(){return new ct(we.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},xN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class CN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(n,e){return n.useProto3Json||vh(e)?e:{value:e}}function wp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lo(n){return rt(!!n),xe.fromTimestamp(function(t){const r=Di(t);return new Pt(r.seconds,r.nanos)}(n))}function aT(n,e){return Ep(n,e).canonicalString()}function Ep(n,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lT(n){const e=tt.fromString(n);return rt(fT(e)),e}function Df(n,e){const t=lT(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(cT(t))}function uT(n,e){return aT(n.databaseId,e)}function PN(n){const e=lT(n);return e.length===4?tt.emptyPath():cT(e)}function N_(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cT(n){return rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function RN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(rt(v===void 0||typeof v=="string"),Mt.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Mt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?ne.UNKNOWN:rT(m.code);return new pe(v,m.message||"")}(u);t=new sT(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Df(n,r.document.name),a=Lo(r.document.updateTime),u=r.document.createTime?Lo(r.document.createTime):xe.min(),d=new ar({mapValue:{fields:r.document.fields}}),f=Wt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new kc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Df(n,r.document),a=r.readTime?Lo(r.readTime):xe.min(),u=Wt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new kc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Df(n,r.document),a=r.removedTargetIds||[];t=new kc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new wN(o,a),d=r.targetId;t=new iT(d,u)}}return t}function kN(n,e){return{documents:[uT(n,e.path)]}}function bN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uT(n,o);const a=function(m){if(m.length!==0)return dT(Qn.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:xo(T.field),direction:VN(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=_p(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:o}}function DN(n){let e=PN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){rt(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=hT(w);return T instanceof Qn&&zE(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(F){return new Zc(Ao(F.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,vh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,P=w.values||[];return new Jc(P,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,P=w.values||[];return new Jc(P,T)}(t.endAt)),nN(e,o,u,a,d,"F",f,m)}function NN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ao(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ao(t.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ao(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(Ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(r=>hT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function VN(n){return IN[n]}function LN(n){return xN[n]}function ON(n){return AN[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Ht.fromServerFormat(n.fieldPath)}function dT(n){return n instanceof pt?function(t){if(t.op==="=="){if(w_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(__(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(w_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(__(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:LN(t.op),value:t.value}}}(n):n instanceof Qn?function(t){const r=t.getFilters().map(o=>dT(o));return r.length===1?r[0]:{compositeFilter:{op:ON(t.op),filters:r}}}(n):Ae()}function fT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t,r,o,a=xe.min(),u=xe.min(),d=Mt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.ht=e}}function FN(n){const e=DN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.ln=new UN}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(bi.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class UN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Et(tt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Et(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ko(0)}static Qn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_([n,e],[t,r]){const o=Le(n,t);return o===0?Le(e,r):o}class zN{constructor(e){this.Gn=e,this.buffer=new Et(L_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();L_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){na(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await gh(t)}await this.Yn(3e5)})}}class $N{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(yh.oe);const r=new zN(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(V_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),So()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function qN(n,e){return new $N(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.changes=new Rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&_l(r.mutation,o,Si.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const o=ys();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=ul();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ys();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=Li();const u=vl(),d=function(){return vl()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Sh)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),_l(v.mutation,m,v.mutation.getFieldMask(),Pt.now())):u.set(m.key,Si.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var w;return d.set(m,new HN(v,(w=u.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const r=vl();let o=new ct((u,d)=>u-d),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Si.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||Fe()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=XE();v.forEach(T=>{if(!a.has(T)){const P=tT(t.get(T),r.get(T));P!==null&&w.set(T,P),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return G.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):G.resolve(ys());let d=-1,f=a;return u.next(m=>G.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Fe())).next(v=>({batchId:d,changes:aN(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let o=ul();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=ul();return this.indexManager.getCollectionParents(e,a).next(d=>G.forEach(d,f=>{const m=function(w,T){return new ql(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Wt.newInvalidDocument(v)))});let d=ul();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&_l(v.mutation,m,Si.empty(),Pt.now()),Eh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Lo(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:FN(o.bundledQuery),readTime:Lo(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.overlays=new ct(we.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ys();return G.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Tt(e,t,a)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const o=ys(),a=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ct((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=ys(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ys(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return G.resolve(d)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new _N(t,r));let a=this.Er.get(t);a===void 0&&(a=Fe(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.dr=new Et(Ct.Ar),this.Rr=new Et(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Ct(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new we(new tt([])),r=new Ct(t,e),o=new Ct(t,e+1),a=[];return this.Rr.forEachInRange([r,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new tt([])),r=new Ct(t,e),o=new Ct(t,e+1);let a=Fe();return this.Rr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ct(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Le(e.br,t.br)}static Vr(e,t){return Le(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Ct.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new vN(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.vr=this.vr.add(new Ct(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),a=o<0?0:o;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],u=>{const d=this.Cr(u.br);a.push(d)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(Le);return t.forEach(o=>{const a=new Ct(o,0),u=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),G.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new Ct(new we(a),0);let d=new Et(Le);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.br)),!0)},u),G.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){rt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return G.forEach(t.mutations,o=>{const a=new Ct(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Ct(t,0),o=this.vr.firstAfterOrEqual(r);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.Nr=e,this.docs=function(){return new ct(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Li();const u=t.path,d=new we(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||LD(VD(v),r)<=0||(o.has(v.key)||Eh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ae()}Lr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZN(this)}getSize(e){return G.resolve(this.size)}}class ZN extends WN{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.persistence=e,this.Br=new Rs(t=>Am(t),Cm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Dm,this.targetCount=0,this.Qr=Ko.qn()}forEachTarget(e,t){return this.Br.forEach((r,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(a).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),G.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new yh(0),this.Ur=!1,this.Ur=!0,this.Wr=new XN,this.referenceDelegate=e(this),this.Gr=new eV(this),this.indexManager=new jN,this.remoteDocumentCache=function(o){return new JN(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new MN(t),this.jr=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new YN(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const o=new tV(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return G.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class tV extends MD{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Zr=new Dm,this.Xr=null}static ei(e){return new Nm(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,r=>{const o=we.fromPath(r);return this.ni(e,o).next(a=>{a||t.removeEntry(o,xe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.ri=new Rs(r=>UD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=qN(this,t)}static ei(e,t){return new nh(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?G.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}ir(e,t,r){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Vm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sk()?8:FD(Gt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new nV;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(So()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(So()<=ke.DEBUG&&le("QueryEngine","Query:",Io(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(So()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):G.resolve())}Xi(e,t){if(I_(t))return G.resolve(null);let r=dr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gp(t,null,"F"),r=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Fe(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,d);return this.ss(t,m,u,f.readTime)?this.Xi(e,gp(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,o){return I_(t)||o.isEqual(xe.min())?G.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,o)?G.resolve(null):(So()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.os(e,u,t,ND(o,-1)).next(d=>d))})}rs(e,t){let r=new Et(GE(e));return t.forEach((o,a)=>{Eh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,r){return So()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Io(t)),this.Zi.getDocumentsMatchingQuery(e,t,bi.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ct(Le),this.cs=new Rs(a=>Am(a),Cm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KN(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function sV(n,e,t,r){return new iV(n,e,t,r)}async function mT(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Fe();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:d}))})})}function gT(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function oV(n,e){const t=Oe(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,w)));let P=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(Mt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,r)),o=o.insert(w,P),function(j,V,W){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,P,v)&&d.push(t.Gr.updateTargetData(a,P))});let f=Li(),m=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(aV(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.Es})),!r.isEqual(xe.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return G.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=o,a))}function aV(n,e,t){let r=Fe(),o=Fe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Li();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Is:u,Es:o}})}function lV(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(a=>a?(o=a,G.resolve(o)):t.Gr.allocateTargetId(r).next(u=>(o=new Ii(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Tp(n,e,t){const r=Oe(n),o=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!na(u))throw u;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function O_(n,e,t){const r=Oe(n);let o=xe.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Oe(f),T=w.cs.get(v);return T!==void 0?G.resolve(w.us.get(T)):w.Gr.getTargetData(m,v)}(r,u,dr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?o:xe.min(),t?a:Fe())).next(d=>(uV(r,iN(e),d),{documents:d,ds:a})))}function uV(n,e,t){let r=n.ls.get(e)||xe.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class M_{constructor(){this.activeTargetIds=cN()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cV{constructor(){this._o=new M_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new M_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Nf(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class pV extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,r,o,a,u){const d=Nf(),f=this.No(t,r.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${d}:`,f,o);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,u),this.Bo(t,f,m,o).then(v=>(le("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw $o("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",o),v})}ko(t,r,o,a,u,d){return this.Oo(t,r,o,a,u)}Lo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,r){const o=dV[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,o){const a=Nf();return new Promise((u,d)=>{const f=new bE;f.setWithCredentials(!0),f.listenOnce(DE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cc.NO_ERROR:const v=f.getResponseJson();le(Bt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Cc.TIMEOUT:le(Bt,`RPC '${e}' ${a} timed out`),d(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const w=f.getStatus();if(le(Bt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T==null?void 0:T.error;if(P&&P.status&&P.message){const F=function(V){const W=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN}(P.status);d(new pe(F,P.message))}else d(new pe(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(Bt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);le(Bt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,r,15)})}qo(e,t,r){const o=Nf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=LE(),d=VE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");le(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);let T=!1,P=!1;const F=new fV({Eo:V=>{P?le(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(T||(le(Bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le(Bt,`RPC '${e}' stream ${o} sending:`,V),w.send(V))},Ao:()=>w.close()}),j=(V,W,X)=>{V.listen(W,Q=>{try{X(Q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return j(w,ll.EventType.OPEN,()=>{P||(le(Bt,`RPC '${e}' stream ${o} transport opened.`),F.So())}),j(w,ll.EventType.CLOSE,()=>{P||(P=!0,le(Bt,`RPC '${e}' stream ${o} transport closed`),F.Do())}),j(w,ll.EventType.ERROR,V=>{P||(P=!0,$o(Bt,`RPC '${e}' stream ${o} transport errored:`,V),F.Do(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),j(w,ll.EventType.MESSAGE,V=>{var W;if(!P){const X=V.data[0];rt(!!X);const Q=X,ie=(Q==null?void 0:Q.error)||((W=Q[0])===null||W===void 0?void 0:W.error);if(ie){le(Bt,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let ce=function(A){const b=ft[A];if(b!==void 0)return rT(b)}(se),D=ie.message;ce===void 0&&(ce=ne.INTERNAL,D="Unknown error status: "+se+" with message "+ie.message),P=!0,F.Do(new pe(ce,D)),w.close()}else le(Bt,`RPC '${e}' stream ${o} received:`,X),F.vo(X)}}),j(d,NE.STAT_EVENT,V=>{V.stat===cp.PROXY?le(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===cp.NOPROXY&&le(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.bo()},0),F}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n){return new CN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t,r,o,a,u,d,f){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gV extends mV{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=RN(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Lo(u.readTime):xe.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=N_(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=pp(f)?{documents:kN(a,f)}:{query:bN(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=oT(a,u.resumeToken);const m=_p(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=wp(a,u.snapshotVersion.toTimestamp());const m=_p(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=NN(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=N_(this.serializer),t.removeTarget=e,this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Ep(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())})}ko(e,t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,Ep(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class vV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?($r(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Kl(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Oe(f);m.k_.add(4),await Hl(m),m.K_.set("Unknown"),m.k_.delete(4),await Ah(m)}(this))})}),this.K_=new vV(r,o)}}async function Ah(n){if(Kl(n))for(const e of n.q_)await e(!0)}async function Hl(n){for(const e of n.q_)await e(!1)}function vT(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Fm(t)?Mm(t):ia(t).s_()&&Om(t,e))}function Lm(n,e){const t=Oe(n),r=ia(t);t.B_.delete(e),r.s_()&&_T(t,e),t.B_.size===0&&(r.s_()?r.a_():Kl(t)&&t.K_.set("Unknown"))}function Om(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).V_(e)}function _T(n,e){n.U_.xe(e),ia(n).m_(e)}function Mm(n){n.U_=new SN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.K_.F_()}function Fm(n){return Kl(n)&&!ia(n).i_()&&n.B_.size>0}function Kl(n){return Oe(n).k_.size===0}function wT(n){n.U_=void 0}async function wV(n){n.K_.set("Online")}async function EV(n){n.B_.forEach((e,t)=>{Om(n,e)})}async function TV(n,e){wT(n),Fm(n)?(n.K_.O_(e),Mm(n)):n.K_.set("Unknown")}async function SV(n,e,t){if(n.K_.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await j_(n,r)}else if(e instanceof kc?n.U_.$e(e):e instanceof iT?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(xe.min()))try{const r=await gT(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(m);v&&a.B_.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),_T(a,f);const w=new Ii(v.target,f,m,v.sequenceNumber);Om(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await j_(n,r)}}async function j_(n,e,t){if(!na(e))throw e;n.k_.add(1),await Hl(n),n.K_.set("Offline"),t||(t=()=>gT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Ah(n)})}async function U_(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Kl(t);t.k_.add(3),await Hl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ah(t)}async function IV(n,e){const t=Oe(n);e?(t.k_.delete(2),await Ah(t)):e||(t.k_.add(2),await Hl(t),t.K_.set("Unknown"))}function ia(n){return n.W_||(n.W_=function(t,r,o){const a=Oe(t);return a.b_(),new gV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:wV.bind(null,n),mo:EV.bind(null,n),po:TV.bind(null,n),R_:SV.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Fm(n)?Mm(n):n.K_.set("Unknown")):(await n.W_.stop(),wT(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new jm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ET(n,e){if($r("AsyncQueue",`${e}: ${n}`),na(n))return new pe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.z_=new ct(we.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Go{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Go(e,t,Oo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class AV{constructor(){this.queries=B_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=Oe(t),a=o.queries;o.queries=B_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function B_(){return new Rs(n=>KE(n),wh)}async function CV(n,e){const t=Oe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new xV,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=ET(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Um(t)}async function PV(n,e){const t=Oe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RV(n,e){const t=Oe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(o)&&(r=!0);u.H_=o}}r&&Um(t)}function kV(n,e,t){const r=Oe(n),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(t);r.queries.delete(e)}function Um(n){n.X_.forEach(e=>{e.next()})}var Sp,$_;($_=Sp||(Sp={})).na="default",$_.Cache="cache";class bV{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class DV{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Fe(),this.mutatedKeys=Fe(),this.Va=GE(e),this.ma=new Oo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new z_,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),P=Eh(this.query,w)?w:null,F=!!T&&this.mutatedKeys.has(T.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;T&&P?T.data.isEqual(P.data)?F!==j&&(r.track({type:3,doc:P}),V=!0):this.ya(T,P)||(r.track({type:2,doc:P}),V=!0,(f&&this.Va(P,f)>0||m&&this.Va(P,m)<0)&&(d=!0)):!T&&P?(r.track({type:0,doc:P}),V=!0):T&&!P&&(r.track({type:1,doc:T}),V=!0,(f||m)&&(d=!0)),V&&(P?(u=u.add(P),a=j?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,w)=>function(P,F){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return j(P)-j(F)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(r),o=o!=null&&o;const d=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new Go(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new z_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Fe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new ST(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new TT(r))}),t}va(e){this.da=e.ds,this.Ra=Fe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Go.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class NV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VV{constructor(e){this.key=e,this.Fa=!1}}class LV{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Rs(d=>KE(d),wh),this.Oa=new Map,this.Na=new Set,this.La=new ct(we.comparator),this.Ba=new Map,this.ka=new Dm,this.qa={},this.Qa=new Map,this.Ka=Ko.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function OV(n,e,t=!0){const r=PT(n);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await IT(r,e,t,!0),o}async function MV(n,e){const t=PT(n);await IT(t,e,!0,!1)}async function IT(n,e,t,r){const o=await lV(n.localStore,dr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await FV(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&vT(n.remoteStore,o),d}async function FV(n,e,t,r,o){n.Ua=(w,T,P)=>async function(j,V,W,X){let Q=V.view.ga(W);Q.ss&&(Q=await O_(j.localStore,V.query,!1).then(({documents:D})=>V.view.ga(D,Q)));const ie=X&&X.targetChanges.get(V.targetId),se=X&&X.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(Q,j.isPrimaryClient,ie,se);return W_(j,V.targetId,ce.ba),ce.snapshot}(n,w,T,P);const a=await O_(n.localStore,e,!0),u=new DV(e,a.ds),d=u.ga(a.documents),f=Wl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);W_(n,t,m.ba);const v=new NV(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function jV(n,e,t){const r=Oe(n),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(u=>!wh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Lm(r.remoteStore,o.targetId),Ip(r,o.targetId)}).catch(gh)):(Ip(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function UV(n,e){const t=Oe(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(t.remoteStore,r.targetId))}async function xT(n,e){const t=Oe(n);try{const r=await oV(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?rt(u.Fa):o.removedDocuments.size>0&&(rt(u.Fa),u.Fa=!1))}),await CT(t,r,e)}catch(r){await gh(r)}}function q_(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Oe(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const T of w.J_)T.ea(d)&&(m=!0)}),m&&Um(f)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zV(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ba.get(e),a=o&&o.key;if(a){let u=new ct(we.comparator);u=u.insert(a,Wt.newNoDocument(a,xe.min()));const d=Fe().add(a),f=new Ih(xe.min(),new Map,new ct(Le),u,d);await xT(r,f),r.La=r.La.remove(a),r.Ba.delete(e),zm(r)}else await Tp(r.localStore,e,!1).then(()=>Ip(r,e,t)).catch(gh)}function Ip(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||AT(n,r)})}function AT(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Lm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),zm(n))}function W_(n,e,t){for(const r of t)r instanceof TT?(n.ka.addReference(r.key,e),BV(n,r)):r instanceof ST?(le("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||AT(n,r.key)):Ae()}function BV(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(r),zm(n))}function zm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(tt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new VV(t)),n.La=n.La.insert(t,r),vT(n.remoteStore,new Ii(dr(WE(t.path)),r,"TargetPurposeLimboResolution",yh.oe))}}async function CT(n,e,t){const r=Oe(n),o=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Vm.zi(f.targetId,m);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(o),await async function(f,m){const v=Oe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>G.forEach(m,T=>G.forEach(T.Wi,P=>v.persistence.referenceDelegate.addReference(w,T.targetId,P)).next(()=>G.forEach(T.Gi,P=>v.persistence.referenceDelegate.removeReference(w,T.targetId,P)))))}catch(w){if(!na(w))throw w;le("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const P=v.us.get(T),F=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(F);v.us=v.us.insert(T,j)}}}(r.localStore,a))}async function $V(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await mT(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new pe(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await CT(t,r.Ts)}}function qV(n,e){const t=Oe(n),r=t.Ba.get(e);if(r&&r.Fa)return Fe().add(r.key);{let o=Fe();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const d=t.xa.get(u);o=o.unionWith(d.view.fa)}return o}}function PT(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zV.bind(null,e),e.Ma.R_=RV.bind(null,e.eventManager),e.Ma.Wa=kV.bind(null,e.eventManager),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return sV(this.persistence,new rV,e.initialUser,this.serializer)}ja(e){return new pT(Nm.ei,this.serializer)}za(e){return new cV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class WV extends rh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){rt(this.persistence.referenceDelegate instanceof nh);const r=this.persistence.referenceDelegate.garbageCollector;return new BN(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new pT(r=>nh.ei(r,t),this.serializer)}}class xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$V.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AV}()}createDatastore(e){const t=xh(e.databaseInfo.databaseId),r=function(a){return new pV(a)}(e.databaseInfo);return function(a,u,d,f){return new yV(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new _V(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>q_(this.syncEngine,t,0),function(){return F_.p()?new F_:new hV}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const w=new LV(o,a,u,d,f,m);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Oe(o);le("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Hl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=bD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{le("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ET(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await mT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function H_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GV(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>U_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>U_(e.remoteStore,o)),n._onlineComponents=e}async function GV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new rh)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new WV(void 0));return n._offlineComponents}async function QV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await H_(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await H_(n,new xp))),n._onlineComponents}async function XV(n){const e=await QV(n),t=e.eventManager;return t.onListen=OV.bind(null,e.syncEngine),t.onUnlisten=jV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UV.bind(null,e.syncEngine),t}function YV(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new HV({next:T=>{v.eu(),u.enqueueAndForget(()=>PV(a,w)),T.fromCache&&f.source==="server"?m.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new bV(d,v,{includeMetadataChanges:!0,ua:!0});return CV(a,w)}(await XV(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function JV(n,e,t,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function G_(n){if(we.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function Ap(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ch(n);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SD;switch(r.type){case"firstParty":return new CD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=K_.get(t);r&&(le("ComponentProvider","Removing Datastore"),K_.delete(t),r.terminate())}(this),Promise.resolve()}}function ZV(n,e,t,r={}){var o;const a=(n=Ap(n,Bm))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=qt.MOCK_USER;else{d=JR(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(m)}n._authCredentials=new ID(new OE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class Mo extends sa{constructor(e,t,r){super(e,t,WE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new we(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function eL(n,e,...t){if(n=Gn(n),n instanceof Bm){const r=tt.fromString(e,...t);return G_(r),new Mo(n,null,r)}{if(!(n instanceof Wr||n instanceof Mo))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return G_(r),new Mo(n.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yT(this,"async_queue_retry"),this.fu=()=>{const r=Vf();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Es;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!na(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw $r("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=jm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class kT extends Bm{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new X_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,await e}}}function tL(n,e){const t=typeof n=="object"?n:X1(),r=typeof n=="string"?n:"(default)",o=hm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=XR("firestore");a&&ZV(o,...a)}return o}function nL(n){if(n._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rL(n),n._firestoreClient}function rL(n){var e,t,r;const o=n._freezeSettings(),a=function(d,f,m,v){return new $D(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,RT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new KV(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(Mt.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;function NT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Wm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Cp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(NT(this.Mu)&&iL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class sL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xh(e)}$u(e,t,r,o=!1){return new Wm({Mu:e,methodName:t,Ku:r,path:Ht.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oL(n){const e=n._freezeSettings(),t=xh(n._databaseId);return new sL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aL(n,e,t,r=!1){return Hm(t,n.$u(r?4:3,e))}function Hm(n,e){if(VT(n=Gn(n)))return uL("Unsupported field value:",e,n),lL(n,e);if(n instanceof DT)return function(r,o){if(!NT(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=Hm(d,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:wp(o.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(o.serializer,a)}}if(r instanceof $m)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qo)return{bytesValue:oT(o.serializer,r._byteString)};if(r instanceof Wr){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aT(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof qm)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return Pm(d.serializer,f)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${Ch(r)}`)}(n,e)}function lL(n,e){const t={};return ME(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,(r,o)=>{const a=Hm(o,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function VT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof $m||n instanceof Qo||n instanceof Wr||n instanceof DT||n instanceof qm)}function uL(n,e,t){if(!VT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Ch(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}const cL=new RegExp("[~\\*/\\[\\]]");function hL(n,e,t){if(e.search(cL)>=0)throw Cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bT(...e.split("."))._internalPath}catch{throw Cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cp(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(ne.INVALID_ARGUMENT,d+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Km("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dL extends LT{data(){return super.data()}}function Km(n,e){return typeof e=="string"?hL(n,e):e instanceof bT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class pL extends Gm{}function mL(n,e,...t){let r=[];e instanceof Gm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof Qm).length,d=a.filter(f=>f instanceof Ph).length;if(u>1||u>0&&d>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Ph extends pL{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ph(e,t,r)}_apply(e){const t=this._parse(e);return OT(e._query,t),new sa(e.firestore,e.converter,mp(e._query,t))}_parse(e){const t=oL(e.firestore);return function(a,u,d,f,m,v,w){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){J_(w,v);const P=[];for(const F of w)P.push(Y_(f,a,F));T={arrayValue:{values:P}}}else T=Y_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||J_(w,v),T=aL(d,u,w,v==="in"||v==="not-in");return pt.create(m,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function gL(n,e,t){const r=e,o=Km("where",n);return Ph._create(o,r,t)}class Qm extends Gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)OT(u,f),u=mp(u,f)}(e._query,t),new sa(e.firestore,e.converter,mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Y_(n,e,t){if(typeof(t=Gn(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tt.fromString(t));if(!we.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v_(n,new we(r))}if(t instanceof Wr)return v_(n,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(t)}.`)}function J_(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OT(n,e){const t=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yL{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ra(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>ut(u.doubleValue));return new qm(a)}convertGeoPoint(e){return new $m(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const t=Di(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);rt(fT(r));const o=new bl(r.get(1),r.get(3)),a=new we(r.popFirst(5));return o.isEqual(t)||$r(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vL extends LT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bc extends vL{data(e={}){return super.data(e)}}class _L{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _c(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bc(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _c(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _c(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:wL(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class EL extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,t)}}function TL(n){n=Ap(n,sa);const e=Ap(n.firestore,kT),t=nL(e),r=new EL(e);return fL(n._query),YV(t,n._query).then(o=>new _L(e,r,n,o))}(function(e,t=!0){(function(o){ta=o})(Zo),zo(new Ss("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new kT(new xD(r.getProvider("auth-internal")),new RD(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Pi(d_,"4.7.5",e),Pi(d_,"4.7.5","esm2017")})();const SL={apiKey:"AIzaSyBFhijdzNZQVN3cnxO9ra2vUBm_8sSGCoc",authDomain:"istorie-d86a7.firebaseapp.com",databaseURL:"https://istorie-d86a7-default-rtdb.europe-west1.firebasedatabase.app",projectId:"istorie-d86a7",storageBucket:"istorie-d86a7.firebasestorage.app",messagingSenderId:"432205113421",appId:"1:432205113421:web:6fa2be38d0394963c55404",measurementId:"G-JVH38D96DG"},MT=Q1(SL),Xm=ED(MT),IL=async()=>{const n=new Nr;try{const t=(await k2(Xm,n)).user;console.log("User signed in: ",t.email);const r={displayName:t.displayName,email:t.email,uid:t.uid,medals:[]};return localStorage.setItem("user",JSON.stringify(r)),r}catch(e){throw console.error("Google sign-in error:",e.message),e}},xL=async()=>{try{await c2(Xm),console.log("User signed out"),localStorage.removeItem("user")}catch(n){console.error("Sign-out error:",n.message)}},AL=()=>{const n=JSON.parse(localStorage.getItem("user"));return n||Xm.currentUser},CL=tL(MT),PL=()=>{const[n,e]=H.useState(""),t=oh(),r=async()=>{try{const o=await IL();t("/cont")}catch{e("Eroare la autentificare.")}};return R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-800 to-gray-900 p-6",children:[R.jsx("h1",{className:"text-4xl font-bold text-white mb-8 text-center",children:"Autentificare"}),R.jsxs("div",{className:"flex flex-col items-center w-full sm:w-96  rounded-lg p-8 shadow-xl space-y-6",children:[R.jsxs("button",{onClick:r,className:"w-full py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center space-x-3",children:[R.jsx(sx,{className:"text-xl"}),R.jsx("span",{className:"font-semibold",children:"Autentific-te cu Google"})]}),n&&R.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:n})]})]})},RL=()=>{const[n,e]=H.useState(null),[t,r]=H.useState([]),o=oh();H.useEffect(()=>{const d=AL();e(d),d&&a(d.uid)},[]);const a=async d=>{try{const f=eL(CL,"results"),m=mL(f,gL("userId","==",d)),w=(await TL(m)).docs.map(T=>T.data());r(w)}catch(f){console.error("Eroare la obinerea scorurilor:",f)}},u=async()=>{try{await xL(),o("/login")}catch(d){console.error("Eroare la logout",d)}};return R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-800 to-gray-900 p-6",children:[R.jsxs("h1",{className:"text-4xl font-semibold text-white mb-8",children:["Salut, ",n?n.displayName:"Utilizator"]}),R.jsxs("div",{className:"w-full max-w-3xl bg-gray-800 p-6 rounded-lg shadow-md mb-8",children:[R.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Rezultatele tale la teste:"}),t.length>0?R.jsx("ul",{className:"space-y-4",children:t.map((d,f)=>R.jsxs("li",{className:"flex justify-between bg-gray-700 p-4 rounded-md text-white",children:[R.jsx("span",{className:"font-medium",children:d.test}),R.jsxs("span",{className:"font-semibold",children:[d.score," puncte"]})]},f))}):R.jsx("p",{className:"text-gray-400",children:"Nu ai completat nc niciun test."})]}),R.jsx("button",{onClick:u,className:"py-2 px-6 bg-red-600 text-white rounded-full shadow-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300 transform hover:scale-105",children:"Ieire"})]})},kL=[{question:"Ce a fost romanizarea Daciei i cum a influenat limba romn?",options:["Romanizarea Daciei a dus la pierderea tuturor tradiiilor locale.","Romanizarea a adus influene din limba latin i a transformat cultura Daciei.","Romanizarea a fost un proces strict militar, fr impact asupra limbii."],answer:"Romanizarea a adus influene din limba latin i a transformat cultura Daciei."},{question:"Care a fost impactul romanizrii asupra limbii romne?",options:["Limba romn nu a fost influenat de latin.","Romanizarea a transformat complet limba romn ntr-o limb strin.","Limba romn are rdcini latineti, iar cuvintele romane sunt vizibile n vocabular."],answer:"Limba romn are rdcini latineti, iar cuvintele romane sunt vizibile n vocabular."},{question:"Cum s-au manifestat influenele romane n oraele Daciei?",options:["Oraele Daciei nu au fost afectate de influenele romane.","Oraele romane au fost construite n stil grecesc, nu latin.","Oraele romane au reflectat influene romane n arhitectur i administrare."],answer:"Oraele romane au reflectat influene romane n arhitectur i administrare."},{question:"Ce cuvinte din limba romn provin din latin i ce semnificaie au?",options:["Cuvintele romneti nu au legtura cu limba latin.","Cuvinte ca 'civis' i 'legis' reflect motenirea latin.","Limba romn a preluat cuvinte doar din limba greac."],answer:"Cuvinte ca 'civis' i 'legis' reflect motenirea latin."},{question:"Care sunt unele dintre influenele lingvistice moderne asupra limbii romne?",options:["Limba romn a rmas pur latin fr influene externe.","Cuvinte ca 'banca' i 'coal' reflect influene din alte culturi.","Limba romn este complet influenat de limba italian."],answer:"Cuvinte ca 'banca' i 'coal' reflect influene din alte culturi."},{question:"Cum au contribuit legiunile romane la romanizarea Daciei?",options:["Legiunile romane nu au avut niciun impact asupra romanizrii.","Legiunile romane au distrus complet cultura local.","Legiunile romane au contribuit la construirea drumurilor i oraelor romane."],answer:"Legiunile romane au contribuit la construirea drumurilor i oraelor romane."},{question:"Care este legtura ntre romanizarea Daciei i dezvoltarea limbii romne moderne?",options:["Limba romn modern nu are nicio legtur cu romanizarea Daciei.","Romanizarea a dus la apariia unei limbi complet diferite.","Limba romn modern este direct rezultatul influenelor latine."],answer:"Limba romn modern este direct rezultatul influenelor latine."},{question:"De ce cuvintele de origine latin sunt eseniale pentru nelegerea limbii romne?",options:["Cuvintele latine nu sunt importante pentru limba romn.","Cuvintele latine au fost nlocuite de termeni din alte limbi.","Cuvintele latine sunt fundamentale pentru limba romn i comunicare."],answer:"Cuvintele latine sunt fundamentale pentru limba romn i comunicare."},{question:"Care au fost principalele provincii romane care au contribuit la romanizarea Daciei?",options:["Dacia a fost romanizat exclusiv de Imperiul Grec.","Provinciile Moesia i Pannonia au avut un rol major n romanizare.","Romanizarea Daciei nu a implicat alte provincii romane."],answer:"Provinciile Moesia i Pannonia au avut un rol major n romanizare."},{question:"Cum se reflect influenele romane n cultura i tradiiile romneti?",options:["Influenele romane nu sunt vizibile n cultura romneasc.","Cultura romneasc a evoluat complet separat de influenele romane.","Arhitectura i tradiiile romneti pstreaz elemente romane."],answer:"Arhitectura i tradiiile romneti pstreaz elemente romane."}],nl={questions:kL},bL=()=>{const[n,e]=H.useState(Array(nl.questions.length).fill(null)),[t,r]=H.useState(!1),o=(u,d)=>{const f=[...n];f[u]=d,e(f)},a=()=>{n.forEach((u,d)=>{nl.questions[d].answer}),r(!0)};return R.jsxs("div",{className:"min-h-screen bg-black text-white p-8 space-y-12",children:[R.jsx("h1",{className:"text-5xl font-serif text-white drop-shadow-lg text-center mb-12",children:"Test despre romanizare"}),t?R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Rezultatul tu"}),R.jsxs("p",{className:"text-xl",children:["Ai obinut ",n.filter((u,d)=>u===nl.questions[d].answer).length," din ",nl.questions.length," puncte!"]})]}):R.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg max-w-4xl mx-auto space-y-8",children:[nl.questions.map((u,d)=>R.jsxs("div",{className:"space-y-6",children:[R.jsx("h2",{className:"text-2xl font-medium",children:u.question}),R.jsx("div",{className:"space-y-4",children:u.options.map((f,m)=>R.jsx("button",{onClick:()=>o(d,f),className:`w-full p-4 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-all duration-300 ${n[d]===f?"bg-gray-600":""}`,children:f},m))})]},d)),R.jsx("div",{className:"text-center mt-8",children:R.jsx("button",{onClick:a,className:"px-8 py-4 bg-blue-500 text-white rounded-md hover:bg-blue-400 transition-all duration-300",children:"Vezi Rezultatul"})})]})]})},DL=[{question:"Care a fost impactul rzboaielor daco-romane asupra organizrii politice i economice a Daciei?",options:["Aducerea unei structuri centralizate i crearea de coloni romane","Scderea influenei romane i apariia unui regat independent","ntrirea autonomiei triburilor daco-romane","Crearea unui sistem de aliane ntre triburi i Imperiul Roman"],answer:"Aducerea unei structuri centralizate i crearea de coloni romane"},{question:"Cum a influenat politica de romanizare limbajul i cultura populaiei autohtone?",options:["A condus la formarea limbii romne, care a preluat multe elemente latine","A adus un sistem scris pe care dacii nu l aveau anterior","A dus la dispariia culturii autohtone i nlocuirea ei cu cea roman","A condus la mbogirea limbii dacice cu elemente greceti"],answer:"A condus la formarea limbii romne, care a preluat multe elemente latine"},{question:"Care a fost rolul lui Decebal n protejarea Daciei mpotriva expansiunii romane?",options:["A ntrit relaiile cu triburile vecine pentru a crea o alian puternic","A negociat o pace cu Imperiul Roman i a acceptat nfrngerea","A condus o serie de rezistene militare, dar a fost nfrnt n final de Traian","A adoptat tactici de lupte navale pentru a apra graniele Daciei"],answer:"A condus o serie de rezistene militare, dar a fost nfrnt n final de Traian"},{question:"Cum a contribuit romanizarea la formarea identitii naionale a romnilor?",options:["Prin preluarea complet a stilurilor de via romane i nlocuirea culturii autohtone","Prin dezvoltarea unei noi religii care combina elemente romane i daco-getice","Prin formarea unei culturi mixte, cu elemente latine, dar pstrnd tradiiile locale","Prin negarea complet a motenirii culturale daco-getice"],answer:"Prin formarea unei culturi mixte, cu elemente latine, dar pstrnd tradiiile locale"},{question:"Ce importan au avut rzboaiele daco-romane n cadrul expansiunii Imperiului Roman n Europa?",options:["Au marcat nceputul dominaiei romane n Balcani i estul Europei","Au dus la crearea primelor provincii romane n zona de nord a Africii","Au stabilit graniele finale ale Imperiului Roman n estul Europei","Au reprezentat un conflict minor, fr consecine semnificative asupra politicii romane"],answer:"Au marcat nceputul dominaiei romane n Balcani i estul Europei"},{question:"Ce tehnici militare au fost folosite de Imperiul Roman n rzboaiele cu Dacia, iar care au fost reaciile lui Decebal?",options:["Romanii au folosit tacticile de asediu, iar Decebal a aplicat o strategie de lupt n zone montane","Romanii au preferat btlii navale, iar Decebal a folosit strategii de lupt de gheril","Romanii au folosit doar legiuni de infanterie grea, iar Decebal s-a concentrat pe aprarea forturilor","Romanii au folosit tactici de lupt psihologic, iar Decebal a aplicat strategii diplomatice"],answer:"Romanii au folosit tacticile de asediu, iar Decebal a aplicat o strategie de lupt n zone montane"},{question:"Ce elemente culturale din perioada roman sunt vizibile n tradiiile i obiceiurile romneti de astzi?",options:["Folosirea limbii latine n mod curent","Influene n arhitectur, inclusiv utilizarea columnei i a arcurilor","Traditii de organizare politic inspirate de structura republican roman","Pstrarea zeilor romani n mitologia popular"],answer:"Influene n arhitectur, inclusiv utilizarea columnei i a arcurilor"},{question:"Care a fost semnificaia btliei de la Tapae n contextul rzboaielor daco-romane?",options:["A marcat nfrngerea decisiv a romanilor n faa dacilor","A fost prima mare victorie a romanilor asupra Daciei","A fost o btlie minor fr impact strategic semnificativ","A condus la crearea unui tratat de pace ntre Dacia i Imperiul Roman"],answer:"A fost prima mare victorie a romanilor asupra Daciei"},{question:"Cum a influenat moartea lui Burebista evoluia Daciei?",options:["A dus la divizarea Daciei n mai multe regate i la instabilitate intern","A consolidat regatul dacic, pregtind Dacia pentru un conflict deschis cu Roma","A fost un moment de ntrire a puterii centrale sub conducerea unui succesor direct","A permis romanilor s controleze regiunile estice ale Daciei fr conflicte majore"],answer:"A dus la divizarea Daciei n mai multe regate i la instabilitate intern"},{question:"Care a fost rolul legiunilor romane n implementarea politicii de romanizare a Daciei?",options:["Au adus o for militar pentru a apra teritoriul romanizat","Au introdus metode agricole i tehnologice avansate n Dacia","Au impus taxele i au organizat administrativ teritoriile romanizate","Au construit reele de ap i canalizare pentru a mbunti viaa local"],answer:"Au impus taxele i au organizat administrativ teritoriile romanizate"}],rl={questions:DL},NL=()=>{const[n,e]=H.useState(Array(rl.questions.length).fill(null)),[t,r]=H.useState(!1),o=(u,d)=>{const f=[...n];f[u]=d,e(f)},a=()=>{n.forEach((u,d)=>{rl.questions[d].answer}),r(!0)};return R.jsxs("div",{className:"min-h-screen bg-black text-white p-8 space-y-12",children:[R.jsx("h1",{className:"text-5xl font-serif text-white drop-shadow-lg text-center mb-12",children:"Test despre rzboi"}),t?R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Rezultatul tu"}),R.jsxs("p",{className:"text-xl",children:["Ai obinut ",n.filter((u,d)=>u===rl.questions[d].answer).length," din ",rl.questions.length," puncte!"]})]}):R.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg max-w-4xl mx-auto space-y-8",children:[rl.questions.map((u,d)=>R.jsxs("div",{className:"space-y-6",children:[R.jsx("h2",{className:"text-2xl font-medium",children:u.question}),R.jsx("div",{className:"space-y-4",children:u.options.map((f,m)=>R.jsx("button",{onClick:()=>o(d,f),className:`w-full p-4 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-all duration-300 ${n[d]===f?"bg-gray-600":""}`,children:f},m))})]},d)),R.jsx("div",{className:"text-center mt-8",children:R.jsx("button",{onClick:a,className:"px-8 py-4 bg-blue-500 text-white rounded-md hover:bg-blue-400 transition-all duration-300",children:"Vezi Rezultatul"})})]})]})},VL=[{question:"Ce influen a avut romanizarea asupra limbii romne?",options:["A fost sursa principal a limbii romne.","Nu a avut niciun impact semnificativ.","A adus doar influene n vocabularul limbei romne.","A nlocuit complet limbile locale."],answer:"A fost sursa principal a limbii romne."},{question:"Care a fost rolul limbii latine n procesul de romanizare?",options:["A fost limba oficial a imperiului, influennd cultura local.","A fost ignorat n totalitate de populaia local.","A fost folosit doar n administraie, fr influene asupra limbii vorbite.","A fost nlocuit rapid de limba dacic."],answer:"A fost limba oficial a imperiului, influennd cultura local."},{question:"Ce elemente culturale au fost aduse de romanizare n afar de limb?",options:["Organizarea religioas.","Tradiiile, obiceiurile i organizarea administrativ.","Un nou sistem de nvmnt.","Arta de a construi ceti de piatr."],answer:"Tradiiile, obiceiurile i organizarea administrativ."},{question:"Cum se numea un important ora roman din Dacia?",options:["Micia.","Ulpia Traiana Sarmizegetusa.","Drobeta.","Pele."],answer:"Ulpia Traiana Sarmizegetusa."},{question:"Ce rol au avut drumurile romane n Dacia?",options:["Nu au avut o importan major.","Au ajutat la deplasarea legiunilor i au sprijinit dezvoltarea economic.","Au fost folosite doar pentru transportul cetenilor romani.","Au fost abandonate imediat dup retragerea romanilor."],answer:"Au ajutat la deplasarea legiunilor i au sprijinit dezvoltarea economic."},{question:"Cum influeneaz religia formarea identitii naionale a romnilor?",options:["Nu a avut nicio influen semnificativ.","A fost un factor esenial n definirea culturii i valorilor romnilor.","A fost un factor secundar, fr importan major.","A fost doar un element extern adus de invadatori."],answer:"A fost un factor esenial n definirea culturii i valorilor romnilor."},{question:"Ce reprezenta Biserica n perioada roman pentru populaia local?",options:["Un loc de cult specific romnilor.","Un element cheie al unitii i continuitii culturale.","Un loc de adunare pentru romanii care invadaser Dacia.","Un simbol al opoziiei mpotriva Imperiului Roman."],answer:"Un element cheie al unitii i continuitii culturale."},{question:"Cum contribuie motenirea daco-roman la identitatea naional a romnilor?",options:["Este irelevant pentru cultura actual.","A avut un impact marginal asupra tradiiilor romneti.","Este o component esenial a identitii naionale a romnilor.","A fost complet uitat n perioada modern."],answer:"Este o component esenial a identitii naionale a romnilor."},{question:"Ce motenire important a lsat Imperiul Roman n infrastructura Daciei?",options:["Tehnologii moderne de construcie.","Drumuri romane i orae romane.","Sisteme de ap i canalizare.","O reea de biblioteci publice."],answer:"Drumuri romane i orae romane."},{question:"Care este rolul motenirii culturale daco-romane n Romnia de azi?",options:["Este un simbol cultural neneles.","Este folosit doar n scopuri turistice.","Este un element esenial al identitii naionale i culturale.","Este complet pierdut n faa influenelor externe."],answer:"Este un element esenial al identitii naionale i culturale."}],il={questions:VL},LL=()=>{const[n,e]=H.useState(Array(il.questions.length).fill(null)),[t,r]=H.useState(!1),o=(u,d)=>{const f=[...n];f[u]=d,e(f)},a=()=>{n.forEach((u,d)=>{il.questions[d].answer}),r(!0)};return R.jsxs("div",{className:"min-h-screen bg-black text-white p-8 space-y-12",children:[R.jsx("h1",{className:"text-5xl font-serif text-white drop-shadow-lg text-center mb-12",children:"Test despre motenire"}),t?R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Rezultatul tu"}),R.jsxs("p",{className:"text-xl",children:["Ai obinut ",n.filter((u,d)=>u===il.questions[d].answer).length," din ",il.questions.length," puncte!"]})]}):R.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg max-w-4xl mx-auto space-y-8",children:[il.questions.map((u,d)=>R.jsxs("div",{className:"space-y-6",children:[R.jsx("h2",{className:"text-2xl font-medium",children:u.question}),R.jsx("div",{className:"space-y-4",children:u.options.map((f,m)=>R.jsx("button",{onClick:()=>o(d,f),className:`w-full p-4 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-all duration-300 ${n[d]===f?"bg-gray-600":""}`,children:f},m))})]},d)),R.jsx("div",{className:"text-center mt-8",children:R.jsx("button",{onClick:a,className:"px-8 py-4 bg-blue-500 text-white rounded-md hover:bg-blue-400 transition-all duration-300",children:"Vezi Rezultatul"})})]})]})};function OL(){return R.jsxs("div",{children:[R.jsx(ux,{}),R.jsxs(zI,{children:[R.jsx(gn,{path:"/",element:R.jsx(fx,{})}),R.jsx(gn,{path:"/start",element:R.jsx(Sv,{})}),R.jsx(gn,{path:"/razboaiele_daco-romane",element:R.jsx(UR,{})}),R.jsx(gn,{path:"/romanizarea",element:R.jsx(zR,{})}),R.jsx(gn,{path:"/mostenirea",element:R.jsx(BR,{})}),R.jsx(gn,{path:"/start",element:R.jsx(Sv,{})}),R.jsx(gn,{path:"/login",element:R.jsx(PL,{})}),R.jsx(gn,{path:"/cont",element:R.jsx(RL,{})}),R.jsx(gn,{path:"*",element:R.jsx(px,{})}),R.jsx(gn,{path:"/test-romanizarea",element:R.jsx(bL,{})}),R.jsx(gn,{path:"/test-razboi",element:R.jsx(NL,{})}),R.jsx(gn,{path:"/test-mostenirea",element:R.jsx(LL,{})})]})]})}XS.createRoot(document.getElementById("root")).render(R.jsx(H.StrictMode,{children:R.jsxs(GI,{children:[" ",R.jsx(OL,{})]})}));
